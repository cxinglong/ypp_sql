{"version":3,"sources":["webpack:///static/js/2.230a97691f32280961ba.js","webpack:///./~/iview/src/utils/assist.js?511a","webpack:///col.vue?3c0f","webpack:///./~/iview/src/components/grid/col.vue?a5af*","webpack:///./~/iview/src/components/grid/col.vue?4066*","webpack:///(webpack)/buildin/amd-define.js?0bba","webpack:///editor.vue?6777","webpack:///./~/brace/ext/emmet.js?dcda","webpack:///./~/brace/ext/language_tools.js?d72a","webpack:///./~/brace/index.js?b463","webpack:///./~/brace/mode/mysql.js?8225","webpack:///./~/brace/theme/xcode.js?016f","webpack:///./src/libs/editor.vue?4edc*","webpack:///./src/libs/editor.vue?8f6f*","webpack:///./src/libs/editor.vue","webpack:///./src/libs/editor.vue?6308*","webpack:///GenSQL.vue","webpack:///editTable.vue","webpack:///./src/components/Order/GenSQL.vue?fd9d","webpack:///./src/components/Order/components/editTable.vue?bf87","webpack:///./src/components/Order/GenSQL.vue?d002","webpack:///./src/components/Order/components/editTable.vue?133a","webpack:///./src/components/Order/components/editTable.vue","webpack:///./src/components/Order/GenSQL.vue?9806","webpack:///./src/components/Order/components/editTable.vue?7a66","webpack:///./src/components/Order/GenSQL.vue"],"names":["webpackJsonp","123","module","exports","__webpack_require__","oneOf","value","validList","i","length","camelcaseToHyphen","str","replace","toLowerCase","getScrollBarSize","fresh","isServer","undefined","cached","inner","document","createElement","style","width","height","outer","outerStyle","position","top","left","pointerEvents","visibility","overflow","appendChild","body","widthContained","offsetWidth","widthScroll","clientWidth","removeChild","camelCase","name","SPECIAL_CHARS_REGEXP","_","separator","letter","offset","toUpperCase","MOZ_HACK_REGEXP","getStyle","element","styleName","computed","defaultView","getComputedStyle","e","firstUpperCase","toString","slice","warnProp","component","prop","correctType","wrongType","console","error","typeOf","obj","Object","prototype","[object Boolean]","[object Number]","[object String]","[object Function]","[object Array]","[object Date]","[object RegExp]","[object Undefined]","[object Null]","[object Object]","call","deepCopy","data","t","o","push","scrollTop","el","scroll","start","end","step","d","window","scrollTo","requestAnimationFrame","from","arguments","to","duration","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","difference","Math","abs","ceil","findComponentUpward","context","componentName","componentNames","parent","$parent","$options","indexOf","findComponentDownward","childrens","$children","children","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","child","err","return","findComponentsDownward","reduce","components","foundChilds","concat","findComponentsUpward","parents","findBrothersComponents","exceptMe","res","filter","item","index","findIndex","_uid","splice","hasClass","cls","Error","classList","contains","className","addClass","curClass","classes","split","j","clsName","add","removeClass","remove","trim","setMatchMedia","matchMediaPolyfill","mediaQuery","media","matches","on","off","matchMedia","defineProperty","dimensionMap","MutationObserver","_vue","_vue2","__esModule","default","Vue","$isServer","WebKitMutationObserver","MozMutationObserver","string","xs","sm","md","lg","xl","128","_defineProperty","key","enumerable","configurable","writable","_typeof","constructor","_assist","props","span","Number","String","order","pull","gutter","_ref","_this","this","prefixCls","forEach","size","keys","styles","paddingLeft","paddingRight","methods","updateGutter","Row","mounted","beforeDestroy","131","Component","132","render","_vm","_h","$createElement","_self","_c","class","_t","staticRenderFns","143","155","then","__WEBPACK_AMD_REQUIRE_ARRAY__","emmet","apply","catch","oe","ace","type","required","editor","contentBackup","watch","val","setValue","theme","newTheme","setTheme","lang","newLang","getSession","setMode","vm","edit","$el","$emit","staticWordCompleter","getCompletions","session","pos","prefix","completers","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","$blockScrolling","Infinity","setFontSize","setOption","content","getValue","156","define","acequire","oop","EventEmitter","Range","Anchor","HashHandler","Tokenizer","comparePoints","SnippetManager","snippetMap","snippetNameMap","implement","getTokenizer","TabstopToken","stack","substr","test","inFormatString","tabstopId","parseInt","text","escape","ch","$tokenizer","regex","onMatch","state","expectIf","elseBranch","changeCase","local","shift","unshift","token","merge","snippetVar","choices","ts","fmtString","splitRegex","exec","guard","fmt","flag","code","formatString","tokenizeTmSnippet","startState","getLineTokens","tokens","map","x","$getDefaultValue","variables","__","s","r","getWordRange","getTextRange","getLine","getCursorPosition","row","column","getUseSoftTabs","getTabSize","getVariableValue","varName","hasOwnProperty","tmStrFormat","re","RegExp","fmtTokens","formatted","fmtParts","resolveVariables","gChangeCase","join","snippet","gotoNext","i1","result","skip","processed","insertSnippetForSelection","snippetText","cursor","line","tabString","getTabString","indentString","match","tabstops","p","id","some","expanding","arg","copy","lastIndexOf","max","lines","range","getSelectionRange","tabstopManager","TabstopManager","selectionId","inVirtualSelectionMode","selection","addTabstops","insertSnippet","self","forEachSelection","keepOrder","tabNext","$getScope","scope","$mode","$id","pop","inlinePhp","c","getState","substring","getActiveScopes","scopes","includeScopes","expandWithTab","options","expandSnippetForSelection","before","after","snippets","findMatchingSnippet","dryRun","doc","removeInLine","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","snippetList","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","src","guardedRegexp","opening","addSnippet","old","unregister","tabTrigger","trigger","escapeRegExp","endTrigger","endGuard","Array","isArray","_signal","removeSnippet","nameMap","parseSnippetFile","m","list","JSON","parse","guardRe","getSnippetByName","$onChange","onChange","bind","$onChangeSelection","delayedCall","onChangeSelection","schedule","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","attach","ranges","$openTabstops","selectedTabstop","commands","keyBinding","addKeyboardHandler","keyboardHandler","detach","removeTabstopMarkers","removeListener","removeKeyboardHandler","delta","isRemove","action","startRow","endRow","lineDif","colDiff","$inChange","removeRange","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","snippetManager","original","command","readOnly","lead","anchor","isEmpty","containsLead","containsAnchor","dir","min","selectTabstop","addTabstopMarkers","setRange","sel","multiSelect","toSingleRange","clone","addRange","fromPoints","moveRelative","dest","movePoint","tabstop","markerId","addMarker","removeMarker","bindKeys","Tab","ed","Shift-Tab","Esc","Return","changeTracker","setPosition","update","$insertRight","point","diff","importCssString","Editor","expandSnippet","AceEmmetEditor","emmetPath","setupContext","indentation","resources","require","setVariable","$syntax","getSyntax","positionToIndex","createSelection","indexToPosition","getCurrentLineRange","lineLength","getCaretPos","setCaretPos","moveToPosition","getCurrentLine","replaceContent","noIndent","getContent","$updateTabstops","syntax","$modeId","getProfileName","profile","getVariable","getLines","search","mode","emmetConfig","prompt","_x","_prompt","title","getSelection","getFilePath","zeroBase","lastZero","tabStops","settings","getVocabulary","tabstopOptions","group","isZero","placeholder","processText","common","utils","replaceSubstring","keymap","expand_abbreviation","mac","win","match_pair_outward","match_pair_inward","matching_pair","next_edit_point","prev_edit_point","toggle_comment","split_join_tag","remove_tag","evaluate_math_expression","increment_number_by_1","decrement_number_by_1","increment_number_by_01","decrement_number_by_01","increment_number_by_10","decrement_number_by_10","select_next_item","select_previous_item","reflect_css_value","encode_decode_data_url","expand_abbreviation_with_tab","wrap_with_abbreviation","editorProxy","runEmmetCommand","actions","getTokenAt","run","load","message","log","addCommand","bindKey","multiSelectAction","updateCommands","enabled","isSupportedMode","isAvailable","isSupported","$modes","onChangeMode","target","enableEmmet","cb","loadModule","defineOptions","set","setCore","157","Renderer","VirtualRenderer","event","dom","$singleLineEditor","renderer","$maxLines","setHighlightActiveLine","setShowPrintMargin","setShowGutter","setHighlightGutterLine","$mouseHandler","$focusWaitTimout","$highlightTagPending","AcePopup","parentNode","popup","display","setStyle","noop","focus","$isFocused","$cursorLayer","restartTimer","opacity","$keepTextAreaAtCursor","highlight","$searchHighlight","clazz","getDocumentPosition","selectionMarker","stop","lastMouseEvent","hoverMarker","setSelectOnHover","y","setRow","setHoverMarker","$pos","getRow","$textLayer","selected","childNodes","config","firstRow","selectedNode","removeCssClass","addCssClass","hideHoverMarker","suppressRedraw","_emit","getHoveredRow","addListener","container","getLength","bgTokenizer","$tokenizeRow","caption","last","matchMask","meta","maxW","$size","scrollerWidth","layerConfig","characterWidth","metaData","$updateOnChange","$computeWidth","screenWidth","isOpen","isTopdown","autoSelect","setData","stringRepeat","getData","clearSelection","moveCursorTo","scrollCursorIntoView","hide","show","lineHeight","topdownOnly","screenHeight","innerHeight","innerWidth","maxH","$borderSize","$maxPixelHeight","bottom","checkForSizeChanges","getTextLeftOffset","$padding","$imageSize","parForEach","array","fn","completed","arLength","ID_REGEX","retrievePrecedingIdentifier","buf","reverse","retrieveFollowingIdentifier","getCompletionPrefix","completer","identifierRegexps","identifierRegex","util","Autocomplete","autoInsert","exactMatch","gatherCompletionsId","blurListener","changeListener","mousedownListener","mousewheelListener","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","$init","documentElement","insertMatch","getPopup","openPopup","keepPopupPosition","completions","filtered","getTheme","getFontSize","getPixelPosition","base","rect","getBoundingClientRect","scrollLeft","gutterWidth","cancel","hideDocTooltip","activated","activeElement","textInput","getElement","fromTooltip","relatedTarget","tooltipNode","goTo","where","filterText","getAllRanges","execCommand","Up","Down","Ctrl-Up|Ctrl-Home","Ctrl-Down|Ctrl-End","Shift-Return","deleteSuffix","PageUp","gotoPageUp","PageDown","gotoPageDown","gatherCompletions","createAnchor","total","results","finished","showPopup","setFilter","_id","detachIfFinished","FilteredList","cancelContextMenu","all","getDocTooltip","docText","docHTML","showDocTooltip","margin","tabIndex","onblur","onclick","onTooltipClick","innerHTML","textContent","right","isFocused","a","nodeName","href","rel","startCommand","filterCompletions","sort","b","score","prev","items","needle","upper","lower","loop","distance","lastIndex","penalty","i2","getWordIndex","wordDistance","prefixPos","words","wordScores","create","currentWord","word","idx","wordScore","textCompleter","keyWordCompleter","snippetCompleter","escapeHTML","setCompleters","addCompleter","loadSnippetsForMode","files","loadSnippetFile","modes","snippetFilePath","doLiveAutocomplete","hasCompleter","removeCommand","enableSnippets","158","global","deps","payload","trace","modules","payloads","_acequire","parentId","lookup","params","l","dep","packagedModule","normalizeModule","moduleName","chunks","charAt","previous","mod","uri","packaged","ns","root","getNativeFlags","ignoreCase","multiline","extended","sticky","real","compliantExecNpcg","compliantLastIndexIncrement","r2","source","_xregexp","captureNames","Empty","doesDefinePropertyWork","object","exception","toInteger","n","floor","Function","that","TypeError","args","bound","defineGetter","defineSetter","lookupGetter","lookupSetter","supportsAccessors","prototypeOfArray","prototypeOfObject","_toString","owns","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","makeArray","lengthBefore","array_splice","deleteCount","removeCount","removed","insert","tailOldPos","tailNewPos","tailCount","lengthAfterRemove","boxedString","splitString","fun","toObject","thisp","every","reduceRight","sought","getPrototypeOf","__proto__","getOwnPropertyDescriptor","property","descriptor","getter","setter","get","getOwnPropertyNames","createEmpty","empty","propertyIsEnumerable","isPrototypeOf","toLocaleString","valueOf","properties","Type","defineProperties","definePropertyWorksOnObject","definePropertyWorksOnDom","definePropertyFallback","seal","freeze","freezeObject","preventExtensions","isSealed","isFrozen","isExtensible","returnValue","hasDontEnumBug","dontEnums","dontEnumsLength","ii","dontEnum","Date","now","getTime","ws","trimBeginRegexp","trimEndRegexp","getDocumentHead","head","getElementsByTagName","tag","createElementNS","hasCssClass","toggleCssClass","setCssClass","node","include","hasCssString","sheets","createStyleSheet","styleSheets","owningElement","cssText","createTextNode","importCssStylsheet","link","getInnerWidth","computedStyle","getInnerHeight","clientHeight","scrollbarWidth","minWidth","noScrollbar","withScrollbar","pageYOffset","getPageScrollTop","getPageScrollLeft","pageXOffset","currentStyle","setInnerHtml","innerHtml","cloneNode","replaceChild","setInnerText","innerText","getInnerText","getParentWindow","parentWindow","inherits","ctor","superCtor","super_","mixin","proto","Keys","ret","MODIFIER_KEYS","16","17","18","224","KEY_MODS","ctrl","alt","option","super","cmd","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","-13","112","113","114","115","116","117","118","119","120","121","122","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","enter","esc","del","mods","pow","keyCodeToString","keyCode","keyString","fromCharCode","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","navigator","os","platform","ua","userAgent","isWin","isIE","appName","parseFloat","isOldIE","isGecko","isMozilla","Controllers","controllers","product","isOldGecko","isOpera","opera","isWebKit","isChrome","isAIR","isIPad","isChromeOS","isIOS","MSStream","normalizeCommandKeys","hashId","getModifierHash","useragent","pressedKeys","getModifierState","altGr","location","keyLocation","timeStamp","dt","defaultPrevented","resetPressedKeys","elem","addEventListener","attachEvent","wrapper","_wrapper","removeEventListener","detachEvent","stopEvent","stopPropagation","preventDefault","cancelBubble","getButton","ctrlKey","altKey","shiftKey","button","1","2","4","capture","eventHandler","releaseCaptureHandler","onMouseUp","addTouchMoveListener","startx","starty","touches","touchObj","clientX","clientY","wheelX","wheelY","addMouseWheelListener","wheelDeltaX","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","onMousedown","clicks","isNewClick","startX","startY","timer","clearTimeout","_clicks","eventNames","onDblclick","3","metaKey","getModifierString","addCommandKeyListener","lastKeyDownKeyCode","lastDefaultPrevented","postMessage","nextTick","listener","nextFrame","oRequestAnimationFrame","stringReverse","count","stringTrimLeft","stringTrimRight","copyObject","copyArray","arrayToMap","arr","createMap","arrayRemove","getMatchOffsets","regExp","deferredCall","fcn","deferred","timeout","isPending","defaultTimeout","delay","KEYS","MODS","BROKEN_SETDATA","USE_IE_MIME_TYPE","TextInput","host","resetSelection","inComposition","inputHandler","selectionStart","selectionEnd","setSelectionRange","resetValue","PLACEHOLDER","syncValue","onContextMenuClose","closeTimeout","tempStyle","$moveTextAreaToCursor","isTouchPad","setAttribute","insertBefore","firstChild","copied","cut","pasted","isSelectionEmpty","onBlur","onFocus","blur","syncSelection","isAllSelected","onSelect","selectAll","setInputHandler","getInputHandler","afterContextMenu","sendText","onPaste","onTextInput","onInput","handleClipboardData","forceIEMime","clipboardData","mime","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","onCompositionStart","$readOnly","canUndo","$undoManager","onCompositionUpdate","onCompositionEnd","markUndoGroup","lastValue","undo","getRange","syncComposition","setReadOnly","onContextMenu","domEvent","moveToMouse","bringToFront","borderTopWidth","borderLeftWidth","maxTop","move","scroller","typingResetTimeout","typing","detectArrowKeys","up","home","down","TextInputIOS","DefaultHandlers","mouseHandler","$clickSelection","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","onTouchMove","selectByLines","extendSelectionBy","selectByWords","calcDistance","ax","ay","bx","by","sqrt","calcRangeOrientation","cmp","ev","inSelection","mousedownEvent","selectionRange","selectionEmpty","time","$focusTimout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","setCapture","comparePoint","orientedRange","setSelectionAnchor","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","getBracketRange","isMultiLine","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","direction","canScroll","isScrollableBy","speed","isSlower","scrollBy","Tooltip","$element","$parentNode","setText","setHtml","html","setClassName","getHeight","offsetHeight","getWidth","destroy","GutterHandler","showTooltip","mouseEvent","annotation","$annotations","hideTooltip","screenRow","pixelToScreenCoordinates","documentToScreenRow","tooltipAnnotation","tooltip","$tooltipFollowsMouse","moveTooltip","gutterElement","tooltipTimeout","$gutterLayer","GutterTooltip","getRegion","selectTo","srcElement","isMousePressed","$gutter","windowWidth","windowHeight","MouseEvent","$inSelection","propagationStopped","DragdropHandler","prevCursor","vMovement","hMovement","cursorMovedTime","moveCursorToPosition","cursorPointOnCaretMoved","SCROLL_CURSOR_HYSTERESIS","SCROLL_CURSOR_DELAY","autoScroll","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScrollStartTime","AUTOSCROLL_DELAY","onDragInterval","dragCursor","addDragMarker","toOrientedRange","dragSelectionMarker","getSelectionStyle","setBlinking","clearInterval","timerId","setInterval","counter","onMouseMove","clearDragMarker","fromOrientedRange","isInternal","getReadOnly","onMouseMoveTimer","canAccept","dataTransfer","types","getDropEffect","copyAllowed","moveAllowed","copyModifierState","effectAllowed","dropEffect","blankImage","dragOperation","mouseTarget","onDragStart","cancelDrag","draggable","setDragImage","clearData","onDragEnd","setCursorStyle","onDragEnter","onDragOver","onDragLeave","onDrop","moveText","dropData","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","dragDrop","$dragEnabled","eventTarget","unselectable","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","onload","isAbort","qualifyURL","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","handlers","_disabled_","disabled","removeDefaultHandler","capturing","removeAllListeners","warn","reportError","msg","optionsProvider","optList","getOptions","optionNames","getOption","opt","forwardTo","handlesSet","AppConfig","$defaultOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","init","scriptOptions","scriptUrl","currentScript","_currentScript","currentDocument","ownerDocument","scripts","script","getAttribute","attributes","attr","deHyphenate","basePath","workerPath","modePath","themePath","m1","net","suffix","$moduleUrls","moduleUrl","parts","sep","setModuleUrl","subst","$loading","onLoad","moduleType","afterLoad","DefaultGutterHandler","MouseHandler","focusEditor","hasFocus","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","insideStart","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onCaptureInterval","$onCaptureMouseMove","scrollSpeed","dragDelay","dragEnabled","focusTimout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","$defaultHandler","setKeyboardHandler","h","handleKeyboard","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","passEvent","_computeLevels","chars","levels","len","charTypes","impTab","impTab_RTL","impTab_LTR","prevState","newClass","newLevel","newState","condPos","ix","_getCharacterType","hiLevel","lastArabic","hasUBAT_AL","hasUBAT_B","hasUBAT_S","_getCharClass","B","S","WS","_invertLevel","lev","_array","RTL","lo","hi","tmp","wType","nType","cType","L","R","ON","AN","EN","AL","CS","ES","ET","NSM","rtlCandidate","LRE","RLE","LRO","RLO","PDF","BN","uc","charCodeAt","UnicodeTBL00","UnicodeTBL20","ON_R","R_H","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","wrapIndent","isLastRow","EOF","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","$useWrapMode","splits","$wrapData","indent","isFullWidth","getScreenTabSize","endOfLine","markAsDirty","updateCharacterWidths","fontMetrics","$characterSize","bidiCharWidth","$measureCharWidth","getShowInvisibles","setShowInvisibles","setEolChar","eolChar","setTextDir","getPosLeft","col","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","logicalIdx","charWidth","p1","p2","startColumn","endColumn","isEqual","compare","compareRange","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideEnd","compareStart","compareEnd","compareInside","clipRows","lastRow","extend","collapseRows","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","Selection","getDocument","selectionLead","selectionAnchor","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","getCursor","getPosition","getSelectionAnchor","getSelectionLead","shiftSelection","columns","isBackwards","$moveSelection","mover","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectWord","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","beforeCursor","getDisplayLine","leadingSpace","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","moveCursorLongWordRight","rightOfCursor","nonTokenRe","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","$bidiHandler","round","docPos","lineWidgets","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","func","toJSON","rangeCount","r1","fromJSON","rangeList","MAX_TOKEN_COUNT","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","splitterRurles","rule","caseInsensitive","adjustedregex","matchcount","groupCount","tokenArray","$arrayTokens","$applyToken","digit","removeCapturingGroups","createSplitterRegexp","$setMaxTokenCount","values","inChClass","lastCapture","parenOpen","parenClose","square","currentState","matchAttempts","skipped","consumeLineEnd","TextHighlightRules","$rules","addRules","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","toInsert","stateName","includeName","noEscape","keywordMap","createKeywordMapper","splitChar","keywords","$keywordList","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","$tokenIndex","stepBackward","stepForward","rowCount","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","\"","'","initContext","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","rightChar","matching","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","quotes","$quotes","lineCommentStart","quote","leftChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","$matchTokenType","iterator2","bracket","packages","pack","codePoint","Ll","Lu","Lt","Lm","Lo","M","Mn","Mc","Me","N","Nd","Nl","No","P","Pd","Ps","Pe","Pi","Pf","Pc","Po","Sm","Sc","Sk","So","Z","Zs","Zl","Zp","C","Cc","Cf","Co","Cs","Cn","unicode","Mode","$defaultBehaviour","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","iter","ignoreBlankLines","shouldRemove","minIndent","insertAtTabStop","regexpStart","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","spaces","lineCommentEnd","regexpEnd","minEmptyLength","toggleBlockComment","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","delegations","functionName","$delegator","method","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","applyDelta","docLines","doNotValidate","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$getTransformedPoint","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$clipPositionToDocument","noClip","Document","textOrLines","$lines","insertMergedLines","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","MAX","chunk","newlineLength","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","SearchHighlight","setRegexp","MAX_RANGES","cache","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","containsRow","walk","lastEnd","isNewRow","getNextFoldTo","kind","addRemoveChars","foldBefore","newFoldLine","foldLineNext","idxToPosition","lastFoldEndColumn","RangeList","pointIndex","excludeEdges","startIndex","endIndex","addList","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","consumePoint","consumeRange","restorePoint","restoreRange","Fold","subFolds","subFold","collapseChildren","addSubFold","afterStart","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","$foldStyles","manual","markbegin","markbeginend","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","$brackets",")","(","]","[","{","}","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","ignore","$deltasDoc","$deltasFold","$informUndoManager","$deltas","setUndoManager","getUndoManager","reset","undoManager","$syncInformUndoManager","execute","mergeUndoDeltas","$defaultUndoManager","redo","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","getOverwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markers","getMarkers","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$onChangeMode","$isPlaceholder","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","getScrollTop","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","getLineWidgetMaxWidth","lineWidgetsWidth","w","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","lastUndoRange","$getUndoSelection","foldDelta","redoChanges","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","outdentRows","rowRange","deleteRange","$moveLines","$clipRowToDocument","MAX_VALUE","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","getUseWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","SPACE","TAB","TAB_SPACE","getWrapIndent","maxIndent","indentedSoftWrap","isCode","addSplit","displayed","lastSplit","lastDocSplit","displayLength","$wrapAsCode","$indentedSoftWrap","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","addWordBoundary","wordBoundary","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","modifier","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","isDefault","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","other","otherPos","removeCommands","keyList","findKeyCommand","$keyChain","CommandManager","byName","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","showSettingsMenu","showErrorMarker","scrollIntoView","centerSelection","gotoLine","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","selectPageUp","scrollPageUp","jumpToMatching","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","firstLineEndCol","selectedText","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","getContainerElement","getTextAreaContainer","textarea","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","startOperation","endOperation","$opResetTimer","curOp","docChanged","selectionChanged","prevOp","commadEvent","previousCommand","scrollSelectionIntoView","animateScrolling","$mergeableCommands","$mergeUndoDeltas","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","$keybindingId","handler","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","cursorPos","resize","onResize","$highlightBrackets","$bracketHighlight","$highlightPending","getMatching","$highlightTags","$tagHighlight","prevToken","sbm","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","updateLines","$updateHighlightActiveLine","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","startOuter","endOuter","lineCols","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","getBehavioursEnabled","transform","$mergeNextCommand","lineState","shouldOutdent","lineIndent","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","shouldHighlight","getHighlightActiveLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","setDisplayIndentGuides","getDisplayIndentGuides","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","endPoint","moved","totalDiff","rangeIndex","subRows","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","preventScroll","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onBeforeRender","onAfterRender","searchBox","$pixelPos","$resetCursorStyle","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","behavioursEnabled","wrapBehavioursEnabled","autoScrollEditorIntoView","keybindingId","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","showLineNumbers","showGutter","displayIndentGuides","fontSize","fontFamily","maxLines","minLines","scrollPastEnd","fixedWidthGutter","foldStyle","UndoManager","$serializeDelta","$deserializeDelta","cloneDeltaSetsObj","deltaSets_old","fnGetModifiedDelta","deltaSets_new","deltaSet_old","deltaSet_new","delta_old","deltaSets","$doc","hasUndo","dirtyCounter","$undoStack","$redoStack","NaN","undoSelectionRange","redoSelectionRange","$deserializeDeltas","hasRedo","markClean","isClean","$serializeDeltas","Gutter","parentEl","$showFoldWidgets","$updateAnnotations","$cells","rowInfo","annoText","gutterOffset","breakpoints","decorations","$firstLineNumber","lastLineNumber","gutterRenderer","$renderer","cell","textNode","foldWidget","getText","minHeight","$fixedWidth","padding","$computePadding","$showLineNumbers","setShowLineNumbers","getShowLineNumbers","Marker","getBorderClass","tl","tr","br","bl","setPadding","setMarkers","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","drawBidiSingleLineMarker","firstRowScreen","stringBuilder","extraStyle","curr","clazzModified","lineRange","range1","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","getLineHeight","$fontMetrics","measure","$pollSizeChanges","$pollSizeChangesTimer","$computeTabString","$tabStrings","tabStr","$indentGuideRe","spaceClass","tabClass","spaceContent","tabContent","scrollLines","lineElements","lineElementsIdx","lineElement","$renderLine","$useLineGroups","oldConfig","lastChild","fragment","$renderLinesFragment","createDocumentFragment","$textToken","rparen","lparen","$renderToken","replaceReg","replaceFunc","tabIdx","idx4","classToUse","space","output","renderIndentGuide","cols","$renderWrappedLine","onlyContents","splitChars","$renderSimpleLine","$getFoldLineTokens","addTokens","renderTokens","$measureNode","isIE8","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateVisibility","$updateOpacity","blinking","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","$selectionMarkers","cursorIndex","pixelPos","drawCursor","$setOverwrite","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","change","CHAR_COUNT","FontMetrics","$setMeasureNodeStyles","$main","$testFractionalRect","isRoot","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","setPolling","GutterLayer","MarkerLayer","TextLayer","CursorLayer","onGutterResize","$markerBack","textLayer","canvas","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","scrollerHeight","$dirty","maxHeight","v","$loop","$renderChanges","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_GUTTER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","$updateGutterLineHighlight","$gutterLineHighlight","$printMarginEl","containerEl","posTop","posLeft","$composition","setScrollMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","unfreeze","st","marginTop","marginLeft","$highlightGutterLine","$updateLines","$autosize","desiredHeight","$gutterWidth","hideScrollbars","screenLines","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","steps","x_min","dx","initialScroll","oldSteps","$timer","canvasPos","textToScreenCoordinates","pageX","pageY","keepTextAreaAtCursor","$themeId","cssClass","$theme","isDark","setMouseCursor","maxPixelHeight","$workerBlob","workerUrl","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","blobBuilder","getBlob","blob","URL","webkitURL","blobURL","createObjectURL","Worker","WorkerClient","topLevelNamespaces","classname","importScripts","$sendDeltaQueue","onMessage","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","callbackId","callbacks","onmessage","deltaQueue","emit","ex","attachToDocument","q","UIWorkerClient","messageBuffer","main","emitSync","sender","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","selectionBefore","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","updateMarkers","updateMarker","undosRequired","isSamePoint","accel","selectionMode","isMultiSelect","mouseX","mouseY","onMouseSelection","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onMouseSelectionEnd","onSelectionInterval","selectMoreLines","selectMore","splitIntoLines","alignCursors","multiSelectCommands","MultiSelect","$multiselectOnSessionChange","$onAddRange","$onRemoveRange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","addAltCursorListeners","altCursor","altDown","getSelectionMarkers","$blockChangeEvents","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","yBackwards","docEnd","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","$byLines","reg","cmdResult","anim","nl","additive","screenLead","toRemove","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","alignLeft","startW","textW","endW","alignRight","unAlign","isLeftAligned","isRightAligned","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","hidden","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","binarySearch","comparator","findAnnotations","matched","oldWidget","gutterAnno","arrow","onmousedown","getElementById","env","tagName","oldNode","createEditSession","version","159","DocCommentHighlightRules","getTagRule","getStartRule","getEndRule","MysqlHighlightRules","keywordMapper","support.function","keyword","constant","variable.language","160","171","sources","names","mappings","file","sourceRoot","174","locals","175","injectStyle","ssrContext","176","staticStyle","313","_interopRequireDefault","_axios","_axios2","_util","_util2","_editTable","_editTable2","_col","_col2","ICol","edittable","dataset","basename","sqlname","TableDataNew","tableform","info","columnsName","Testresults","tabcolumns","editable","align","handle","putdata","Add_tmp","Field","Null","Default","Extra","Len","Species","add_row","username","sessionStorage","getItem","addcolums","click","$Notice","sql","openswitch","pass","ruleValidate","computer_room","connection_name","tablename","formItem","backup","assigned","tabs","optionData","formDynamic","validate_gen","wordList","setCompletions","vl","editorInit","Connection_Name","ScreenConnection","test_sql","_this2","ddl","createtable","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","$Message","$refs","validate","valid","put","status","gen","errlevel","err_notice","handleSubmit","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","DataBaseName","_this3","GetTableName","_this4","stringify","getdatabases","_this5","permissions_type","getinfo","_this6","$Spin","table_name","connection_info","getindex","AddColumns","warning","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","ClearColumns","canel","confirmsql","_this7","notice","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","orderswitch","commitorder","_this8","post","user","$router","cell_change","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","318","editButton","editting","loading","saving","edittingStore","thisTableData","edittingRow","handleBackdata","edittingCell","deleteButton","confirm","transfer","on-ok","placement","incellEditBtn","hoverShow","show-edit-btn","icon","saveIncellEditBtn","cellInput","on-change","refs","columnsList","editIncell","created","editableCell","cloneData","isEditting","$set","justify","currentRowData","clonedData","625","sourcesContent","644","656","675","686","695","attrs","slot","_v","staticClass","ref","model","label-width","label","$$v","expression","_l","_s","filterable","margin-left","$event","overflow-y","font-size","color","margin-top","nativeOn","highlight-row","stripe","border","columns-list","ok-text","formatter","parser","717","disabled-hover"],"mappings":"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","file":"static/js/2.230a97691f32280961ba.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 123:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.dimensionMap = exports.findComponentUpward = exports.deepCopy = exports.firstUpperCase = exports.MutationObserver = undefined;\nexports.oneOf = oneOf;\nexports.camelcaseToHyphen = camelcaseToHyphen;\nexports.getScrollBarSize = getScrollBarSize;\nexports.getStyle = getStyle;\nexports.warnProp = warnProp;\nexports.scrollTop = scrollTop;\nexports.findComponentDownward = findComponentDownward;\nexports.findComponentsDownward = findComponentsDownward;\nexports.findComponentsUpward = findComponentsUpward;\nexports.findBrothersComponents = findBrothersComponents;\nexports.hasClass = hasClass;\nexports.addClass = addClass;\nexports.removeClass = removeClass;\nexports.setMatchMedia = setMatchMedia;\n\nvar _vue = __webpack_require__(3);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isServer = _vue2.default.prototype.$isServer;\n// \nfunction oneOf(value, validList) {\n    for (var i = 0; i < validList.length; i++) {\n        if (value === validList[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction camelcaseToHyphen(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n// For Modal scrollBar hidden\nvar cached = void 0;\nfunction getScrollBarSize(fresh) {\n    if (isServer) return 0;\n    if (fresh || cached === undefined) {\n        var inner = document.createElement('div');\n        inner.style.width = '100%';\n        inner.style.height = '200px';\n\n        var outer = document.createElement('div');\n        var outerStyle = outer.style;\n\n        outerStyle.position = 'absolute';\n        outerStyle.top = 0;\n        outerStyle.left = 0;\n        outerStyle.pointerEvents = 'none';\n        outerStyle.visibility = 'hidden';\n        outerStyle.width = '200px';\n        outerStyle.height = '150px';\n        outerStyle.overflow = 'hidden';\n\n        outer.appendChild(inner);\n\n        document.body.appendChild(outer);\n\n        var widthContained = inner.offsetWidth;\n        outer.style.overflow = 'scroll';\n        var widthScroll = inner.offsetWidth;\n\n        if (widthContained === widthScroll) {\n            widthScroll = outer.clientWidth;\n        }\n\n        document.body.removeChild(outer);\n\n        cached = widthContained - widthScroll;\n    }\n    return cached;\n}\n\n// watch DOM change\nvar MutationObserver = exports.MutationObserver = isServer ? false : window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver || false;\n\nvar SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\nvar MOZ_HACK_REGEXP = /^moz([A-Z])/;\n\nfunction camelCase(name) {\n    return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\n        return offset ? letter.toUpperCase() : letter;\n    }).replace(MOZ_HACK_REGEXP, 'Moz$1');\n}\n// getStyle\nfunction getStyle(element, styleName) {\n    if (!element || !styleName) return null;\n    styleName = camelCase(styleName);\n    if (styleName === 'float') {\n        styleName = 'cssFloat';\n    }\n    try {\n        var computed = document.defaultView.getComputedStyle(element, '');\n        return element.style[styleName] || computed ? computed[styleName] : null;\n    } catch (e) {\n        return element.style[styleName];\n    }\n}\n\n// firstUpperCase\nfunction firstUpperCase(str) {\n    return str.toString()[0].toUpperCase() + str.toString().slice(1);\n}\nexports.firstUpperCase = firstUpperCase;\n\n// Warn\n\nfunction warnProp(component, prop, correctType, wrongType) {\n    correctType = firstUpperCase(correctType);\n    wrongType = firstUpperCase(wrongType);\n    console.error('[iView warn]: Invalid prop: type check failed for prop ' + prop + '. Expected ' + correctType + ', got ' + wrongType + '. (found in component: ' + component + ')'); // eslint-disable-line\n}\n\nfunction typeOf(obj) {\n    var toString = Object.prototype.toString;\n    var map = {\n        '[object Boolean]': 'boolean',\n        '[object Number]': 'number',\n        '[object String]': 'string',\n        '[object Function]': 'function',\n        '[object Array]': 'array',\n        '[object Date]': 'date',\n        '[object RegExp]': 'regExp',\n        '[object Undefined]': 'undefined',\n        '[object Null]': 'null',\n        '[object Object]': 'object'\n    };\n    return map[toString.call(obj)];\n}\n\n// deepCopy\nfunction deepCopy(data) {\n    var t = typeOf(data);\n    var o = void 0;\n\n    if (t === 'array') {\n        o = [];\n    } else if (t === 'object') {\n        o = {};\n    } else {\n        return data;\n    }\n\n    if (t === 'array') {\n        for (var i = 0; i < data.length; i++) {\n            o.push(deepCopy(data[i]));\n        }\n    } else if (t === 'object') {\n        for (var _i in data) {\n            o[_i] = deepCopy(data[_i]);\n        }\n    }\n    return o;\n}\n\nexports.deepCopy = deepCopy;\n\n// scrollTop animation\n\nfunction scrollTop(el) {\n    var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var to = arguments[2];\n    var duration = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 500;\n\n    if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n            return window.setTimeout(callback, 1000 / 60);\n        };\n    }\n    var difference = Math.abs(from - to);\n    var step = Math.ceil(difference / duration * 50);\n\n    function scroll(start, end, step) {\n        if (start === end) return;\n\n        var d = start + step > end ? end : start + step;\n        if (start > end) {\n            d = start - step < end ? end : start - step;\n        }\n\n        if (el === window) {\n            window.scrollTo(d, d);\n        } else {\n            el.scrollTop = d;\n        }\n        window.requestAnimationFrame(function () {\n            return scroll(d, end, step);\n        });\n    }\n    scroll(from, to, step);\n}\n\n// Find components upward\nfunction findComponentUpward(context, componentName, componentNames) {\n    if (typeof componentName === 'string') {\n        componentNames = [componentName];\n    } else {\n        componentNames = componentName;\n    }\n\n    var parent = context.$parent;\n    var name = parent.$options.name;\n    while (parent && (!name || componentNames.indexOf(name) < 0)) {\n        parent = parent.$parent;\n        if (parent) name = parent.$options.name;\n    }\n    return parent;\n}\nexports.findComponentUpward = findComponentUpward;\n\n// Find component downward\n\nfunction findComponentDownward(context, componentName) {\n    var childrens = context.$children;\n    var children = null;\n\n    if (childrens.length) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = childrens[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var child = _step.value;\n\n                var name = child.$options.name;\n                if (name === componentName) {\n                    children = child;\n                    break;\n                } else {\n                    children = findComponentDownward(child, componentName);\n                    if (children) break;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n    return children;\n}\n\n// Find components downward\nfunction findComponentsDownward(context, componentName) {\n    return context.$children.reduce(function (components, child) {\n        if (child.$options.name === componentName) components.push(child);\n        var foundChilds = findComponentsDownward(child, componentName);\n        return components.concat(foundChilds);\n    }, []);\n}\n\n// Find components upward\nfunction findComponentsUpward(context, componentName) {\n    var parents = [];\n    var parent = context.$parent;\n    if (parent) {\n        if (parent.$options.name === componentName) parents.push(parent);\n        return parents.concat(findComponentsUpward(parent, componentName));\n    } else {\n        return [];\n    }\n}\n\n// Find brothers components\nfunction findBrothersComponents(context, componentName) {\n    var exceptMe = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var res = context.$parent.$children.filter(function (item) {\n        return item.$options.name === componentName;\n    });\n    var index = res.findIndex(function (item) {\n        return item._uid === context._uid;\n    });\n    if (exceptMe) res.splice(index, 1);\n    return res;\n}\n\n/* istanbul ignore next */\nvar trim = function trim(string) {\n    return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n};\n\n/* istanbul ignore next */\nfunction hasClass(el, cls) {\n    if (!el || !cls) return false;\n    if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.');\n    if (el.classList) {\n        return el.classList.contains(cls);\n    } else {\n        return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n    }\n}\n\n/* istanbul ignore next */\nfunction addClass(el, cls) {\n    if (!el) return;\n    var curClass = el.className;\n    var classes = (cls || '').split(' ');\n\n    for (var i = 0, j = classes.length; i < j; i++) {\n        var clsName = classes[i];\n        if (!clsName) continue;\n\n        if (el.classList) {\n            el.classList.add(clsName);\n        } else {\n            if (!hasClass(el, clsName)) {\n                curClass += ' ' + clsName;\n            }\n        }\n    }\n    if (!el.classList) {\n        el.className = curClass;\n    }\n}\n\n/* istanbul ignore next */\nfunction removeClass(el, cls) {\n    if (!el || !cls) return;\n    var classes = cls.split(' ');\n    var curClass = ' ' + el.className + ' ';\n\n    for (var i = 0, j = classes.length; i < j; i++) {\n        var clsName = classes[i];\n        if (!clsName) continue;\n\n        if (el.classList) {\n            el.classList.remove(clsName);\n        } else {\n            if (hasClass(el, clsName)) {\n                curClass = curClass.replace(' ' + clsName + ' ', ' ');\n            }\n        }\n    }\n    if (!el.classList) {\n        el.className = trim(curClass);\n    }\n}\n\nvar dimensionMap = exports.dimensionMap = {\n    xs: '480px',\n    sm: '768px',\n    md: '992px',\n    lg: '1200px',\n    xl: '1600px'\n};\n\nfunction setMatchMedia() {\n    if (typeof window !== 'undefined') {\n        var matchMediaPolyfill = function matchMediaPolyfill(mediaQuery) {\n            return {\n                media: mediaQuery,\n                matches: false,\n                on: function on() {},\n                off: function off() {}\n            };\n        };\n        window.matchMedia = window.matchMedia || matchMediaPolyfill;\n    }\n}\n\n/***/ }),\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _assist = __webpack_require__(123);\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } //\n//\n//\n//\n//\n\nvar prefixCls = 'ivu-col';\n\nexports.default = {\n    name: 'iCol',\n    props: {\n        span: [Number, String],\n        order: [Number, String],\n        offset: [Number, String],\n        push: [Number, String],\n        pull: [Number, String],\n        className: String,\n        xs: [Number, Object],\n        sm: [Number, Object],\n        md: [Number, Object],\n        lg: [Number, Object]\n    },\n    data: function data() {\n        return {\n            gutter: 0\n        };\n    },\n\n    computed: {\n        classes: function classes() {\n            var _ref,\n                _this = this;\n\n            var classList = ['' + prefixCls, (_ref = {}, _defineProperty(_ref, prefixCls + '-span-' + this.span, this.span), _defineProperty(_ref, prefixCls + '-order-' + this.order, this.order), _defineProperty(_ref, prefixCls + '-offset-' + this.offset, this.offset), _defineProperty(_ref, prefixCls + '-push-' + this.push, this.push), _defineProperty(_ref, prefixCls + '-pull-' + this.pull, this.pull), _defineProperty(_ref, '' + this.className, !!this.className), _ref)];\n\n            ['xs', 'sm', 'md', 'lg'].forEach(function (size) {\n                if (typeof _this[size] === 'number') {\n                    classList.push(prefixCls + '-span-' + size + '-' + _this[size]);\n                } else if (_typeof(_this[size]) === 'object') {\n                    var props = _this[size];\n                    Object.keys(props).forEach(function (prop) {\n                        classList.push(prop !== 'span' ? prefixCls + '-' + size + '-' + prop + '-' + props[prop] : prefixCls + '-span-' + size + '-' + props[prop]);\n                    });\n                }\n            });\n\n            return classList;\n        },\n        styles: function styles() {\n            var style = {};\n            if (this.gutter !== 0) {\n                style = {\n                    paddingLeft: this.gutter / 2 + 'px',\n                    paddingRight: this.gutter / 2 + 'px'\n                };\n            }\n\n            return style;\n        }\n    },\n    methods: {\n        updateGutter: function updateGutter() {\n            var Row = (0, _assist.findComponentUpward)(this, 'Row');\n            if (Row) {\n                Row.updateGutter(Row.gutter);\n            }\n        }\n    },\n    mounted: function mounted() {\n        this.updateGutter();\n    },\n    beforeDestroy: function beforeDestroy() {\n        this.updateGutter();\n    }\n};\n\n/***/ }),\n\n/***/ 131:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(128),\n  /* template */\n  __webpack_require__(132),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 132:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.classes,\n    style: (_vm.styles)\n  }, [_vm._t(\"default\")], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 143:\n/***/ (function(module, exports) {\n\nmodule.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n/***/ }),\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n\n__webpack_require__.e/* require */(30).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(212)]; (function (data) {\n  window.emmet = data.emmet;\n}.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}).catch(__webpack_require__.oe);\nvar ace = __webpack_require__(158);\nexports.default = {\n  name: 'editor',\n  props: {\n    value: {\n      type: String,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      editor: null,\n      contentBackup: ''\n    };\n  },\n\n  watch: {\n    value: function value(val) {\n      if (this.contentBackup !== val) {\n        this.editor.setValue(val, 1);\n      }\n    },\n\n    theme: function theme(newTheme) {\n      this.editor.setTheme('ace/theme/' + newTheme);\n    },\n    lang: function lang(newLang) {\n      this.editor.getSession().setMode('ace/mode/' + newLang);\n    }\n  },\n  mounted: function mounted() {\n    var vm = this;\n    __webpack_require__(156);\n    __webpack_require__(157);\n    var editor = vm.editor = ace.edit(this.$el);\n    this.$emit('init', editor);\n    var staticWordCompleter = {\n      getCompletions: function getCompletions(editor, session, pos, prefix, callback) {\n        vm.$emit('setCompletions', editor, session, pos, prefix, callback);\n      }\n    };\n    editor.completers = [staticWordCompleter];\n    editor.setOptions({\n      enableBasicAutocompletion: true,\n      enableLiveAutocompletion: true\n    });\n    editor.$blockScrolling = Infinity;\n    editor.setFontSize(14);\n    editor.setOption('enableEmmet', true);\n    editor.getSession().setMode('ace/mode/mysql');\n    editor.setTheme('ace/theme/xcode');\n    editor.setValue(this.value, 1);\n    editor.on('change', function () {\n      var content = editor.getValue();\n      vm.$emit('input', content);\n      vm.contentBackup = content;\n    });\n  }\n};\n\n/***/ }),\n\n/***/ 156:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nace.define(\"ace/snippets\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/range\", \"ace/anchor\", \"ace/keyboard/hash_handler\", \"ace/tokenizer\", \"ace/lib/dom\", \"ace/editor\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var lang = acequire(\"./lib/lang\");\n    var Range = acequire(\"./range\").Range;\n    var Anchor = acequire(\"./anchor\").Anchor;\n    var HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\n    var Tokenizer = acequire(\"./tokenizer\").Tokenizer;\n    var comparePoints = Range.comparePoints;\n\n    var SnippetManager = function SnippetManager() {\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n    };\n\n    (function () {\n        oop.implement(this, EventEmitter);\n\n        this.getTokenizer = function () {\n            function TabstopToken(str, _, stack) {\n                str = str.substr(1);\n                if (/^\\d+$/.test(str) && !stack.inFormatString) return [{ tabstopId: parseInt(str, 10) }];\n                return [{ text: str }];\n            }\n            function escape(ch) {\n                return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n            }\n            SnippetManager.$tokenizer = new Tokenizer({\n                start: [{ regex: /:/, onMatch: function onMatch(val, state, stack) {\n                        if (stack.length && stack[0].expectIf) {\n                            stack[0].expectIf = false;\n                            stack[0].elseBranch = stack[0];\n                            return [stack[0]];\n                        }\n                        return \":\";\n                    } }, { regex: /\\\\./, onMatch: function onMatch(val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        } else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        } else if (stack.inFormatString) {\n                            if (ch == \"n\") val = \"\\n\";else if (ch == \"t\") val = \"\\n\";else if (\"ulULE\".indexOf(ch) != -1) {\n                                val = { changeCase: ch, local: ch > \"a\" };\n                            }\n                        }\n\n                        return [val];\n                    } }, { regex: /}/, onMatch: function onMatch(val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } }, { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken }, { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function onMatch(str, state, stack) {\n                        var t = TabstopToken(str.substr(1), state, stack);\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" }, { regex: /\\n/, token: \"newline\", merge: false }],\n                snippetVar: [{ regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function onMatch(val, state, stack) {\n                        stack[0].choices = val.slice(1, -1).split(\",\");\n                    }, next: \"start\" }, { regex: \"/(\" + escape(\"/\") + \"+)/(?:(\" + escape(\"/\") + \"*)/)(\\\\w*):?\",\n                    onMatch: function onMatch(val, state, stack) {\n                        var ts = stack[0];\n                        ts.fmtString = val;\n\n                        val = this.splitRegex.exec(val);\n                        ts.guard = val[1];\n                        ts.fmt = val[2];\n                        ts.flag = val[3];\n                        return \"\";\n                    }, next: \"start\" }, { regex: \"`\" + escape(\"`\") + \"*`\", onMatch: function onMatch(val, state, stack) {\n                        stack[0].code = val.splice(1, -1);\n                        return \"\";\n                    }, next: \"start\" }, { regex: \"\\\\?\", onMatch: function onMatch(val, state, stack) {\n                        if (stack[0]) stack[0].expectIf = true;\n                    }, next: \"start\" }, { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }],\n                formatString: [{ regex: \"/(\" + escape(\"/\") + \"+)/\", token: \"regex\" }, { regex: \"\", onMatch: function onMatch(val, state, stack) {\n                        stack.inFormatString = true;\n                    }, next: \"start\" }]\n            });\n            SnippetManager.prototype.getTokenizer = function () {\n                return SnippetManager.$tokenizer;\n            };\n            return SnippetManager.$tokenizer;\n        };\n\n        this.tokenizeTmSnippet = function (str, startState) {\n            return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n                return x.value || x;\n            });\n        };\n\n        this.$getDefaultValue = function (editor, name) {\n            if (/^[A-Z]\\d+$/.test(name)) {\n                var i = name.substr(1);\n                return (this.variables[name[0] + \"__\"] || {})[i];\n            }\n            if (/^\\d+$/.test(name)) {\n                return (this.variables.__ || {})[name];\n            }\n            name = name.replace(/^TM_/, \"\");\n\n            if (!editor) return;\n            var s = editor.session;\n            switch (name) {\n                case \"CURRENT_WORD\":\n                    var r = s.getWordRange();\n                case \"SELECTION\":\n                case \"SELECTED_TEXT\":\n                    return s.getTextRange(r);\n                case \"CURRENT_LINE\":\n                    return s.getLine(editor.getCursorPosition().row);\n                case \"PREV_LINE\":\n                    // not possible in textmate\n                    return s.getLine(editor.getCursorPosition().row - 1);\n                case \"LINE_INDEX\":\n                    return editor.getCursorPosition().column;\n                case \"LINE_NUMBER\":\n                    return editor.getCursorPosition().row + 1;\n                case \"SOFT_TABS\":\n                    return s.getUseSoftTabs() ? \"YES\" : \"NO\";\n                case \"TAB_SIZE\":\n                    return s.getTabSize();\n                case \"FILENAME\":\n                case \"FILEPATH\":\n                    return \"\";\n                case \"FULLNAME\":\n                    return \"Ace\";\n            }\n        };\n        this.variables = {};\n        this.getVariableValue = function (editor, varName) {\n            if (this.variables.hasOwnProperty(varName)) return this.variables[varName](editor, varName) || \"\";\n            return this.$getDefaultValue(editor, varName) || \"\";\n        };\n        this.tmStrFormat = function (str, ch, editor) {\n            var flag = ch.flag || \"\";\n            var re = ch.guard;\n            re = new RegExp(re, flag.replace(/[^gi]/, \"\"));\n            var fmtTokens = this.tokenizeTmSnippet(ch.fmt, \"formatString\");\n            var _self = this;\n            var formatted = str.replace(re, function () {\n                _self.variables.__ = arguments;\n                var fmtParts = _self.resolveVariables(fmtTokens, editor);\n                var gChangeCase = \"E\";\n                for (var i = 0; i < fmtParts.length; i++) {\n                    var ch = fmtParts[i];\n                    if ((typeof ch === \"undefined\" ? \"undefined\" : _typeof(ch)) == \"object\") {\n                        fmtParts[i] = \"\";\n                        if (ch.changeCase && ch.local) {\n                            var next = fmtParts[i + 1];\n                            if (next && typeof next == \"string\") {\n                                if (ch.changeCase == \"u\") fmtParts[i] = next[0].toUpperCase();else fmtParts[i] = next[0].toLowerCase();\n                                fmtParts[i + 1] = next.substr(1);\n                            }\n                        } else if (ch.changeCase) {\n                            gChangeCase = ch.changeCase;\n                        }\n                    } else if (gChangeCase == \"U\") {\n                        fmtParts[i] = ch.toUpperCase();\n                    } else if (gChangeCase == \"L\") {\n                        fmtParts[i] = ch.toLowerCase();\n                    }\n                }\n                return fmtParts.join(\"\");\n            });\n            this.variables.__ = null;\n            return formatted;\n        };\n\n        this.resolveVariables = function (snippet, editor) {\n            var result = [];\n            for (var i = 0; i < snippet.length; i++) {\n                var ch = snippet[i];\n                if (typeof ch == \"string\") {\n                    result.push(ch);\n                } else if ((typeof ch === \"undefined\" ? \"undefined\" : _typeof(ch)) != \"object\") {\n                    continue;\n                } else if (ch.skip) {\n                    gotoNext(ch);\n                } else if (ch.processed < i) {\n                    continue;\n                } else if (ch.text) {\n                    var value = this.getVariableValue(editor, ch.text);\n                    if (value && ch.fmtString) value = this.tmStrFormat(value, ch);\n                    ch.processed = i;\n                    if (ch.expectIf == null) {\n                        if (value) {\n                            result.push(value);\n                            gotoNext(ch);\n                        }\n                    } else {\n                        if (value) {\n                            ch.skip = ch.elseBranch;\n                        } else gotoNext(ch);\n                    }\n                } else if (ch.tabstopId != null) {\n                    result.push(ch);\n                } else if (ch.changeCase != null) {\n                    result.push(ch);\n                }\n            }\n            function gotoNext(ch) {\n                var i1 = snippet.indexOf(ch, i + 1);\n                if (i1 != -1) i = i1;\n            }\n            return result;\n        };\n\n        this.insertSnippetForSelection = function (editor, snippetText) {\n            var cursor = editor.getCursorPosition();\n            var line = editor.session.getLine(cursor.row);\n            var tabString = editor.session.getTabString();\n            var indentString = line.match(/^\\s*/)[0];\n\n            if (cursor.column < indentString.length) indentString = indentString.slice(0, cursor.column);\n\n            snippetText = snippetText.replace(/\\r/g, \"\");\n            var tokens = this.tokenizeTmSnippet(snippetText);\n            tokens = this.resolveVariables(tokens, editor);\n            tokens = tokens.map(function (x) {\n                if (x == \"\\n\") return x + indentString;\n                if (typeof x == \"string\") return x.replace(/\\t/g, tabString);\n                return x;\n            });\n            var tabstops = [];\n            tokens.forEach(function (p, i) {\n                if ((typeof p === \"undefined\" ? \"undefined\" : _typeof(p)) != \"object\") return;\n                var id = p.tabstopId;\n                var ts = tabstops[id];\n                if (!ts) {\n                    ts = tabstops[id] = [];\n                    ts.index = id;\n                    ts.value = \"\";\n                }\n                if (ts.indexOf(p) !== -1) return;\n                ts.push(p);\n                var i1 = tokens.indexOf(p, i + 1);\n                if (i1 === -1) return;\n\n                var value = tokens.slice(i + 1, i1);\n                var isNested = value.some(function (t) {\n                    return (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) === \"object\";\n                });\n                if (isNested && !ts.value) {\n                    ts.value = value;\n                } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                    ts.value = value.join(\"\");\n                }\n            });\n            tabstops.forEach(function (ts) {\n                ts.length = 0;\n            });\n            var expanding = {};\n            function copyValue(val) {\n                var copy = [];\n                for (var i = 0; i < val.length; i++) {\n                    var p = val[i];\n                    if ((typeof p === \"undefined\" ? \"undefined\" : _typeof(p)) == \"object\") {\n                        if (expanding[p.tabstopId]) continue;\n                        var j = val.lastIndexOf(p, i - 1);\n                        p = copy[j] || { tabstopId: p.tabstopId };\n                    }\n                    copy[i] = p;\n                }\n                return copy;\n            }\n            for (var i = 0; i < tokens.length; i++) {\n                var p = tokens[i];\n                if ((typeof p === \"undefined\" ? \"undefined\" : _typeof(p)) != \"object\") continue;\n                var id = p.tabstopId;\n                var i1 = tokens.indexOf(p, i + 1);\n                if (expanding[id]) {\n                    if (expanding[id] === p) expanding[id] = null;\n                    continue;\n                }\n\n                var ts = tabstops[id];\n                var arg = typeof ts.value == \"string\" ? [ts.value] : copyValue(ts.value);\n                arg.unshift(i + 1, Math.max(0, i1 - i));\n                arg.push(p);\n                expanding[id] = p;\n                tokens.splice.apply(tokens, arg);\n\n                if (ts.indexOf(p) === -1) ts.push(p);\n            }\n            var row = 0,\n                column = 0;\n            var text = \"\";\n            tokens.forEach(function (t) {\n                if (typeof t === \"string\") {\n                    var lines = t.split(\"\\n\");\n                    if (lines.length > 1) {\n                        column = lines[lines.length - 1].length;\n                        row += lines.length - 1;\n                    } else column += t.length;\n                    text += t;\n                } else {\n                    if (!t.start) t.start = { row: row, column: column };else t.end = { row: row, column: column };\n                }\n            });\n            var range = editor.getSelectionRange();\n            var end = editor.session.replace(range, text);\n\n            var tabstopManager = new TabstopManager(editor);\n            var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n            tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n        };\n\n        this.insertSnippet = function (editor, snippetText) {\n            var self = this;\n            if (editor.inVirtualSelectionMode) return self.insertSnippetForSelection(editor, snippetText);\n\n            editor.forEachSelection(function () {\n                self.insertSnippetForSelection(editor, snippetText);\n            }, null, { keepOrder: true });\n\n            if (editor.tabstopManager) editor.tabstopManager.tabNext();\n        };\n\n        this.$getScope = function (editor) {\n            var scope = editor.session.$mode.$id || \"\";\n            scope = scope.split(\"/\").pop();\n            if (scope === \"html\" || scope === \"php\") {\n                if (scope === \"php\" && !editor.session.$mode.inlinePhp) scope = \"html\";\n                var c = editor.getCursorPosition();\n                var state = editor.session.getState(c.row);\n                if ((typeof state === \"undefined\" ? \"undefined\" : _typeof(state)) === \"object\") {\n                    state = state[0];\n                }\n                if (state.substring) {\n                    if (state.substring(0, 3) == \"js-\") scope = \"javascript\";else if (state.substring(0, 4) == \"css-\") scope = \"css\";else if (state.substring(0, 4) == \"php-\") scope = \"php\";\n                }\n            }\n\n            return scope;\n        };\n\n        this.getActiveScopes = function (editor) {\n            var scope = this.$getScope(editor);\n            var scopes = [scope];\n            var snippetMap = this.snippetMap;\n            if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n                scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n            }\n            scopes.push(\"_\");\n            return scopes;\n        };\n\n        this.expandWithTab = function (editor, options) {\n            var self = this;\n            var result = editor.forEachSelection(function () {\n                return self.expandSnippetForSelection(editor, options);\n            }, null, { keepOrder: true });\n            if (result && editor.tabstopManager) editor.tabstopManager.tabNext();\n            return result;\n        };\n\n        this.expandSnippetForSelection = function (editor, options) {\n            var cursor = editor.getCursorPosition();\n            var line = editor.session.getLine(cursor.row);\n            var before = line.substring(0, cursor.column);\n            var after = line.substr(cursor.column);\n\n            var snippetMap = this.snippetMap;\n            var snippet;\n            this.getActiveScopes(editor).some(function (scope) {\n                var snippets = snippetMap[scope];\n                if (snippets) snippet = this.findMatchingSnippet(snippets, before, after);\n                return !!snippet;\n            }, this);\n            if (!snippet) return false;\n            if (options && options.dryRun) return true;\n            editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n\n            this.variables.M__ = snippet.matchBefore;\n            this.variables.T__ = snippet.matchAfter;\n            this.insertSnippetForSelection(editor, snippet.content);\n\n            this.variables.M__ = this.variables.T__ = null;\n            return true;\n        };\n\n        this.findMatchingSnippet = function (snippetList, before, after) {\n            for (var i = snippetList.length; i--;) {\n                var s = snippetList[i];\n                if (s.startRe && !s.startRe.test(before)) continue;\n                if (s.endRe && !s.endRe.test(after)) continue;\n                if (!s.startRe && !s.endRe) continue;\n\n                s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n                s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n                s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n                s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n                return s;\n            }\n        };\n\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n        this.register = function (snippets, scope) {\n            var snippetMap = this.snippetMap;\n            var snippetNameMap = this.snippetNameMap;\n            var self = this;\n\n            if (!snippets) snippets = [];\n\n            function wrapRegexp(src) {\n                if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src)) src = \"(?:\" + src + \")\";\n\n                return src || \"\";\n            }\n            function guardedRegexp(re, guard, opening) {\n                re = wrapRegexp(re);\n                guard = wrapRegexp(guard);\n                if (opening) {\n                    re = guard + re;\n                    if (re && re[re.length - 1] != \"$\") re = re + \"$\";\n                } else {\n                    re = re + guard;\n                    if (re && re[0] != \"^\") re = \"^\" + re;\n                }\n                return new RegExp(re);\n            }\n\n            function addSnippet(s) {\n                if (!s.scope) s.scope = scope || \"_\";\n                scope = s.scope;\n                if (!snippetMap[scope]) {\n                    snippetMap[scope] = [];\n                    snippetNameMap[scope] = {};\n                }\n\n                var map = snippetNameMap[scope];\n                if (s.name) {\n                    var old = map[s.name];\n                    if (old) self.unregister(old);\n                    map[s.name] = s;\n                }\n                snippetMap[scope].push(s);\n\n                if (s.tabTrigger && !s.trigger) {\n                    if (!s.guard && /^\\w/.test(s.tabTrigger)) s.guard = \"\\\\b\";\n                    s.trigger = lang.escapeRegExp(s.tabTrigger);\n                }\n\n                if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard) return;\n\n                s.startRe = guardedRegexp(s.trigger, s.guard, true);\n                s.triggerRe = new RegExp(s.trigger, \"\", true);\n\n                s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n                s.endTriggerRe = new RegExp(s.endTrigger, \"\", true);\n            }\n\n            if (snippets && snippets.content) addSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(addSnippet);\n\n            this._signal(\"registerSnippets\", { scope: scope });\n        };\n        this.unregister = function (snippets, scope) {\n            var snippetMap = this.snippetMap;\n            var snippetNameMap = this.snippetNameMap;\n\n            function removeSnippet(s) {\n                var nameMap = snippetNameMap[s.scope || scope];\n                if (nameMap && nameMap[s.name]) {\n                    delete nameMap[s.name];\n                    var map = snippetMap[s.scope || scope];\n                    var i = map && map.indexOf(s);\n                    if (i >= 0) map.splice(i, 1);\n                }\n            }\n            if (snippets.content) removeSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(removeSnippet);\n        };\n        this.parseSnippetFile = function (str) {\n            str = str.replace(/\\r/g, \"\");\n            var list = [],\n                snippet = {};\n            var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n            var m;\n            while (m = re.exec(str)) {\n                if (m[1]) {\n                    try {\n                        snippet = JSON.parse(m[1]);\n                        list.push(snippet);\n                    } catch (e) {}\n                }if (m[4]) {\n                    snippet.content = m[4].replace(/^\\t/gm, \"\");\n                    list.push(snippet);\n                    snippet = {};\n                } else {\n                    var key = m[2],\n                        val = m[3];\n                    if (key == \"regex\") {\n                        var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                        snippet.guard = guardRe.exec(val)[1];\n                        snippet.trigger = guardRe.exec(val)[1];\n                        snippet.endTrigger = guardRe.exec(val)[1];\n                        snippet.endGuard = guardRe.exec(val)[1];\n                    } else if (key == \"snippet\") {\n                        snippet.tabTrigger = val.match(/^\\S*/)[0];\n                        if (!snippet.name) snippet.name = val;\n                    } else {\n                        snippet[key] = val;\n                    }\n                }\n            }\n            return list;\n        };\n        this.getSnippetByName = function (name, editor) {\n            var snippetMap = this.snippetNameMap;\n            var snippet;\n            this.getActiveScopes(editor).some(function (scope) {\n                var snippets = snippetMap[scope];\n                if (snippets) snippet = snippets[name];\n                return !!snippet;\n            }, this);\n            return snippet;\n        };\n    }).call(SnippetManager.prototype);\n\n    var TabstopManager = function TabstopManager(editor) {\n        if (editor.tabstopManager) return editor.tabstopManager;\n        editor.tabstopManager = this;\n        this.$onChange = this.onChange.bind(this);\n        this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n        this.$onChangeSession = this.onChangeSession.bind(this);\n        this.$onAfterExec = this.onAfterExec.bind(this);\n        this.attach(editor);\n    };\n    (function () {\n        this.attach = function (editor) {\n            this.index = 0;\n            this.ranges = [];\n            this.tabstops = [];\n            this.$openTabstops = null;\n            this.selectedTabstop = null;\n\n            this.editor = editor;\n            this.editor.on(\"change\", this.$onChange);\n            this.editor.on(\"changeSelection\", this.$onChangeSelection);\n            this.editor.on(\"changeSession\", this.$onChangeSession);\n            this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n            this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        };\n        this.detach = function () {\n            this.tabstops.forEach(this.removeTabstopMarkers, this);\n            this.ranges = null;\n            this.tabstops = null;\n            this.selectedTabstop = null;\n            this.editor.removeListener(\"change\", this.$onChange);\n            this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n            this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n            this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.tabstopManager = null;\n            this.editor = null;\n        };\n\n        this.onChange = function (delta) {\n            var changeRange = delta;\n            var isRemove = delta.action[0] == \"r\";\n            var start = delta.start;\n            var end = delta.end;\n            var startRow = start.row;\n            var endRow = end.row;\n            var lineDif = endRow - startRow;\n            var colDiff = end.column - start.column;\n\n            if (isRemove) {\n                lineDif = -lineDif;\n                colDiff = -colDiff;\n            }\n            if (!this.$inChange && isRemove) {\n                var ts = this.selectedTabstop;\n                var changedOutside = ts && !ts.some(function (r) {\n                    return comparePoints(r.start, start) <= 0 && comparePoints(r.end, end) >= 0;\n                });\n                if (changedOutside) return this.detach();\n            }\n            var ranges = this.ranges;\n            for (var i = 0; i < ranges.length; i++) {\n                var r = ranges[i];\n                if (r.end.row < start.row) continue;\n\n                if (isRemove && comparePoints(start, r.start) < 0 && comparePoints(end, r.end) > 0) {\n                    this.removeRange(r);\n                    i--;\n                    continue;\n                }\n\n                if (r.start.row == startRow && r.start.column > start.column) r.start.column += colDiff;\n                if (r.end.row == startRow && r.end.column >= start.column) r.end.column += colDiff;\n                if (r.start.row >= startRow) r.start.row += lineDif;\n                if (r.end.row >= startRow) r.end.row += lineDif;\n\n                if (comparePoints(r.start, r.end) > 0) this.removeRange(r);\n            }\n            if (!ranges.length) this.detach();\n        };\n        this.updateLinkedFields = function () {\n            var ts = this.selectedTabstop;\n            if (!ts || !ts.hasLinkedRanges) return;\n            this.$inChange = true;\n            var session = this.editor.session;\n            var text = session.getTextRange(ts.firstNonLinked);\n            for (var i = ts.length; i--;) {\n                var range = ts[i];\n                if (!range.linked) continue;\n                var fmt = exports.snippetManager.tmStrFormat(text, range.original);\n                session.replace(range, fmt);\n            }\n            this.$inChange = false;\n        };\n        this.onAfterExec = function (e) {\n            if (e.command && !e.command.readOnly) this.updateLinkedFields();\n        };\n        this.onChangeSelection = function () {\n            if (!this.editor) return;\n            var lead = this.editor.selection.lead;\n            var anchor = this.editor.selection.anchor;\n            var isEmpty = this.editor.selection.isEmpty();\n            for (var i = this.ranges.length; i--;) {\n                if (this.ranges[i].linked) continue;\n                var containsLead = this.ranges[i].contains(lead.row, lead.column);\n                var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n                if (containsLead && containsAnchor) return;\n            }\n            this.detach();\n        };\n        this.onChangeSession = function () {\n            this.detach();\n        };\n        this.tabNext = function (dir) {\n            var max = this.tabstops.length;\n            var index = this.index + (dir || 1);\n            index = Math.min(Math.max(index, 1), max);\n            if (index == max) index = 0;\n            this.selectTabstop(index);\n            if (index === 0) this.detach();\n        };\n        this.selectTabstop = function (index) {\n            this.$openTabstops = null;\n            var ts = this.tabstops[this.index];\n            if (ts) this.addTabstopMarkers(ts);\n            this.index = index;\n            ts = this.tabstops[this.index];\n            if (!ts || !ts.length) return;\n\n            this.selectedTabstop = ts;\n            if (!this.editor.inVirtualSelectionMode) {\n                var sel = this.editor.multiSelect;\n                sel.toSingleRange(ts.firstNonLinked.clone());\n                for (var i = ts.length; i--;) {\n                    if (ts.hasLinkedRanges && ts[i].linked) continue;\n                    sel.addRange(ts[i].clone(), true);\n                }\n                if (sel.ranges[0]) sel.addRange(sel.ranges[0].clone());\n            } else {\n                this.editor.selection.setRange(ts.firstNonLinked);\n            }\n\n            this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        };\n        this.addTabstops = function (tabstops, start, end) {\n            if (!this.$openTabstops) this.$openTabstops = [];\n            if (!tabstops[0]) {\n                var p = Range.fromPoints(end, end);\n                moveRelative(p.start, start);\n                moveRelative(p.end, start);\n                tabstops[0] = [p];\n                tabstops[0].index = 0;\n            }\n\n            var i = this.index;\n            var arg = [i + 1, 0];\n            var ranges = this.ranges;\n            tabstops.forEach(function (ts, index) {\n                var dest = this.$openTabstops[index] || ts;\n\n                for (var i = ts.length; i--;) {\n                    var p = ts[i];\n                    var range = Range.fromPoints(p.start, p.end || p.start);\n                    movePoint(range.start, start);\n                    movePoint(range.end, start);\n                    range.original = p;\n                    range.tabstop = dest;\n                    ranges.push(range);\n                    if (dest != ts) dest.unshift(range);else dest[i] = range;\n                    if (p.fmtString) {\n                        range.linked = true;\n                        dest.hasLinkedRanges = true;\n                    } else if (!dest.firstNonLinked) dest.firstNonLinked = range;\n                }\n                if (!dest.firstNonLinked) dest.hasLinkedRanges = false;\n                if (dest === ts) {\n                    arg.push(dest);\n                    this.$openTabstops[index] = dest;\n                }\n                this.addTabstopMarkers(dest);\n            }, this);\n\n            if (arg.length > 2) {\n                if (this.tabstops.length) arg.push(arg.splice(2, 1)[0]);\n                this.tabstops.splice.apply(this.tabstops, arg);\n            }\n        };\n\n        this.addTabstopMarkers = function (ts) {\n            var session = this.editor.session;\n            ts.forEach(function (range) {\n                if (!range.markerId) range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n            });\n        };\n        this.removeTabstopMarkers = function (ts) {\n            var session = this.editor.session;\n            ts.forEach(function (range) {\n                session.removeMarker(range.markerId);\n                range.markerId = null;\n            });\n        };\n        this.removeRange = function (range) {\n            var i = range.tabstop.indexOf(range);\n            range.tabstop.splice(i, 1);\n            i = this.ranges.indexOf(range);\n            this.ranges.splice(i, 1);\n            this.editor.session.removeMarker(range.markerId);\n            if (!range.tabstop.length) {\n                i = this.tabstops.indexOf(range.tabstop);\n                if (i != -1) this.tabstops.splice(i, 1);\n                if (!this.tabstops.length) this.detach();\n            }\n        };\n\n        this.keyboardHandler = new HashHandler();\n        this.keyboardHandler.bindKeys({\n            \"Tab\": function Tab(ed) {\n                if (exports.snippetManager && exports.snippetManager.expandWithTab(ed)) {\n                    return;\n                }\n\n                ed.tabstopManager.tabNext(1);\n            },\n            \"Shift-Tab\": function ShiftTab(ed) {\n                ed.tabstopManager.tabNext(-1);\n            },\n            \"Esc\": function Esc(ed) {\n                ed.tabstopManager.detach();\n            },\n            \"Return\": function Return(ed) {\n                return false;\n            }\n        });\n    }).call(TabstopManager.prototype);\n\n    var changeTracker = {};\n    changeTracker.onChange = Anchor.prototype.onChange;\n    changeTracker.setPosition = function (row, column) {\n        this.pos.row = row;\n        this.pos.column = column;\n    };\n    changeTracker.update = function (pos, delta, $insertRight) {\n        this.$insertRight = $insertRight;\n        this.pos = pos;\n        this.onChange(delta);\n    };\n\n    var movePoint = function movePoint(point, diff) {\n        if (point.row == 0) point.column += diff.column;\n        point.row += diff.row;\n    };\n\n    var moveRelative = function moveRelative(point, start) {\n        if (point.row == start.row) point.column -= start.column;\n        point.row -= start.row;\n    };\n\n    acequire(\"./lib/dom\").importCssString(\"\\\n.ace_snippet-marker {\\\n    -moz-box-sizing: border-box;\\\n    box-sizing: border-box;\\\n    background: rgba(194, 193, 208, 0.09);\\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\\n    position: absolute;\\\n}\");\n\n    exports.snippetManager = new SnippetManager();\n\n    var Editor = acequire(\"./editor\").Editor;\n    (function () {\n        this.insertSnippet = function (content, options) {\n            return exports.snippetManager.insertSnippet(this, content, options);\n        };\n        this.expandSnippet = function (options) {\n            return exports.snippetManager.expandWithTab(this, options);\n        };\n    }).call(Editor.prototype);\n});\n\nace.define(\"ace/ext/emmet\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/editor\", \"ace/snippets\", \"ace/range\", \"resources\", \"resources\", \"tabStops\", \"resources\", \"utils\", \"actions\", \"ace/config\", \"ace/config\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var HashHandler = acequire(\"ace/keyboard/hash_handler\").HashHandler;\n    var Editor = acequire(\"ace/editor\").Editor;\n    var snippetManager = acequire(\"ace/snippets\").snippetManager;\n    var Range = acequire(\"ace/range\").Range;\n    var emmet, emmetPath;\n    function AceEmmetEditor() {}\n\n    AceEmmetEditor.prototype = {\n        setupContext: function setupContext(editor) {\n            this.ace = editor;\n            this.indentation = editor.session.getTabString();\n            if (!emmet) emmet = window.emmet;\n            var resources = emmet.resources || emmet.require(\"resources\");\n            resources.setVariable(\"indentation\", this.indentation);\n            this.$syntax = null;\n            this.$syntax = this.getSyntax();\n        },\n        getSelectionRange: function getSelectionRange() {\n            var range = this.ace.getSelectionRange();\n            var doc = this.ace.session.doc;\n            return {\n                start: doc.positionToIndex(range.start),\n                end: doc.positionToIndex(range.end)\n            };\n        },\n        createSelection: function createSelection(start, end) {\n            var doc = this.ace.session.doc;\n            this.ace.selection.setRange({\n                start: doc.indexToPosition(start),\n                end: doc.indexToPosition(end)\n            });\n        },\n        getCurrentLineRange: function getCurrentLineRange() {\n            var ace = this.ace;\n            var row = ace.getCursorPosition().row;\n            var lineLength = ace.session.getLine(row).length;\n            var index = ace.session.doc.positionToIndex({ row: row, column: 0 });\n            return {\n                start: index,\n                end: index + lineLength\n            };\n        },\n        getCaretPos: function getCaretPos() {\n            var pos = this.ace.getCursorPosition();\n            return this.ace.session.doc.positionToIndex(pos);\n        },\n        setCaretPos: function setCaretPos(index) {\n            var pos = this.ace.session.doc.indexToPosition(index);\n            this.ace.selection.moveToPosition(pos);\n        },\n        getCurrentLine: function getCurrentLine() {\n            var row = this.ace.getCursorPosition().row;\n            return this.ace.session.getLine(row);\n        },\n        replaceContent: function replaceContent(value, start, end, noIndent) {\n            if (end == null) end = start == null ? this.getContent().length : start;\n            if (start == null) start = 0;\n\n            var editor = this.ace;\n            var doc = editor.session.doc;\n            var range = Range.fromPoints(doc.indexToPosition(start), doc.indexToPosition(end));\n            editor.session.remove(range);\n\n            range.end = range.start;\n\n            value = this.$updateTabstops(value);\n            snippetManager.insertSnippet(editor, value);\n        },\n        getContent: function getContent() {\n            return this.ace.getValue();\n        },\n        getSyntax: function getSyntax() {\n            if (this.$syntax) return this.$syntax;\n            var syntax = this.ace.session.$modeId.split(\"/\").pop();\n            if (syntax == \"html\" || syntax == \"php\") {\n                var cursor = this.ace.getCursorPosition();\n                var state = this.ace.session.getState(cursor.row);\n                if (typeof state != \"string\") state = state[0];\n                if (state) {\n                    state = state.split(\"-\");\n                    if (state.length > 1) syntax = state[0];else if (syntax == \"php\") syntax = \"html\";\n                }\n            }\n            return syntax;\n        },\n        getProfileName: function getProfileName() {\n            var resources = emmet.resources || emmet.require(\"resources\");\n            switch (this.getSyntax()) {\n                case \"css\":\n                    return \"css\";\n                case \"xml\":\n                case \"xsl\":\n                    return \"xml\";\n                case \"html\":\n                    var profile = resources.getVariable(\"profile\");\n                    if (!profile) profile = this.ace.session.getLines(0, 2).join(\"\").search(/<!DOCTYPE[^>]+XHTML/i) != -1 ? \"xhtml\" : \"html\";\n                    return profile;\n                default:\n                    var mode = this.ace.session.$mode;\n                    return mode.emmetConfig && mode.emmetConfig.profile || \"xhtml\";\n            }\n        },\n        prompt: function (_prompt) {\n            function prompt(_x) {\n                return _prompt.apply(this, arguments);\n            }\n\n            prompt.toString = function () {\n                return _prompt.toString();\n            };\n\n            return prompt;\n        }(function (title) {\n            return prompt(title);\n        }),\n        getSelection: function getSelection() {\n            return this.ace.session.getTextRange();\n        },\n        getFilePath: function getFilePath() {\n            return \"\";\n        },\n        $updateTabstops: function $updateTabstops(value) {\n            var base = 1000;\n            var zeroBase = 0;\n            var lastZero = null;\n            var ts = emmet.tabStops || emmet.require('tabStops');\n            var resources = emmet.resources || emmet.require(\"resources\");\n            var settings = resources.getVocabulary(\"user\");\n            var tabstopOptions = {\n                tabstop: function tabstop(data) {\n                    var group = parseInt(data.group, 10);\n                    var isZero = group === 0;\n                    if (isZero) group = ++zeroBase;else group += base;\n\n                    var placeholder = data.placeholder;\n                    if (placeholder) {\n                        placeholder = ts.processText(placeholder, tabstopOptions);\n                    }\n\n                    var result = '${' + group + (placeholder ? ':' + placeholder : '') + '}';\n\n                    if (isZero) {\n                        lastZero = [data.start, result];\n                    }\n\n                    return result;\n                },\n                escape: function escape(ch) {\n                    if (ch == '$') return '\\\\$';\n                    if (ch == '\\\\') return '\\\\\\\\';\n                    return ch;\n                }\n            };\n\n            value = ts.processText(value, tabstopOptions);\n\n            if (settings.variables['insert_final_tabstop'] && !/\\$\\{0\\}$/.test(value)) {\n                value += '${0}';\n            } else if (lastZero) {\n                var common = emmet.utils ? emmet.utils.common : emmet.require('utils');\n                value = common.replaceSubstring(value, '${0}', lastZero[0], lastZero[1]);\n            }\n\n            return value;\n        }\n    };\n\n    var keymap = {\n        expand_abbreviation: { \"mac\": \"ctrl+alt+e\", \"win\": \"alt+e\" },\n        match_pair_outward: { \"mac\": \"ctrl+d\", \"win\": \"ctrl+,\" },\n        match_pair_inward: { \"mac\": \"ctrl+j\", \"win\": \"ctrl+shift+0\" },\n        matching_pair: { \"mac\": \"ctrl+alt+j\", \"win\": \"alt+j\" },\n        next_edit_point: \"alt+right\",\n        prev_edit_point: \"alt+left\",\n        toggle_comment: { \"mac\": \"command+/\", \"win\": \"ctrl+/\" },\n        split_join_tag: { \"mac\": \"shift+command+'\", \"win\": \"shift+ctrl+`\" },\n        remove_tag: { \"mac\": \"command+'\", \"win\": \"shift+ctrl+;\" },\n        evaluate_math_expression: { \"mac\": \"shift+command+y\", \"win\": \"shift+ctrl+y\" },\n        increment_number_by_1: \"ctrl+up\",\n        decrement_number_by_1: \"ctrl+down\",\n        increment_number_by_01: \"alt+up\",\n        decrement_number_by_01: \"alt+down\",\n        increment_number_by_10: { \"mac\": \"alt+command+up\", \"win\": \"shift+alt+up\" },\n        decrement_number_by_10: { \"mac\": \"alt+command+down\", \"win\": \"shift+alt+down\" },\n        select_next_item: { \"mac\": \"shift+command+.\", \"win\": \"shift+ctrl+.\" },\n        select_previous_item: { \"mac\": \"shift+command+,\", \"win\": \"shift+ctrl+,\" },\n        reflect_css_value: { \"mac\": \"shift+command+r\", \"win\": \"shift+ctrl+r\" },\n\n        encode_decode_data_url: { \"mac\": \"shift+ctrl+d\", \"win\": \"ctrl+'\" },\n        expand_abbreviation_with_tab: \"Tab\",\n        wrap_with_abbreviation: { \"mac\": \"shift+ctrl+a\", \"win\": \"shift+ctrl+a\" }\n    };\n\n    var editorProxy = new AceEmmetEditor();\n    exports.commands = new HashHandler();\n    exports.runEmmetCommand = function runEmmetCommand(editor) {\n        try {\n            editorProxy.setupContext(editor);\n            var actions = emmet.actions || emmet.require(\"actions\");\n\n            if (this.action == \"expand_abbreviation_with_tab\") {\n                if (!editor.selection.isEmpty()) return false;\n                var pos = editor.selection.lead;\n                var token = editor.session.getTokenAt(pos.row, pos.column);\n                if (token && /\\btag\\b/.test(token.type)) return false;\n            }\n\n            if (this.action == \"wrap_with_abbreviation\") {\n                return setTimeout(function () {\n                    actions.run(\"wrap_with_abbreviation\", editorProxy);\n                }, 0);\n            }\n\n            var result = actions.run(this.action, editorProxy);\n        } catch (e) {\n            if (!emmet) {\n                load(runEmmetCommand.bind(this, editor));\n                return true;\n            }\n            editor._signal(\"changeStatus\", typeof e == \"string\" ? e : e.message);\n            console.log(e);\n            result = false;\n        }\n        return result;\n    };\n\n    for (var command in keymap) {\n        exports.commands.addCommand({\n            name: \"emmet:\" + command,\n            action: command,\n            bindKey: keymap[command],\n            exec: exports.runEmmetCommand,\n            multiSelectAction: \"forEach\"\n        });\n    }\n\n    exports.updateCommands = function (editor, enabled) {\n        if (enabled) {\n            editor.keyBinding.addKeyboardHandler(exports.commands);\n        } else {\n            editor.keyBinding.removeKeyboardHandler(exports.commands);\n        }\n    };\n\n    exports.isSupportedMode = function (mode) {\n        if (!mode) return false;\n        if (mode.emmetConfig) return true;\n        var id = mode.$id || mode;\n        return (/css|less|scss|sass|stylus|html|php|twig|ejs|handlebars/.test(id)\n        );\n    };\n\n    exports.isAvailable = function (editor, command) {\n        if (/(evaluate_math_expression|expand_abbreviation)$/.test(command)) return true;\n        var mode = editor.session.$mode;\n        var isSupported = exports.isSupportedMode(mode);\n        if (isSupported && mode.$modes) {\n            try {\n                editorProxy.setupContext(editor);\n                if (/js|php/.test(editorProxy.getSyntax())) isSupported = false;\n            } catch (e) {}\n        }\n        return isSupported;\n    };\n\n    var onChangeMode = function onChangeMode(e, target) {\n        var editor = target;\n        if (!editor) return;\n        var enabled = exports.isSupportedMode(editor.session.$mode);\n        if (e.enableEmmet === false) enabled = false;\n        if (enabled) load();\n        exports.updateCommands(editor, enabled);\n    };\n\n    var load = function load(cb) {\n        if (typeof emmetPath == \"string\") {\n            acequire(\"ace/config\").loadModule(emmetPath, function () {\n                emmetPath = null;\n                cb && cb();\n            });\n        }\n    };\n\n    exports.AceEmmetEditor = AceEmmetEditor;\n    acequire(\"ace/config\").defineOptions(Editor.prototype, \"editor\", {\n        enableEmmet: {\n            set: function set(val) {\n                this[val ? \"on\" : \"removeListener\"](\"changeMode\", onChangeMode);\n                onChangeMode({ enableEmmet: !!val }, this);\n            },\n            value: true\n        }\n    });\n\n    exports.setCore = function (e) {\n        if (typeof e == \"string\") emmetPath = e;else emmet = e;\n    };\n});\n(function () {\n    ace.acequire([\"ace/ext/emmet\"], function () {});\n})();\n\n/***/ }),\n\n/***/ 157:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nace.define(\"ace/snippets\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\", \"ace/lib/lang\", \"ace/range\", \"ace/anchor\", \"ace/keyboard/hash_handler\", \"ace/tokenizer\", \"ace/lib/dom\", \"ace/editor\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var lang = acequire(\"./lib/lang\");\n    var Range = acequire(\"./range\").Range;\n    var Anchor = acequire(\"./anchor\").Anchor;\n    var HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\n    var Tokenizer = acequire(\"./tokenizer\").Tokenizer;\n    var comparePoints = Range.comparePoints;\n\n    var SnippetManager = function SnippetManager() {\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n    };\n\n    (function () {\n        oop.implement(this, EventEmitter);\n\n        this.getTokenizer = function () {\n            function TabstopToken(str, _, stack) {\n                str = str.substr(1);\n                if (/^\\d+$/.test(str) && !stack.inFormatString) return [{ tabstopId: parseInt(str, 10) }];\n                return [{ text: str }];\n            }\n            function escape(ch) {\n                return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n            }\n            SnippetManager.$tokenizer = new Tokenizer({\n                start: [{ regex: /:/, onMatch: function onMatch(val, state, stack) {\n                        if (stack.length && stack[0].expectIf) {\n                            stack[0].expectIf = false;\n                            stack[0].elseBranch = stack[0];\n                            return [stack[0]];\n                        }\n                        return \":\";\n                    } }, { regex: /\\\\./, onMatch: function onMatch(val, state, stack) {\n                        var ch = val[1];\n                        if (ch == \"}\" && stack.length) {\n                            val = ch;\n                        } else if (\"`$\\\\\".indexOf(ch) != -1) {\n                            val = ch;\n                        } else if (stack.inFormatString) {\n                            if (ch == \"n\") val = \"\\n\";else if (ch == \"t\") val = \"\\n\";else if (\"ulULE\".indexOf(ch) != -1) {\n                                val = { changeCase: ch, local: ch > \"a\" };\n                            }\n                        }\n\n                        return [val];\n                    } }, { regex: /}/, onMatch: function onMatch(val, state, stack) {\n                        return [stack.length ? stack.shift() : val];\n                    } }, { regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken }, { regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function onMatch(str, state, stack) {\n                        var t = TabstopToken(str.substr(1), state, stack);\n                        stack.unshift(t[0]);\n                        return t;\n                    }, next: \"snippetVar\" }, { regex: /\\n/, token: \"newline\", merge: false }],\n                snippetVar: [{ regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function onMatch(val, state, stack) {\n                        stack[0].choices = val.slice(1, -1).split(\",\");\n                    }, next: \"start\" }, { regex: \"/(\" + escape(\"/\") + \"+)/(?:(\" + escape(\"/\") + \"*)/)(\\\\w*):?\",\n                    onMatch: function onMatch(val, state, stack) {\n                        var ts = stack[0];\n                        ts.fmtString = val;\n\n                        val = this.splitRegex.exec(val);\n                        ts.guard = val[1];\n                        ts.fmt = val[2];\n                        ts.flag = val[3];\n                        return \"\";\n                    }, next: \"start\" }, { regex: \"`\" + escape(\"`\") + \"*`\", onMatch: function onMatch(val, state, stack) {\n                        stack[0].code = val.splice(1, -1);\n                        return \"\";\n                    }, next: \"start\" }, { regex: \"\\\\?\", onMatch: function onMatch(val, state, stack) {\n                        if (stack[0]) stack[0].expectIf = true;\n                    }, next: \"start\" }, { regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\" }],\n                formatString: [{ regex: \"/(\" + escape(\"/\") + \"+)/\", token: \"regex\" }, { regex: \"\", onMatch: function onMatch(val, state, stack) {\n                        stack.inFormatString = true;\n                    }, next: \"start\" }]\n            });\n            SnippetManager.prototype.getTokenizer = function () {\n                return SnippetManager.$tokenizer;\n            };\n            return SnippetManager.$tokenizer;\n        };\n\n        this.tokenizeTmSnippet = function (str, startState) {\n            return this.getTokenizer().getLineTokens(str, startState).tokens.map(function (x) {\n                return x.value || x;\n            });\n        };\n\n        this.$getDefaultValue = function (editor, name) {\n            if (/^[A-Z]\\d+$/.test(name)) {\n                var i = name.substr(1);\n                return (this.variables[name[0] + \"__\"] || {})[i];\n            }\n            if (/^\\d+$/.test(name)) {\n                return (this.variables.__ || {})[name];\n            }\n            name = name.replace(/^TM_/, \"\");\n\n            if (!editor) return;\n            var s = editor.session;\n            switch (name) {\n                case \"CURRENT_WORD\":\n                    var r = s.getWordRange();\n                case \"SELECTION\":\n                case \"SELECTED_TEXT\":\n                    return s.getTextRange(r);\n                case \"CURRENT_LINE\":\n                    return s.getLine(editor.getCursorPosition().row);\n                case \"PREV_LINE\":\n                    // not possible in textmate\n                    return s.getLine(editor.getCursorPosition().row - 1);\n                case \"LINE_INDEX\":\n                    return editor.getCursorPosition().column;\n                case \"LINE_NUMBER\":\n                    return editor.getCursorPosition().row + 1;\n                case \"SOFT_TABS\":\n                    return s.getUseSoftTabs() ? \"YES\" : \"NO\";\n                case \"TAB_SIZE\":\n                    return s.getTabSize();\n                case \"FILENAME\":\n                case \"FILEPATH\":\n                    return \"\";\n                case \"FULLNAME\":\n                    return \"Ace\";\n            }\n        };\n        this.variables = {};\n        this.getVariableValue = function (editor, varName) {\n            if (this.variables.hasOwnProperty(varName)) return this.variables[varName](editor, varName) || \"\";\n            return this.$getDefaultValue(editor, varName) || \"\";\n        };\n        this.tmStrFormat = function (str, ch, editor) {\n            var flag = ch.flag || \"\";\n            var re = ch.guard;\n            re = new RegExp(re, flag.replace(/[^gi]/, \"\"));\n            var fmtTokens = this.tokenizeTmSnippet(ch.fmt, \"formatString\");\n            var _self = this;\n            var formatted = str.replace(re, function () {\n                _self.variables.__ = arguments;\n                var fmtParts = _self.resolveVariables(fmtTokens, editor);\n                var gChangeCase = \"E\";\n                for (var i = 0; i < fmtParts.length; i++) {\n                    var ch = fmtParts[i];\n                    if ((typeof ch === \"undefined\" ? \"undefined\" : _typeof(ch)) == \"object\") {\n                        fmtParts[i] = \"\";\n                        if (ch.changeCase && ch.local) {\n                            var next = fmtParts[i + 1];\n                            if (next && typeof next == \"string\") {\n                                if (ch.changeCase == \"u\") fmtParts[i] = next[0].toUpperCase();else fmtParts[i] = next[0].toLowerCase();\n                                fmtParts[i + 1] = next.substr(1);\n                            }\n                        } else if (ch.changeCase) {\n                            gChangeCase = ch.changeCase;\n                        }\n                    } else if (gChangeCase == \"U\") {\n                        fmtParts[i] = ch.toUpperCase();\n                    } else if (gChangeCase == \"L\") {\n                        fmtParts[i] = ch.toLowerCase();\n                    }\n                }\n                return fmtParts.join(\"\");\n            });\n            this.variables.__ = null;\n            return formatted;\n        };\n\n        this.resolveVariables = function (snippet, editor) {\n            var result = [];\n            for (var i = 0; i < snippet.length; i++) {\n                var ch = snippet[i];\n                if (typeof ch == \"string\") {\n                    result.push(ch);\n                } else if ((typeof ch === \"undefined\" ? \"undefined\" : _typeof(ch)) != \"object\") {\n                    continue;\n                } else if (ch.skip) {\n                    gotoNext(ch);\n                } else if (ch.processed < i) {\n                    continue;\n                } else if (ch.text) {\n                    var value = this.getVariableValue(editor, ch.text);\n                    if (value && ch.fmtString) value = this.tmStrFormat(value, ch);\n                    ch.processed = i;\n                    if (ch.expectIf == null) {\n                        if (value) {\n                            result.push(value);\n                            gotoNext(ch);\n                        }\n                    } else {\n                        if (value) {\n                            ch.skip = ch.elseBranch;\n                        } else gotoNext(ch);\n                    }\n                } else if (ch.tabstopId != null) {\n                    result.push(ch);\n                } else if (ch.changeCase != null) {\n                    result.push(ch);\n                }\n            }\n            function gotoNext(ch) {\n                var i1 = snippet.indexOf(ch, i + 1);\n                if (i1 != -1) i = i1;\n            }\n            return result;\n        };\n\n        this.insertSnippetForSelection = function (editor, snippetText) {\n            var cursor = editor.getCursorPosition();\n            var line = editor.session.getLine(cursor.row);\n            var tabString = editor.session.getTabString();\n            var indentString = line.match(/^\\s*/)[0];\n\n            if (cursor.column < indentString.length) indentString = indentString.slice(0, cursor.column);\n\n            snippetText = snippetText.replace(/\\r/g, \"\");\n            var tokens = this.tokenizeTmSnippet(snippetText);\n            tokens = this.resolveVariables(tokens, editor);\n            tokens = tokens.map(function (x) {\n                if (x == \"\\n\") return x + indentString;\n                if (typeof x == \"string\") return x.replace(/\\t/g, tabString);\n                return x;\n            });\n            var tabstops = [];\n            tokens.forEach(function (p, i) {\n                if ((typeof p === \"undefined\" ? \"undefined\" : _typeof(p)) != \"object\") return;\n                var id = p.tabstopId;\n                var ts = tabstops[id];\n                if (!ts) {\n                    ts = tabstops[id] = [];\n                    ts.index = id;\n                    ts.value = \"\";\n                }\n                if (ts.indexOf(p) !== -1) return;\n                ts.push(p);\n                var i1 = tokens.indexOf(p, i + 1);\n                if (i1 === -1) return;\n\n                var value = tokens.slice(i + 1, i1);\n                var isNested = value.some(function (t) {\n                    return (typeof t === \"undefined\" ? \"undefined\" : _typeof(t)) === \"object\";\n                });\n                if (isNested && !ts.value) {\n                    ts.value = value;\n                } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                    ts.value = value.join(\"\");\n                }\n            });\n            tabstops.forEach(function (ts) {\n                ts.length = 0;\n            });\n            var expanding = {};\n            function copyValue(val) {\n                var copy = [];\n                for (var i = 0; i < val.length; i++) {\n                    var p = val[i];\n                    if ((typeof p === \"undefined\" ? \"undefined\" : _typeof(p)) == \"object\") {\n                        if (expanding[p.tabstopId]) continue;\n                        var j = val.lastIndexOf(p, i - 1);\n                        p = copy[j] || { tabstopId: p.tabstopId };\n                    }\n                    copy[i] = p;\n                }\n                return copy;\n            }\n            for (var i = 0; i < tokens.length; i++) {\n                var p = tokens[i];\n                if ((typeof p === \"undefined\" ? \"undefined\" : _typeof(p)) != \"object\") continue;\n                var id = p.tabstopId;\n                var i1 = tokens.indexOf(p, i + 1);\n                if (expanding[id]) {\n                    if (expanding[id] === p) expanding[id] = null;\n                    continue;\n                }\n\n                var ts = tabstops[id];\n                var arg = typeof ts.value == \"string\" ? [ts.value] : copyValue(ts.value);\n                arg.unshift(i + 1, Math.max(0, i1 - i));\n                arg.push(p);\n                expanding[id] = p;\n                tokens.splice.apply(tokens, arg);\n\n                if (ts.indexOf(p) === -1) ts.push(p);\n            }\n            var row = 0,\n                column = 0;\n            var text = \"\";\n            tokens.forEach(function (t) {\n                if (typeof t === \"string\") {\n                    var lines = t.split(\"\\n\");\n                    if (lines.length > 1) {\n                        column = lines[lines.length - 1].length;\n                        row += lines.length - 1;\n                    } else column += t.length;\n                    text += t;\n                } else {\n                    if (!t.start) t.start = { row: row, column: column };else t.end = { row: row, column: column };\n                }\n            });\n            var range = editor.getSelectionRange();\n            var end = editor.session.replace(range, text);\n\n            var tabstopManager = new TabstopManager(editor);\n            var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n            tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n        };\n\n        this.insertSnippet = function (editor, snippetText) {\n            var self = this;\n            if (editor.inVirtualSelectionMode) return self.insertSnippetForSelection(editor, snippetText);\n\n            editor.forEachSelection(function () {\n                self.insertSnippetForSelection(editor, snippetText);\n            }, null, { keepOrder: true });\n\n            if (editor.tabstopManager) editor.tabstopManager.tabNext();\n        };\n\n        this.$getScope = function (editor) {\n            var scope = editor.session.$mode.$id || \"\";\n            scope = scope.split(\"/\").pop();\n            if (scope === \"html\" || scope === \"php\") {\n                if (scope === \"php\" && !editor.session.$mode.inlinePhp) scope = \"html\";\n                var c = editor.getCursorPosition();\n                var state = editor.session.getState(c.row);\n                if ((typeof state === \"undefined\" ? \"undefined\" : _typeof(state)) === \"object\") {\n                    state = state[0];\n                }\n                if (state.substring) {\n                    if (state.substring(0, 3) == \"js-\") scope = \"javascript\";else if (state.substring(0, 4) == \"css-\") scope = \"css\";else if (state.substring(0, 4) == \"php-\") scope = \"php\";\n                }\n            }\n\n            return scope;\n        };\n\n        this.getActiveScopes = function (editor) {\n            var scope = this.$getScope(editor);\n            var scopes = [scope];\n            var snippetMap = this.snippetMap;\n            if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n                scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n            }\n            scopes.push(\"_\");\n            return scopes;\n        };\n\n        this.expandWithTab = function (editor, options) {\n            var self = this;\n            var result = editor.forEachSelection(function () {\n                return self.expandSnippetForSelection(editor, options);\n            }, null, { keepOrder: true });\n            if (result && editor.tabstopManager) editor.tabstopManager.tabNext();\n            return result;\n        };\n\n        this.expandSnippetForSelection = function (editor, options) {\n            var cursor = editor.getCursorPosition();\n            var line = editor.session.getLine(cursor.row);\n            var before = line.substring(0, cursor.column);\n            var after = line.substr(cursor.column);\n\n            var snippetMap = this.snippetMap;\n            var snippet;\n            this.getActiveScopes(editor).some(function (scope) {\n                var snippets = snippetMap[scope];\n                if (snippets) snippet = this.findMatchingSnippet(snippets, before, after);\n                return !!snippet;\n            }, this);\n            if (!snippet) return false;\n            if (options && options.dryRun) return true;\n            editor.session.doc.removeInLine(cursor.row, cursor.column - snippet.replaceBefore.length, cursor.column + snippet.replaceAfter.length);\n\n            this.variables.M__ = snippet.matchBefore;\n            this.variables.T__ = snippet.matchAfter;\n            this.insertSnippetForSelection(editor, snippet.content);\n\n            this.variables.M__ = this.variables.T__ = null;\n            return true;\n        };\n\n        this.findMatchingSnippet = function (snippetList, before, after) {\n            for (var i = snippetList.length; i--;) {\n                var s = snippetList[i];\n                if (s.startRe && !s.startRe.test(before)) continue;\n                if (s.endRe && !s.endRe.test(after)) continue;\n                if (!s.startRe && !s.endRe) continue;\n\n                s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n                s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n                s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n                s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n                return s;\n            }\n        };\n\n        this.snippetMap = {};\n        this.snippetNameMap = {};\n        this.register = function (snippets, scope) {\n            var snippetMap = this.snippetMap;\n            var snippetNameMap = this.snippetNameMap;\n            var self = this;\n\n            if (!snippets) snippets = [];\n\n            function wrapRegexp(src) {\n                if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src)) src = \"(?:\" + src + \")\";\n\n                return src || \"\";\n            }\n            function guardedRegexp(re, guard, opening) {\n                re = wrapRegexp(re);\n                guard = wrapRegexp(guard);\n                if (opening) {\n                    re = guard + re;\n                    if (re && re[re.length - 1] != \"$\") re = re + \"$\";\n                } else {\n                    re = re + guard;\n                    if (re && re[0] != \"^\") re = \"^\" + re;\n                }\n                return new RegExp(re);\n            }\n\n            function addSnippet(s) {\n                if (!s.scope) s.scope = scope || \"_\";\n                scope = s.scope;\n                if (!snippetMap[scope]) {\n                    snippetMap[scope] = [];\n                    snippetNameMap[scope] = {};\n                }\n\n                var map = snippetNameMap[scope];\n                if (s.name) {\n                    var old = map[s.name];\n                    if (old) self.unregister(old);\n                    map[s.name] = s;\n                }\n                snippetMap[scope].push(s);\n\n                if (s.tabTrigger && !s.trigger) {\n                    if (!s.guard && /^\\w/.test(s.tabTrigger)) s.guard = \"\\\\b\";\n                    s.trigger = lang.escapeRegExp(s.tabTrigger);\n                }\n\n                if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard) return;\n\n                s.startRe = guardedRegexp(s.trigger, s.guard, true);\n                s.triggerRe = new RegExp(s.trigger, \"\", true);\n\n                s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n                s.endTriggerRe = new RegExp(s.endTrigger, \"\", true);\n            }\n\n            if (snippets && snippets.content) addSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(addSnippet);\n\n            this._signal(\"registerSnippets\", { scope: scope });\n        };\n        this.unregister = function (snippets, scope) {\n            var snippetMap = this.snippetMap;\n            var snippetNameMap = this.snippetNameMap;\n\n            function removeSnippet(s) {\n                var nameMap = snippetNameMap[s.scope || scope];\n                if (nameMap && nameMap[s.name]) {\n                    delete nameMap[s.name];\n                    var map = snippetMap[s.scope || scope];\n                    var i = map && map.indexOf(s);\n                    if (i >= 0) map.splice(i, 1);\n                }\n            }\n            if (snippets.content) removeSnippet(snippets);else if (Array.isArray(snippets)) snippets.forEach(removeSnippet);\n        };\n        this.parseSnippetFile = function (str) {\n            str = str.replace(/\\r/g, \"\");\n            var list = [],\n                snippet = {};\n            var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n            var m;\n            while (m = re.exec(str)) {\n                if (m[1]) {\n                    try {\n                        snippet = JSON.parse(m[1]);\n                        list.push(snippet);\n                    } catch (e) {}\n                }if (m[4]) {\n                    snippet.content = m[4].replace(/^\\t/gm, \"\");\n                    list.push(snippet);\n                    snippet = {};\n                } else {\n                    var key = m[2],\n                        val = m[3];\n                    if (key == \"regex\") {\n                        var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                        snippet.guard = guardRe.exec(val)[1];\n                        snippet.trigger = guardRe.exec(val)[1];\n                        snippet.endTrigger = guardRe.exec(val)[1];\n                        snippet.endGuard = guardRe.exec(val)[1];\n                    } else if (key == \"snippet\") {\n                        snippet.tabTrigger = val.match(/^\\S*/)[0];\n                        if (!snippet.name) snippet.name = val;\n                    } else {\n                        snippet[key] = val;\n                    }\n                }\n            }\n            return list;\n        };\n        this.getSnippetByName = function (name, editor) {\n            var snippetMap = this.snippetNameMap;\n            var snippet;\n            this.getActiveScopes(editor).some(function (scope) {\n                var snippets = snippetMap[scope];\n                if (snippets) snippet = snippets[name];\n                return !!snippet;\n            }, this);\n            return snippet;\n        };\n    }).call(SnippetManager.prototype);\n\n    var TabstopManager = function TabstopManager(editor) {\n        if (editor.tabstopManager) return editor.tabstopManager;\n        editor.tabstopManager = this;\n        this.$onChange = this.onChange.bind(this);\n        this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n        this.$onChangeSession = this.onChangeSession.bind(this);\n        this.$onAfterExec = this.onAfterExec.bind(this);\n        this.attach(editor);\n    };\n    (function () {\n        this.attach = function (editor) {\n            this.index = 0;\n            this.ranges = [];\n            this.tabstops = [];\n            this.$openTabstops = null;\n            this.selectedTabstop = null;\n\n            this.editor = editor;\n            this.editor.on(\"change\", this.$onChange);\n            this.editor.on(\"changeSelection\", this.$onChangeSelection);\n            this.editor.on(\"changeSession\", this.$onChangeSession);\n            this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n            this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        };\n        this.detach = function () {\n            this.tabstops.forEach(this.removeTabstopMarkers, this);\n            this.ranges = null;\n            this.tabstops = null;\n            this.selectedTabstop = null;\n            this.editor.removeListener(\"change\", this.$onChange);\n            this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n            this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n            this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.tabstopManager = null;\n            this.editor = null;\n        };\n\n        this.onChange = function (delta) {\n            var changeRange = delta;\n            var isRemove = delta.action[0] == \"r\";\n            var start = delta.start;\n            var end = delta.end;\n            var startRow = start.row;\n            var endRow = end.row;\n            var lineDif = endRow - startRow;\n            var colDiff = end.column - start.column;\n\n            if (isRemove) {\n                lineDif = -lineDif;\n                colDiff = -colDiff;\n            }\n            if (!this.$inChange && isRemove) {\n                var ts = this.selectedTabstop;\n                var changedOutside = ts && !ts.some(function (r) {\n                    return comparePoints(r.start, start) <= 0 && comparePoints(r.end, end) >= 0;\n                });\n                if (changedOutside) return this.detach();\n            }\n            var ranges = this.ranges;\n            for (var i = 0; i < ranges.length; i++) {\n                var r = ranges[i];\n                if (r.end.row < start.row) continue;\n\n                if (isRemove && comparePoints(start, r.start) < 0 && comparePoints(end, r.end) > 0) {\n                    this.removeRange(r);\n                    i--;\n                    continue;\n                }\n\n                if (r.start.row == startRow && r.start.column > start.column) r.start.column += colDiff;\n                if (r.end.row == startRow && r.end.column >= start.column) r.end.column += colDiff;\n                if (r.start.row >= startRow) r.start.row += lineDif;\n                if (r.end.row >= startRow) r.end.row += lineDif;\n\n                if (comparePoints(r.start, r.end) > 0) this.removeRange(r);\n            }\n            if (!ranges.length) this.detach();\n        };\n        this.updateLinkedFields = function () {\n            var ts = this.selectedTabstop;\n            if (!ts || !ts.hasLinkedRanges) return;\n            this.$inChange = true;\n            var session = this.editor.session;\n            var text = session.getTextRange(ts.firstNonLinked);\n            for (var i = ts.length; i--;) {\n                var range = ts[i];\n                if (!range.linked) continue;\n                var fmt = exports.snippetManager.tmStrFormat(text, range.original);\n                session.replace(range, fmt);\n            }\n            this.$inChange = false;\n        };\n        this.onAfterExec = function (e) {\n            if (e.command && !e.command.readOnly) this.updateLinkedFields();\n        };\n        this.onChangeSelection = function () {\n            if (!this.editor) return;\n            var lead = this.editor.selection.lead;\n            var anchor = this.editor.selection.anchor;\n            var isEmpty = this.editor.selection.isEmpty();\n            for (var i = this.ranges.length; i--;) {\n                if (this.ranges[i].linked) continue;\n                var containsLead = this.ranges[i].contains(lead.row, lead.column);\n                var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n                if (containsLead && containsAnchor) return;\n            }\n            this.detach();\n        };\n        this.onChangeSession = function () {\n            this.detach();\n        };\n        this.tabNext = function (dir) {\n            var max = this.tabstops.length;\n            var index = this.index + (dir || 1);\n            index = Math.min(Math.max(index, 1), max);\n            if (index == max) index = 0;\n            this.selectTabstop(index);\n            if (index === 0) this.detach();\n        };\n        this.selectTabstop = function (index) {\n            this.$openTabstops = null;\n            var ts = this.tabstops[this.index];\n            if (ts) this.addTabstopMarkers(ts);\n            this.index = index;\n            ts = this.tabstops[this.index];\n            if (!ts || !ts.length) return;\n\n            this.selectedTabstop = ts;\n            if (!this.editor.inVirtualSelectionMode) {\n                var sel = this.editor.multiSelect;\n                sel.toSingleRange(ts.firstNonLinked.clone());\n                for (var i = ts.length; i--;) {\n                    if (ts.hasLinkedRanges && ts[i].linked) continue;\n                    sel.addRange(ts[i].clone(), true);\n                }\n                if (sel.ranges[0]) sel.addRange(sel.ranges[0].clone());\n            } else {\n                this.editor.selection.setRange(ts.firstNonLinked);\n            }\n\n            this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        };\n        this.addTabstops = function (tabstops, start, end) {\n            if (!this.$openTabstops) this.$openTabstops = [];\n            if (!tabstops[0]) {\n                var p = Range.fromPoints(end, end);\n                moveRelative(p.start, start);\n                moveRelative(p.end, start);\n                tabstops[0] = [p];\n                tabstops[0].index = 0;\n            }\n\n            var i = this.index;\n            var arg = [i + 1, 0];\n            var ranges = this.ranges;\n            tabstops.forEach(function (ts, index) {\n                var dest = this.$openTabstops[index] || ts;\n\n                for (var i = ts.length; i--;) {\n                    var p = ts[i];\n                    var range = Range.fromPoints(p.start, p.end || p.start);\n                    movePoint(range.start, start);\n                    movePoint(range.end, start);\n                    range.original = p;\n                    range.tabstop = dest;\n                    ranges.push(range);\n                    if (dest != ts) dest.unshift(range);else dest[i] = range;\n                    if (p.fmtString) {\n                        range.linked = true;\n                        dest.hasLinkedRanges = true;\n                    } else if (!dest.firstNonLinked) dest.firstNonLinked = range;\n                }\n                if (!dest.firstNonLinked) dest.hasLinkedRanges = false;\n                if (dest === ts) {\n                    arg.push(dest);\n                    this.$openTabstops[index] = dest;\n                }\n                this.addTabstopMarkers(dest);\n            }, this);\n\n            if (arg.length > 2) {\n                if (this.tabstops.length) arg.push(arg.splice(2, 1)[0]);\n                this.tabstops.splice.apply(this.tabstops, arg);\n            }\n        };\n\n        this.addTabstopMarkers = function (ts) {\n            var session = this.editor.session;\n            ts.forEach(function (range) {\n                if (!range.markerId) range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n            });\n        };\n        this.removeTabstopMarkers = function (ts) {\n            var session = this.editor.session;\n            ts.forEach(function (range) {\n                session.removeMarker(range.markerId);\n                range.markerId = null;\n            });\n        };\n        this.removeRange = function (range) {\n            var i = range.tabstop.indexOf(range);\n            range.tabstop.splice(i, 1);\n            i = this.ranges.indexOf(range);\n            this.ranges.splice(i, 1);\n            this.editor.session.removeMarker(range.markerId);\n            if (!range.tabstop.length) {\n                i = this.tabstops.indexOf(range.tabstop);\n                if (i != -1) this.tabstops.splice(i, 1);\n                if (!this.tabstops.length) this.detach();\n            }\n        };\n\n        this.keyboardHandler = new HashHandler();\n        this.keyboardHandler.bindKeys({\n            \"Tab\": function Tab(ed) {\n                if (exports.snippetManager && exports.snippetManager.expandWithTab(ed)) {\n                    return;\n                }\n\n                ed.tabstopManager.tabNext(1);\n            },\n            \"Shift-Tab\": function ShiftTab(ed) {\n                ed.tabstopManager.tabNext(-1);\n            },\n            \"Esc\": function Esc(ed) {\n                ed.tabstopManager.detach();\n            },\n            \"Return\": function Return(ed) {\n                return false;\n            }\n        });\n    }).call(TabstopManager.prototype);\n\n    var changeTracker = {};\n    changeTracker.onChange = Anchor.prototype.onChange;\n    changeTracker.setPosition = function (row, column) {\n        this.pos.row = row;\n        this.pos.column = column;\n    };\n    changeTracker.update = function (pos, delta, $insertRight) {\n        this.$insertRight = $insertRight;\n        this.pos = pos;\n        this.onChange(delta);\n    };\n\n    var movePoint = function movePoint(point, diff) {\n        if (point.row == 0) point.column += diff.column;\n        point.row += diff.row;\n    };\n\n    var moveRelative = function moveRelative(point, start) {\n        if (point.row == start.row) point.column -= start.column;\n        point.row -= start.row;\n    };\n\n    acequire(\"./lib/dom\").importCssString(\"\\\n.ace_snippet-marker {\\\n    -moz-box-sizing: border-box;\\\n    box-sizing: border-box;\\\n    background: rgba(194, 193, 208, 0.09);\\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\\n    position: absolute;\\\n}\");\n\n    exports.snippetManager = new SnippetManager();\n\n    var Editor = acequire(\"./editor\").Editor;\n    (function () {\n        this.insertSnippet = function (content, options) {\n            return exports.snippetManager.insertSnippet(this, content, options);\n        };\n        this.expandSnippet = function (options) {\n            return exports.snippetManager.expandWithTab(this, options);\n        };\n    }).call(Editor.prototype);\n});\n\nace.define(\"ace/autocomplete/popup\", [\"require\", \"exports\", \"module\", \"ace/virtual_renderer\", \"ace/editor\", \"ace/range\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/lib/dom\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Renderer = acequire(\"../virtual_renderer\").VirtualRenderer;\n    var Editor = acequire(\"../editor\").Editor;\n    var Range = acequire(\"../range\").Range;\n    var event = acequire(\"../lib/event\");\n    var lang = acequire(\"../lib/lang\");\n    var dom = acequire(\"../lib/dom\");\n\n    var $singleLineEditor = function $singleLineEditor(el) {\n        var renderer = new Renderer(el);\n\n        renderer.$maxLines = 4;\n\n        var editor = new Editor(renderer);\n\n        editor.setHighlightActiveLine(false);\n        editor.setShowPrintMargin(false);\n        editor.renderer.setShowGutter(false);\n        editor.renderer.setHighlightGutterLine(false);\n\n        editor.$mouseHandler.$focusWaitTimout = 0;\n        editor.$highlightTagPending = true;\n\n        return editor;\n    };\n\n    var AcePopup = function AcePopup(parentNode) {\n        var el = dom.createElement(\"div\");\n        var popup = new $singleLineEditor(el);\n\n        if (parentNode) parentNode.appendChild(el);\n        el.style.display = \"none\";\n        popup.renderer.content.style.cursor = \"default\";\n        popup.renderer.setStyle(\"ace_autocomplete\");\n\n        popup.setOption(\"displayIndentGuides\", false);\n        popup.setOption(\"dragDelay\", 150);\n\n        var noop = function noop() {};\n\n        popup.focus = noop;\n        popup.$isFocused = true;\n\n        popup.renderer.$cursorLayer.restartTimer = noop;\n        popup.renderer.$cursorLayer.element.style.opacity = 0;\n\n        popup.renderer.$maxLines = 8;\n        popup.renderer.$keepTextAreaAtCursor = false;\n\n        popup.setHighlightActiveLine(false);\n        popup.session.highlight(\"\");\n        popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n\n        popup.on(\"mousedown\", function (e) {\n            var pos = e.getDocumentPosition();\n            popup.selection.moveToPosition(pos);\n            selectionMarker.start.row = selectionMarker.end.row = pos.row;\n            e.stop();\n        });\n\n        var lastMouseEvent;\n        var hoverMarker = new Range(-1, 0, -1, Infinity);\n        var selectionMarker = new Range(-1, 0, -1, Infinity);\n        selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n        popup.setSelectOnHover = function (val) {\n            if (!val) {\n                hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n            } else if (hoverMarker.id) {\n                popup.session.removeMarker(hoverMarker.id);\n                hoverMarker.id = null;\n            }\n        };\n        popup.setSelectOnHover(false);\n        popup.on(\"mousemove\", function (e) {\n            if (!lastMouseEvent) {\n                lastMouseEvent = e;\n                return;\n            }\n            if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n                return;\n            }\n            lastMouseEvent = e;\n            lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (hoverMarker.start.row != row) {\n                if (!hoverMarker.id) popup.setRow(row);\n                setHoverMarker(row);\n            }\n        });\n        popup.renderer.on(\"beforeRender\", function () {\n            if (lastMouseEvent && hoverMarker.start.row != -1) {\n                lastMouseEvent.$pos = null;\n                var row = lastMouseEvent.getDocumentPosition().row;\n                if (!hoverMarker.id) popup.setRow(row);\n                setHoverMarker(row, true);\n            }\n        });\n        popup.renderer.on(\"afterRender\", function () {\n            var row = popup.getRow();\n            var t = popup.renderer.$textLayer;\n            var selected = t.element.childNodes[row - t.config.firstRow];\n            if (selected == t.selectedNode) return;\n            if (t.selectedNode) dom.removeCssClass(t.selectedNode, \"ace_selected\");\n            t.selectedNode = selected;\n            if (selected) dom.addCssClass(selected, \"ace_selected\");\n        });\n        var hideHoverMarker = function hideHoverMarker() {\n            setHoverMarker(-1);\n        };\n        var setHoverMarker = function setHoverMarker(row, suppressRedraw) {\n            if (row !== hoverMarker.start.row) {\n                hoverMarker.start.row = hoverMarker.end.row = row;\n                if (!suppressRedraw) popup.session._emit(\"changeBackMarker\");\n                popup._emit(\"changeHoverMarker\");\n            }\n        };\n        popup.getHoveredRow = function () {\n            return hoverMarker.start.row;\n        };\n\n        event.addListener(popup.container, \"mouseout\", hideHoverMarker);\n        popup.on(\"hide\", hideHoverMarker);\n        popup.on(\"changeSelection\", hideHoverMarker);\n\n        popup.session.doc.getLength = function () {\n            return popup.data.length;\n        };\n        popup.session.doc.getLine = function (i) {\n            var data = popup.data[i];\n            if (typeof data == \"string\") return data;\n            return data && data.value || \"\";\n        };\n\n        var bgTokenizer = popup.session.bgTokenizer;\n        bgTokenizer.$tokenizeRow = function (row) {\n            var data = popup.data[row];\n            var tokens = [];\n            if (!data) return tokens;\n            if (typeof data == \"string\") data = { value: data };\n            if (!data.caption) data.caption = data.value || data.name;\n\n            var last = -1;\n            var flag, c;\n            for (var i = 0; i < data.caption.length; i++) {\n                c = data.caption[i];\n                flag = data.matchMask & 1 << i ? 1 : 0;\n                if (last !== flag) {\n                    tokens.push({ type: data.className || \"\" + (flag ? \"completion-highlight\" : \"\"), value: c });\n                    last = flag;\n                } else {\n                    tokens[tokens.length - 1].value += c;\n                }\n            }\n\n            if (data.meta) {\n                var maxW = popup.renderer.$size.scrollerWidth / popup.renderer.layerConfig.characterWidth;\n                var metaData = data.meta;\n                if (metaData.length + data.caption.length > maxW - 2) {\n                    metaData = metaData.substr(0, maxW - data.caption.length - 3) + \"\\u2026\";\n                }\n                tokens.push({ type: \"rightAlignedText\", value: metaData });\n            }\n            return tokens;\n        };\n        bgTokenizer.$updateOnChange = noop;\n        bgTokenizer.start = noop;\n\n        popup.session.$computeWidth = function () {\n            return this.screenWidth = 0;\n        };\n\n        popup.$blockScrolling = Infinity;\n        popup.isOpen = false;\n        popup.isTopdown = false;\n        popup.autoSelect = true;\n\n        popup.data = [];\n        popup.setData = function (list) {\n            popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n            popup.data = list || [];\n            popup.setRow(0);\n        };\n        popup.getData = function (row) {\n            return popup.data[row];\n        };\n\n        popup.getRow = function () {\n            return selectionMarker.start.row;\n        };\n        popup.setRow = function (line) {\n            line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));\n            if (selectionMarker.start.row != line) {\n                popup.selection.clearSelection();\n                selectionMarker.start.row = selectionMarker.end.row = line || 0;\n                popup.session._emit(\"changeBackMarker\");\n                popup.moveCursorTo(line || 0, 0);\n                if (popup.isOpen) popup._signal(\"select\");\n            }\n        };\n\n        popup.on(\"changeSelection\", function () {\n            if (popup.isOpen) popup.setRow(popup.selection.lead.row);\n            popup.renderer.scrollCursorIntoView();\n        });\n\n        popup.hide = function () {\n            this.container.style.display = \"none\";\n            this._signal(\"hide\");\n            popup.isOpen = false;\n        };\n        popup.show = function (pos, lineHeight, topdownOnly) {\n            var el = this.container;\n            var screenHeight = window.innerHeight;\n            var screenWidth = window.innerWidth;\n            var renderer = this.renderer;\n            var maxH = renderer.$maxLines * lineHeight * 1.4;\n            var top = pos.top + this.$borderSize;\n            var allowTopdown = top > screenHeight / 2 && !topdownOnly;\n            if (allowTopdown && top + lineHeight + maxH > screenHeight) {\n                renderer.$maxPixelHeight = top - 2 * this.$borderSize;\n                el.style.top = \"\";\n                el.style.bottom = screenHeight - top + \"px\";\n                popup.isTopdown = false;\n            } else {\n                top += lineHeight;\n                renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;\n                el.style.top = top + \"px\";\n                el.style.bottom = \"\";\n                popup.isTopdown = true;\n            }\n\n            el.style.display = \"\";\n            this.renderer.$textLayer.checkForSizeChanges();\n\n            var left = pos.left;\n            if (left + el.offsetWidth > screenWidth) left = screenWidth - el.offsetWidth;\n\n            el.style.left = left + \"px\";\n\n            this._signal(\"show\");\n            lastMouseEvent = null;\n            popup.isOpen = true;\n        };\n\n        popup.getTextLeftOffset = function () {\n            return this.$borderSize + this.renderer.$padding + this.$imageSize;\n        };\n\n        popup.$imageSize = 0;\n        popup.$borderSize = 1;\n\n        return popup;\n    };\n\n    dom.importCssString(\"\\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\\n    background-color: #CAD6FA;\\\n    z-index: 1;\\\n}\\\n.ace_editor.ace_autocomplete .ace_line-hover {\\\n    border: 1px solid #abbffe;\\\n    margin-top: -1px;\\\n    background: rgba(233,233,253,0.4);\\\n}\\\n.ace_editor.ace_autocomplete .ace_line-hover {\\\n    position: absolute;\\\n    z-index: 2;\\\n}\\\n.ace_editor.ace_autocomplete .ace_scroller {\\\n   background: none;\\\n   border: none;\\\n   box-shadow: none;\\\n}\\\n.ace_rightAlignedText {\\\n    color: gray;\\\n    display: inline-block;\\\n    position: absolute;\\\n    right: 4px;\\\n    text-align: right;\\\n    z-index: -1;\\\n}\\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\\n    color: #000;\\\n    text-shadow: 0 0 0.01em;\\\n}\\\n.ace_editor.ace_autocomplete {\\\n    width: 280px;\\\n    z-index: 200000;\\\n    background: #fbfbfb;\\\n    color: #444;\\\n    border: 1px lightgray solid;\\\n    position: fixed;\\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\\n    line-height: 1.4;\\\n}\");\n\n    exports.AcePopup = AcePopup;\n});\n\nace.define(\"ace/autocomplete/util\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    exports.parForEach = function (array, fn, callback) {\n        var completed = 0;\n        var arLength = array.length;\n        if (arLength === 0) callback();\n        for (var i = 0; i < arLength; i++) {\n            fn(array[i], function (result, err) {\n                completed++;\n                if (completed === arLength) callback(result, err);\n            });\n        }\n    };\n\n    var ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\uFFFF]/;\n\n    exports.retrievePrecedingIdentifier = function (text, pos, regex) {\n        regex = regex || ID_REGEX;\n        var buf = [];\n        for (var i = pos - 1; i >= 0; i--) {\n            if (regex.test(text[i])) buf.push(text[i]);else break;\n        }\n        return buf.reverse().join(\"\");\n    };\n\n    exports.retrieveFollowingIdentifier = function (text, pos, regex) {\n        regex = regex || ID_REGEX;\n        var buf = [];\n        for (var i = pos; i < text.length; i++) {\n            if (regex.test(text[i])) buf.push(text[i]);else break;\n        }\n        return buf;\n    };\n\n    exports.getCompletionPrefix = function (editor) {\n        var pos = editor.getCursorPosition();\n        var line = editor.session.getLine(pos.row);\n        var prefix;\n        editor.completers.forEach(function (completer) {\n            if (completer.identifierRegexps) {\n                completer.identifierRegexps.forEach(function (identifierRegex) {\n                    if (!prefix && identifierRegex) prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n                }.bind(this));\n            }\n        }.bind(this));\n        return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n    };\n});\n\nace.define(\"ace/autocomplete\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\", \"ace/autocomplete/popup\", \"ace/autocomplete/util\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/lib/dom\", \"ace/snippets\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\n    var AcePopup = acequire(\"./autocomplete/popup\").AcePopup;\n    var util = acequire(\"./autocomplete/util\");\n    var event = acequire(\"./lib/event\");\n    var lang = acequire(\"./lib/lang\");\n    var dom = acequire(\"./lib/dom\");\n    var snippetManager = acequire(\"./snippets\").snippetManager;\n\n    var Autocomplete = function Autocomplete() {\n        this.autoInsert = false;\n        this.autoSelect = true;\n        this.exactMatch = false;\n        this.gatherCompletionsId = 0;\n        this.keyboardHandler = new HashHandler();\n        this.keyboardHandler.bindKeys(this.commands);\n\n        this.blurListener = this.blurListener.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.mousedownListener = this.mousedownListener.bind(this);\n        this.mousewheelListener = this.mousewheelListener.bind(this);\n\n        this.changeTimer = lang.delayedCall(function () {\n            this.updateCompletions(true);\n        }.bind(this));\n\n        this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n    };\n\n    (function () {\n\n        this.$init = function () {\n            this.popup = new AcePopup(document.body || document.documentElement);\n            this.popup.on(\"click\", function (e) {\n                this.insertMatch();\n                e.stop();\n            }.bind(this));\n            this.popup.focus = this.editor.focus.bind(this.editor);\n            this.popup.on(\"show\", this.tooltipTimer.bind(null, null));\n            this.popup.on(\"select\", this.tooltipTimer.bind(null, null));\n            this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n            return this.popup;\n        };\n\n        this.getPopup = function () {\n            return this.popup || this.$init();\n        };\n\n        this.openPopup = function (editor, prefix, keepPopupPosition) {\n            if (!this.popup) this.$init();\n\n            this.popup.autoSelect = this.autoSelect;\n\n            this.popup.setData(this.completions.filtered);\n\n            editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n\n            var renderer = editor.renderer;\n            this.popup.setRow(this.autoSelect ? 0 : -1);\n            if (!keepPopupPosition) {\n                this.popup.setTheme(editor.getTheme());\n                this.popup.setFontSize(editor.getFontSize());\n\n                var lineHeight = renderer.layerConfig.lineHeight;\n\n                var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n                pos.left -= this.popup.getTextLeftOffset();\n\n                var rect = editor.container.getBoundingClientRect();\n                pos.top += rect.top - renderer.layerConfig.offset;\n                pos.left += rect.left - editor.renderer.scrollLeft;\n                pos.left += renderer.gutterWidth;\n\n                this.popup.show(pos, lineHeight);\n            } else if (keepPopupPosition && !prefix) {\n                this.detach();\n            }\n        };\n\n        this.detach = function () {\n            this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n            this.editor.off(\"changeSelection\", this.changeListener);\n            this.editor.off(\"blur\", this.blurListener);\n            this.editor.off(\"mousedown\", this.mousedownListener);\n            this.editor.off(\"mousewheel\", this.mousewheelListener);\n            this.changeTimer.cancel();\n            this.hideDocTooltip();\n\n            this.gatherCompletionsId += 1;\n            if (this.popup && this.popup.isOpen) this.popup.hide();\n\n            if (this.base) this.base.detach();\n            this.activated = false;\n            this.completions = this.base = null;\n        };\n\n        this.changeListener = function (e) {\n            var cursor = this.editor.selection.lead;\n            if (cursor.row != this.base.row || cursor.column < this.base.column) {\n                this.detach();\n            }\n            if (this.activated) this.changeTimer.schedule();else this.detach();\n        };\n\n        this.blurListener = function (e) {\n            var el = document.activeElement;\n            var text = this.editor.textInput.getElement();\n            var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n            var container = this.popup && this.popup.container;\n            if (el != text && el.parentNode != container && !fromTooltip && el != this.tooltipNode && e.relatedTarget != text) {\n                this.detach();\n            }\n        };\n\n        this.mousedownListener = function (e) {\n            this.detach();\n        };\n\n        this.mousewheelListener = function (e) {\n            this.detach();\n        };\n\n        this.goTo = function (where) {\n            var row = this.popup.getRow();\n            var max = this.popup.session.getLength() - 1;\n\n            switch (where) {\n                case \"up\":\n                    row = row <= 0 ? max : row - 1;break;\n                case \"down\":\n                    row = row >= max ? -1 : row + 1;break;\n                case \"start\":\n                    row = 0;break;\n                case \"end\":\n                    row = max;break;\n            }\n\n            this.popup.setRow(row);\n        };\n\n        this.insertMatch = function (data, options) {\n            if (!data) data = this.popup.getData(this.popup.getRow());\n            if (!data) return false;\n\n            if (data.completer && data.completer.insertMatch) {\n                data.completer.insertMatch(this.editor, data);\n            } else {\n                if (this.completions.filterText) {\n                    var ranges = this.editor.selection.getAllRanges();\n                    for (var i = 0, range; range = ranges[i]; i++) {\n                        range.start.column -= this.completions.filterText.length;\n                        this.editor.session.remove(range);\n                    }\n                }\n                if (data.snippet) snippetManager.insertSnippet(this.editor, data.snippet);else this.editor.execCommand(\"insertstring\", data.value || data);\n            }\n            this.detach();\n        };\n\n        this.commands = {\n            \"Up\": function Up(editor) {\n                editor.completer.goTo(\"up\");\n            },\n            \"Down\": function Down(editor) {\n                editor.completer.goTo(\"down\");\n            },\n            \"Ctrl-Up|Ctrl-Home\": function CtrlUpCtrlHome(editor) {\n                editor.completer.goTo(\"start\");\n            },\n            \"Ctrl-Down|Ctrl-End\": function CtrlDownCtrlEnd(editor) {\n                editor.completer.goTo(\"end\");\n            },\n\n            \"Esc\": function Esc(editor) {\n                editor.completer.detach();\n            },\n            \"Return\": function Return(editor) {\n                return editor.completer.insertMatch();\n            },\n            \"Shift-Return\": function ShiftReturn(editor) {\n                editor.completer.insertMatch(null, { deleteSuffix: true });\n            },\n            \"Tab\": function Tab(editor) {\n                var result = editor.completer.insertMatch();\n                if (!result && !editor.tabstopManager) editor.completer.goTo(\"down\");else return result;\n            },\n\n            \"PageUp\": function PageUp(editor) {\n                editor.completer.popup.gotoPageUp();\n            },\n            \"PageDown\": function PageDown(editor) {\n                editor.completer.popup.gotoPageDown();\n            }\n        };\n\n        this.gatherCompletions = function (editor, callback) {\n            var session = editor.getSession();\n            var pos = editor.getCursorPosition();\n\n            var prefix = util.getCompletionPrefix(editor);\n\n            this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n            this.base.$insertRight = true;\n\n            var matches = [];\n            var total = editor.completers.length;\n            editor.completers.forEach(function (completer, i) {\n                completer.getCompletions(editor, session, pos, prefix, function (err, results) {\n                    if (!err && results) matches = matches.concat(results);\n                    callback(null, {\n                        prefix: util.getCompletionPrefix(editor),\n                        matches: matches,\n                        finished: --total === 0\n                    });\n                });\n            });\n            return true;\n        };\n\n        this.showPopup = function (editor) {\n            if (this.editor) this.detach();\n\n            this.activated = true;\n\n            this.editor = editor;\n            if (editor.completer != this) {\n                if (editor.completer) editor.completer.detach();\n                editor.completer = this;\n            }\n\n            editor.on(\"changeSelection\", this.changeListener);\n            editor.on(\"blur\", this.blurListener);\n            editor.on(\"mousedown\", this.mousedownListener);\n            editor.on(\"mousewheel\", this.mousewheelListener);\n\n            this.updateCompletions();\n        };\n\n        this.updateCompletions = function (keepPopupPosition) {\n            if (keepPopupPosition && this.base && this.completions) {\n                var pos = this.editor.getCursorPosition();\n                var prefix = this.editor.session.getTextRange({ start: this.base, end: pos });\n                if (prefix == this.completions.filterText) return;\n                this.completions.setFilter(prefix);\n                if (!this.completions.filtered.length) return this.detach();\n                if (this.completions.filtered.length == 1 && this.completions.filtered[0].value == prefix && !this.completions.filtered[0].snippet) return this.detach();\n                this.openPopup(this.editor, prefix, keepPopupPosition);\n                return;\n            }\n            var _id = this.gatherCompletionsId;\n            this.gatherCompletions(this.editor, function (err, results) {\n                var detachIfFinished = function () {\n                    if (!results.finished) return;\n                    return this.detach();\n                }.bind(this);\n\n                var prefix = results.prefix;\n                var matches = results && results.matches;\n\n                if (!matches || !matches.length) return detachIfFinished();\n                if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId) return;\n\n                this.completions = new FilteredList(matches);\n\n                if (this.exactMatch) this.completions.exactMatch = true;\n\n                this.completions.setFilter(prefix);\n                var filtered = this.completions.filtered;\n                if (!filtered.length) return detachIfFinished();\n                if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet) return detachIfFinished();\n                if (this.autoInsert && filtered.length == 1 && results.finished) return this.insertMatch(filtered[0]);\n\n                this.openPopup(this.editor, prefix, keepPopupPosition);\n            }.bind(this));\n        };\n\n        this.cancelContextMenu = function () {\n            this.editor.$mouseHandler.cancelContextMenu();\n        };\n\n        this.updateDocTooltip = function () {\n            var popup = this.popup;\n            var all = popup.data;\n            var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n            var doc = null;\n            if (!selected || !this.editor || !this.popup.isOpen) return this.hideDocTooltip();\n            this.editor.completers.some(function (completer) {\n                if (completer.getDocTooltip) doc = completer.getDocTooltip(selected);\n                return doc;\n            });\n            if (!doc) doc = selected;\n\n            if (typeof doc == \"string\") doc = { docText: doc };\n            if (!doc || !(doc.docHTML || doc.docText)) return this.hideDocTooltip();\n            this.showDocTooltip(doc);\n        };\n\n        this.showDocTooltip = function (item) {\n            if (!this.tooltipNode) {\n                this.tooltipNode = dom.createElement(\"div\");\n                this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip\";\n                this.tooltipNode.style.margin = 0;\n                this.tooltipNode.style.pointerEvents = \"auto\";\n                this.tooltipNode.tabIndex = -1;\n                this.tooltipNode.onblur = this.blurListener.bind(this);\n                this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n            }\n\n            var tooltipNode = this.tooltipNode;\n            if (item.docHTML) {\n                tooltipNode.innerHTML = item.docHTML;\n            } else if (item.docText) {\n                tooltipNode.textContent = item.docText;\n            }\n\n            if (!tooltipNode.parentNode) document.body.appendChild(tooltipNode);\n            var popup = this.popup;\n            var rect = popup.container.getBoundingClientRect();\n            tooltipNode.style.top = popup.container.style.top;\n            tooltipNode.style.bottom = popup.container.style.bottom;\n\n            if (window.innerWidth - rect.right < 320) {\n                tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n                tooltipNode.style.left = \"\";\n            } else {\n                tooltipNode.style.left = rect.right + 1 + \"px\";\n                tooltipNode.style.right = \"\";\n            }\n            tooltipNode.style.display = \"block\";\n        };\n\n        this.hideDocTooltip = function () {\n            this.tooltipTimer.cancel();\n            if (!this.tooltipNode) return;\n            var el = this.tooltipNode;\n            if (!this.editor.isFocused() && document.activeElement == el) this.editor.focus();\n            this.tooltipNode = null;\n            if (el.parentNode) el.parentNode.removeChild(el);\n        };\n\n        this.onTooltipClick = function (e) {\n            var a = e.target;\n            while (a && a != this.tooltipNode) {\n                if (a.nodeName == \"A\" && a.href) {\n                    a.rel = \"noreferrer\";\n                    a.target = \"_blank\";\n                    break;\n                }\n                a = a.parentNode;\n            }\n        };\n    }).call(Autocomplete.prototype);\n\n    Autocomplete.startCommand = {\n        name: \"startAutocomplete\",\n        exec: function exec(editor) {\n            if (!editor.completer) editor.completer = new Autocomplete();\n            editor.completer.autoInsert = false;\n            editor.completer.autoSelect = true;\n            editor.completer.showPopup(editor);\n            editor.completer.cancelContextMenu();\n        },\n        bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n    };\n\n    var FilteredList = function FilteredList(array, filterText) {\n        this.all = array;\n        this.filtered = array;\n        this.filterText = filterText || \"\";\n        this.exactMatch = false;\n    };\n    (function () {\n        this.setFilter = function (str) {\n            if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0) var matches = this.filtered;else var matches = this.all;\n\n            this.filterText = str;\n            matches = this.filterCompletions(matches, this.filterText);\n            matches = matches.sort(function (a, b) {\n                return b.exactMatch - a.exactMatch || b.score - a.score;\n            });\n            var prev = null;\n            matches = matches.filter(function (item) {\n                var caption = item.snippet || item.caption || item.value;\n                if (caption === prev) return false;\n                prev = caption;\n                return true;\n            });\n\n            this.filtered = matches;\n        };\n        this.filterCompletions = function (items, needle) {\n            var results = [];\n            var upper = needle.toUpperCase();\n            var lower = needle.toLowerCase();\n            loop: for (var i = 0, item; item = items[i]; i++) {\n                var caption = item.value || item.caption || item.snippet;\n                if (!caption) continue;\n                var lastIndex = -1;\n                var matchMask = 0;\n                var penalty = 0;\n                var index, distance;\n\n                if (this.exactMatch) {\n                    if (needle !== caption.substr(0, needle.length)) continue loop;\n                } else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = i1 >= 0 ? i2 < 0 || i1 < i2 ? i1 : i2 : i2;\n                        if (index < 0) continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1) penalty += 10;\n                            penalty += distance;\n                        }\n                        matchMask = matchMask | 1 << index;\n                        lastIndex = index;\n                    }\n                }\n                item.matchMask = matchMask;\n                item.exactMatch = penalty ? 0 : 1;\n                item.score = (item.score || 0) - penalty;\n                results.push(item);\n            }\n            return results;\n        };\n    }).call(FilteredList.prototype);\n\n    exports.Autocomplete = Autocomplete;\n    exports.FilteredList = FilteredList;\n});\n\nace.define(\"ace/autocomplete/text_completer\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n    var Range = acequire(\"../range\").Range;\n\n    var splitRegex = /[^a-zA-Z_0-9\\$\\-\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/;\n\n    function getWordIndex(doc, pos) {\n        var textBefore = doc.getTextRange(Range.fromPoints({ row: 0, column: 0 }, pos));\n        return textBefore.split(splitRegex).length - 1;\n    }\n    function wordDistance(doc, pos) {\n        var prefixPos = getWordIndex(doc, pos);\n        var words = doc.getValue().split(splitRegex);\n        var wordScores = Object.create(null);\n\n        var currentWord = words[prefixPos];\n\n        words.forEach(function (word, idx) {\n            if (!word || word === currentWord) return;\n\n            var distance = Math.abs(prefixPos - idx);\n            var score = words.length - distance;\n            if (wordScores[word]) {\n                wordScores[word] = Math.max(score, wordScores[word]);\n            } else {\n                wordScores[word] = score;\n            }\n        });\n        return wordScores;\n    }\n\n    exports.getCompletions = function (editor, session, pos, prefix, callback) {\n        var wordScore = wordDistance(session, pos, prefix);\n        var wordList = Object.keys(wordScore);\n        callback(null, wordList.map(function (word) {\n            return {\n                caption: word,\n                value: word,\n                score: wordScore[word],\n                meta: \"local\"\n            };\n        }));\n    };\n});\n\nace.define(\"ace/ext/language_tools\", [\"require\", \"exports\", \"module\", \"ace/snippets\", \"ace/autocomplete\", \"ace/config\", \"ace/lib/lang\", \"ace/autocomplete/util\", \"ace/autocomplete/text_completer\", \"ace/editor\", \"ace/config\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var snippetManager = acequire(\"../snippets\").snippetManager;\n    var Autocomplete = acequire(\"../autocomplete\").Autocomplete;\n    var config = acequire(\"../config\");\n    var lang = acequire(\"../lib/lang\");\n    var util = acequire(\"../autocomplete/util\");\n\n    var textCompleter = acequire(\"../autocomplete/text_completer\");\n    var keyWordCompleter = {\n        getCompletions: function getCompletions(editor, session, pos, prefix, callback) {\n            if (session.$mode.completer) {\n                return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);\n            }\n            var state = editor.session.getState(pos.row);\n            var completions = session.$mode.getCompletions(state, session, pos, prefix);\n            callback(null, completions);\n        }\n    };\n\n    var snippetCompleter = {\n        getCompletions: function getCompletions(editor, session, pos, prefix, callback) {\n            var snippetMap = snippetManager.snippetMap;\n            var completions = [];\n            snippetManager.getActiveScopes(editor).forEach(function (scope) {\n                var snippets = snippetMap[scope] || [];\n                for (var i = snippets.length; i--;) {\n                    var s = snippets[i];\n                    var caption = s.name || s.tabTrigger;\n                    if (!caption) continue;\n                    completions.push({\n                        caption: caption,\n                        snippet: s.content,\n                        meta: s.tabTrigger && !s.name ? s.tabTrigger + \"\\u21E5 \" : \"snippet\",\n                        type: \"snippet\"\n                    });\n                }\n            }, this);\n            callback(null, completions);\n        },\n        getDocTooltip: function getDocTooltip(item) {\n            if (item.type == \"snippet\" && !item.docHTML) {\n                item.docHTML = [\"<b>\", lang.escapeHTML(item.caption), \"</b>\", \"<hr></hr>\", lang.escapeHTML(item.snippet)].join(\"\");\n            }\n        }\n    };\n\n    var completers = [snippetCompleter, textCompleter, keyWordCompleter];\n    exports.setCompleters = function (val) {\n        completers.length = 0;\n        if (val) completers.push.apply(completers, val);\n    };\n    exports.addCompleter = function (completer) {\n        completers.push(completer);\n    };\n    exports.textCompleter = textCompleter;\n    exports.keyWordCompleter = keyWordCompleter;\n    exports.snippetCompleter = snippetCompleter;\n\n    var expandSnippet = {\n        name: \"expandSnippet\",\n        exec: function exec(editor) {\n            return snippetManager.expandWithTab(editor);\n        },\n        bindKey: \"Tab\"\n    };\n\n    var onChangeMode = function onChangeMode(e, editor) {\n        loadSnippetsForMode(editor.session.$mode);\n    };\n\n    var loadSnippetsForMode = function loadSnippetsForMode(mode) {\n        var id = mode.$id;\n        if (!snippetManager.files) snippetManager.files = {};\n        loadSnippetFile(id);\n        if (mode.modes) mode.modes.forEach(loadSnippetsForMode);\n    };\n\n    var loadSnippetFile = function loadSnippetFile(id) {\n        if (!id || snippetManager.files[id]) return;\n        var snippetFilePath = id.replace(\"mode\", \"snippets\");\n        snippetManager.files[id] = {};\n        config.loadModule(snippetFilePath, function (m) {\n            if (m) {\n                snippetManager.files[id] = m;\n                if (!m.snippets && m.snippetText) m.snippets = snippetManager.parseSnippetFile(m.snippetText);\n                snippetManager.register(m.snippets || [], m.scope);\n                if (m.includeScopes) {\n                    snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;\n                    m.includeScopes.forEach(function (x) {\n                        loadSnippetFile(\"ace/mode/\" + x);\n                    });\n                }\n            }\n        });\n    };\n\n    var doLiveAutocomplete = function doLiveAutocomplete(e) {\n        var editor = e.editor;\n        var hasCompleter = editor.completer && editor.completer.activated;\n        if (e.command.name === \"backspace\") {\n            if (hasCompleter && !util.getCompletionPrefix(editor)) editor.completer.detach();\n        } else if (e.command.name === \"insertstring\") {\n            var prefix = util.getCompletionPrefix(editor);\n            if (prefix && !hasCompleter) {\n                if (!editor.completer) {\n                    editor.completer = new Autocomplete();\n                }\n                editor.completer.autoInsert = false;\n                editor.completer.showPopup(editor);\n            }\n        }\n    };\n\n    var Editor = acequire(\"../editor\").Editor;\n    acequire(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n        enableBasicAutocompletion: {\n            set: function set(val) {\n                if (val) {\n                    if (!this.completers) this.completers = Array.isArray(val) ? val : completers;\n                    this.commands.addCommand(Autocomplete.startCommand);\n                } else {\n                    this.commands.removeCommand(Autocomplete.startCommand);\n                }\n            },\n            value: false\n        },\n        enableLiveAutocompletion: {\n            set: function set(val) {\n                if (val) {\n                    if (!this.completers) this.completers = Array.isArray(val) ? val : completers;\n                    this.commands.on('afterExec', doLiveAutocomplete);\n                } else {\n                    this.commands.removeListener('afterExec', doLiveAutocomplete);\n                }\n            },\n            value: false\n        },\n        enableSnippets: {\n            set: function set(val) {\n                if (val) {\n                    this.commands.addCommand(expandSnippet);\n                    this.on(\"changeMode\", onChangeMode);\n                    onChangeMode(null, this);\n                } else {\n                    this.commands.removeCommand(expandSnippet);\n                    this.off(\"changeMode\", onChangeMode);\n                }\n            },\n            value: false\n        }\n    });\n});\n(function () {\n    ace.acequire([\"ace/ext/language_tools\"], function () {});\n})();\n\n/***/ }),\n\n/***/ 158:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (acequire, exports, module) params\n */\n\n(function () {\n\n    var ACE_NAMESPACE = \"ace\";\n\n    var global = function () {\n        return this;\n    }();\n    if (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\n    if (!ACE_NAMESPACE && typeof acequirejs !== \"undefined\") return;\n\n    var define = function define(module, deps, payload) {\n        if (typeof module !== \"string\") {\n            if (define.original) define.original.apply(this, arguments);else {\n                console.error(\"dropping module because define wasn\\'t a string.\");\n                console.trace();\n            }\n            return;\n        }\n        if (arguments.length == 2) payload = deps;\n        if (!define.modules[module]) {\n            define.payloads[module] = payload;\n            define.modules[module] = null;\n        }\n    };\n\n    define.modules = {};\n    define.payloads = {};\n\n    /**\n     * Get at functionality define()ed using the function above\n     */\n    var _acequire = function _acequire(parentId, module, callback) {\n        if (typeof module === \"string\") {\n            var payload = lookup(parentId, module);\n            if (payload != undefined) {\n                callback && callback();\n                return payload;\n            }\n        } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n            var params = [];\n            for (var i = 0, l = module.length; i < l; ++i) {\n                var dep = lookup(parentId, module[i]);\n                if (dep == undefined && acequire.original) return;\n                params.push(dep);\n            }\n            return callback && callback.apply(null, params) || true;\n        }\n    };\n\n    var acequire = function acequire(module, callback) {\n        var packagedModule = _acequire(\"\", module, callback);\n        if (packagedModule == undefined && acequire.original) return acequire.original.apply(this, arguments);\n        return packagedModule;\n    };\n\n    var normalizeModule = function normalizeModule(parentId, moduleName) {\n        // normalize plugin acequires\n        if (moduleName.indexOf(\"!\") !== -1) {\n            var chunks = moduleName.split(\"!\");\n            return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n        }\n        // normalize relative acequires\n        if (moduleName.charAt(0) == \".\") {\n            var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n            moduleName = base + \"/\" + moduleName;\n\n            while (moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n                var previous = moduleName;\n                moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n            }\n        }\n        return moduleName;\n    };\n\n    /**\n     * Internal function to lookup moduleNames and resolve them by calling the\n     * definition function if needed.\n     */\n    var lookup = function lookup(parentId, moduleName) {\n        moduleName = normalizeModule(parentId, moduleName);\n\n        var module = define.modules[moduleName];\n        if (!module) {\n            module = define.payloads[moduleName];\n            if (typeof module === 'function') {\n                var exports = {};\n                var mod = {\n                    id: moduleName,\n                    uri: '',\n                    exports: exports,\n                    packaged: true\n                };\n\n                var req = function req(module, callback) {\n                    return _acequire(moduleName, module, callback);\n                };\n\n                var returnValue = module(req, exports, mod);\n                exports = returnValue || mod.exports;\n                define.modules[moduleName] = exports;\n                delete define.payloads[moduleName];\n            }\n            module = define.modules[moduleName] = exports || module;\n        }\n        return module;\n    };\n\n    function exportAce(ns) {\n        var root = global;\n        if (ns) {\n            if (!global[ns]) global[ns] = {};\n            root = global[ns];\n        }\n\n        if (!root.define || !root.define.packaged) {\n            define.original = root.define;\n            root.define = define;\n            root.define.packaged = true;\n        }\n\n        if (!root.acequire || !root.acequire.packaged) {\n            acequire.original = root.acequire;\n            root.acequire = acequire;\n            root.acequire.packaged = true;\n        }\n    }\n\n    exportAce(ACE_NAMESPACE);\n})();\n\nace.define(\"ace/lib/regexp\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var real = {\n        exec: RegExp.prototype.exec,\n        test: RegExp.prototype.test,\n        match: String.prototype.match,\n        replace: String.prototype.replace,\n        split: String.prototype.split\n    },\n        compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined,\n        // check `exec` handling of nonparticipating capturing groups\n    compliantLastIndexIncrement = function () {\n        var x = /^/g;\n        real.test.call(x, \"\");\n        return !x.lastIndex;\n    }();\n\n    if (compliantLastIndexIncrement && compliantExecNpcg) return;\n    RegExp.prototype.exec = function (str) {\n        var match = real.exec.apply(this, arguments),\n            name,\n            r2;\n        if (typeof str == 'string' && match) {\n            if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n                real.replace.call(str.slice(match.index), r2, function () {\n                    for (var i = 1; i < arguments.length - 2; i++) {\n                        if (arguments[i] === undefined) match[i] = undefined;\n                    }\n                });\n            }\n            if (this._xregexp && this._xregexp.captureNames) {\n                for (var i = 1; i < match.length; i++) {\n                    name = this._xregexp.captureNames[i - 1];\n                    if (name) match[name] = match[i];\n                }\n            }\n            if (!compliantLastIndexIncrement && this.global && !match[0].length && this.lastIndex > match.index) this.lastIndex--;\n        }\n        return match;\n    };\n    if (!compliantLastIndexIncrement) {\n        RegExp.prototype.test = function (str) {\n            var match = real.exec.call(this, str);\n            if (match && this.global && !match[0].length && this.lastIndex > match.index) this.lastIndex--;\n            return !!match;\n        };\n    }\n\n    function getNativeFlags(regex) {\n        return (regex.global ? \"g\" : \"\") + (regex.ignoreCase ? \"i\" : \"\") + (regex.multiline ? \"m\" : \"\") + (regex.extended ? \"x\" : \"\") + ( // Proposed for ES4; included in AS3\n        regex.sticky ? \"y\" : \"\");\n    }\n\n    function indexOf(array, item, from) {\n        if (Array.prototype.indexOf) // Use the native array method if available\n            return array.indexOf(item, from);\n        for (var i = from || 0; i < array.length; i++) {\n            if (array[i] === item) return i;\n        }\n        return -1;\n    }\n});\n\nace.define(\"ace/lib/es5-shim\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n\n    function Empty() {}\n\n    if (!Function.prototype.bind) {\n        Function.prototype.bind = function bind(that) {\n            // .length is 1\n            var target = this;\n            if (typeof target != \"function\") {\n                throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n            }\n            var args = slice.call(arguments, 1); // for normal call\n            var bound = function bound() {\n\n                if (this instanceof bound) {\n\n                    var result = target.apply(this, args.concat(slice.call(arguments)));\n                    if (Object(result) === result) {\n                        return result;\n                    }\n                    return this;\n                } else {\n                    return target.apply(that, args.concat(slice.call(arguments)));\n                }\n            };\n            if (target.prototype) {\n                Empty.prototype = target.prototype;\n                bound.prototype = new Empty();\n                Empty.prototype = null;\n            }\n            return bound;\n        };\n    }\n    var call = Function.prototype.call;\n    var prototypeOfArray = Array.prototype;\n    var prototypeOfObject = Object.prototype;\n    var slice = prototypeOfArray.slice;\n    var _toString = call.bind(prototypeOfObject.toString);\n    var owns = call.bind(prototypeOfObject.hasOwnProperty);\n    var defineGetter;\n    var defineSetter;\n    var lookupGetter;\n    var lookupSetter;\n    var supportsAccessors;\n    if (supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\")) {\n        defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n        defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n        lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n        lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n    }\n    if ([1, 2].splice(0).length != 2) {\n        if (function () {\n            // test IE < 9 to splice bug - see issue #138\n            function makeArray(l) {\n                var a = new Array(l + 2);\n                a[0] = a[1] = 0;\n                return a;\n            }\n            var array = [],\n                lengthBefore;\n\n            array.splice.apply(array, makeArray(20));\n            array.splice.apply(array, makeArray(26));\n\n            lengthBefore = array.length; //46\n            array.splice(5, 0, \"XXX\"); // add one element\n\n            lengthBefore + 1 == array.length;\n\n            if (lengthBefore + 1 == array.length) {\n                return true; // has right splice implementation without bugs\n            }\n        }()) {\n            //IE 6/7\n            var array_splice = Array.prototype.splice;\n            Array.prototype.splice = function (start, deleteCount) {\n                if (!arguments.length) {\n                    return [];\n                } else {\n                    return array_splice.apply(this, [start === void 0 ? 0 : start, deleteCount === void 0 ? this.length - start : deleteCount].concat(slice.call(arguments, 2)));\n                }\n            };\n        } else {\n            //IE8\n            Array.prototype.splice = function (pos, removeCount) {\n                var length = this.length;\n                if (pos > 0) {\n                    if (pos > length) pos = length;\n                } else if (pos == void 0) {\n                    pos = 0;\n                } else if (pos < 0) {\n                    pos = Math.max(length + pos, 0);\n                }\n\n                if (!(pos + removeCount < length)) removeCount = length - pos;\n\n                var removed = this.slice(pos, pos + removeCount);\n                var insert = slice.call(arguments, 2);\n                var add = insert.length;\n                if (pos === length) {\n                    if (add) {\n                        this.push.apply(this, insert);\n                    }\n                } else {\n                    var remove = Math.min(removeCount, length - pos);\n                    var tailOldPos = pos + remove;\n                    var tailNewPos = tailOldPos + add - remove;\n                    var tailCount = length - tailOldPos;\n                    var lengthAfterRemove = length - remove;\n\n                    if (tailNewPos < tailOldPos) {\n                        // case A\n                        for (var i = 0; i < tailCount; ++i) {\n                            this[tailNewPos + i] = this[tailOldPos + i];\n                        }\n                    } else if (tailNewPos > tailOldPos) {\n                        // case B\n                        for (i = tailCount; i--;) {\n                            this[tailNewPos + i] = this[tailOldPos + i];\n                        }\n                    } // else, add == remove (nothing to do)\n\n                    if (add && pos === lengthAfterRemove) {\n                        this.length = lengthAfterRemove; // truncate array\n                        this.push.apply(this, insert);\n                    } else {\n                        this.length = lengthAfterRemove + add; // reserves space\n                        for (i = 0; i < add; ++i) {\n                            this[pos + i] = insert[i];\n                        }\n                    }\n                }\n                return removed;\n            };\n        }\n    }\n    if (!Array.isArray) {\n        Array.isArray = function isArray(obj) {\n            return _toString(obj) == \"[object Array]\";\n        };\n    }\n    var boxedString = Object(\"a\"),\n        splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\n    if (!Array.prototype.forEach) {\n        Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n            var object = toObject(this),\n                self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                thisp = arguments[1],\n                i = -1,\n                length = self.length >>> 0;\n            if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(); // TODO message\n            }\n\n            while (++i < length) {\n                if (i in self) {\n                    fun.call(thisp, self[i], i, object);\n                }\n            }\n        };\n    }\n    if (!Array.prototype.map) {\n        Array.prototype.map = function map(fun /*, thisp*/) {\n            var object = toObject(this),\n                self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                length = self.length >>> 0,\n                result = Array(length),\n                thisp = arguments[1];\n            if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self) result[i] = fun.call(thisp, self[i], i, object);\n            }\n            return result;\n        };\n    }\n    if (!Array.prototype.filter) {\n        Array.prototype.filter = function filter(fun /*, thisp */) {\n            var object = toObject(this),\n                self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                length = self.length >>> 0,\n                result = [],\n                value,\n                thisp = arguments[1];\n            if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self) {\n                    value = self[i];\n                    if (fun.call(thisp, value, i, object)) {\n                        result.push(value);\n                    }\n                }\n            }\n            return result;\n        };\n    }\n    if (!Array.prototype.every) {\n        Array.prototype.every = function every(fun /*, thisp */) {\n            var object = toObject(this),\n                self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                length = self.length >>> 0,\n                thisp = arguments[1];\n            if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self && !fun.call(thisp, self[i], i, object)) {\n                    return false;\n                }\n            }\n            return true;\n        };\n    }\n    if (!Array.prototype.some) {\n        Array.prototype.some = function some(fun /*, thisp */) {\n            var object = toObject(this),\n                self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                length = self.length >>> 0,\n                thisp = arguments[1];\n            if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n            }\n\n            for (var i = 0; i < length; i++) {\n                if (i in self && fun.call(thisp, self[i], i, object)) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    }\n    if (!Array.prototype.reduce) {\n        Array.prototype.reduce = function reduce(fun /*, initial*/) {\n            var object = toObject(this),\n                self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                length = self.length >>> 0;\n            if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n            }\n            if (!length && arguments.length == 1) {\n                throw new TypeError(\"reduce of empty array with no initial value\");\n            }\n\n            var i = 0;\n            var result;\n            if (arguments.length >= 2) {\n                result = arguments[1];\n            } else {\n                do {\n                    if (i in self) {\n                        result = self[i++];\n                        break;\n                    }\n                    if (++i >= length) {\n                        throw new TypeError(\"reduce of empty array with no initial value\");\n                    }\n                } while (true);\n            }\n\n            for (; i < length; i++) {\n                if (i in self) {\n                    result = fun.call(void 0, result, self[i], i, object);\n                }\n            }\n\n            return result;\n        };\n    }\n    if (!Array.prototype.reduceRight) {\n        Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n            var object = toObject(this),\n                self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : object,\n                length = self.length >>> 0;\n            if (_toString(fun) != \"[object Function]\") {\n                throw new TypeError(fun + \" is not a function\");\n            }\n            if (!length && arguments.length == 1) {\n                throw new TypeError(\"reduceRight of empty array with no initial value\");\n            }\n\n            var result,\n                i = length - 1;\n            if (arguments.length >= 2) {\n                result = arguments[1];\n            } else {\n                do {\n                    if (i in self) {\n                        result = self[i--];\n                        break;\n                    }\n                    if (--i < 0) {\n                        throw new TypeError(\"reduceRight of empty array with no initial value\");\n                    }\n                } while (true);\n            }\n\n            do {\n                if (i in this) {\n                    result = fun.call(void 0, result, self[i], i, object);\n                }\n            } while (i--);\n\n            return result;\n        };\n    }\n    if (!Array.prototype.indexOf || [0, 1].indexOf(1, 2) != -1) {\n        Array.prototype.indexOf = function indexOf(sought /*, fromIndex */) {\n            var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n                length = self.length >>> 0;\n\n            if (!length) {\n                return -1;\n            }\n\n            var i = 0;\n            if (arguments.length > 1) {\n                i = toInteger(arguments[1]);\n            }\n            i = i >= 0 ? i : Math.max(0, length + i);\n            for (; i < length; i++) {\n                if (i in self && self[i] === sought) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n    if (!Array.prototype.lastIndexOf || [0, 1].lastIndexOf(0, -3) != -1) {\n        Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n            var self = splitString && _toString(this) == \"[object String]\" ? this.split(\"\") : toObject(this),\n                length = self.length >>> 0;\n\n            if (!length) {\n                return -1;\n            }\n            var i = length - 1;\n            if (arguments.length > 1) {\n                i = Math.min(i, toInteger(arguments[1]));\n            }\n            i = i >= 0 ? i : length - Math.abs(i);\n            for (; i >= 0; i--) {\n                if (i in self && sought === self[i]) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n    if (!Object.getPrototypeOf) {\n        Object.getPrototypeOf = function getPrototypeOf(object) {\n            return object.__proto__ || (object.constructor ? object.constructor.prototype : prototypeOfObject);\n        };\n    }\n    if (!Object.getOwnPropertyDescriptor) {\n        var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" + \"non-object: \";\n        Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n            if ((typeof object === \"undefined\" ? \"undefined\" : _typeof(object)) != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT + object);\n            if (!owns(object, property)) return;\n\n            var descriptor, getter, setter;\n            descriptor = { enumerable: true, configurable: true };\n            if (supportsAccessors) {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n\n                var getter = lookupGetter(object, property);\n                var setter = lookupSetter(object, property);\n                object.__proto__ = prototype;\n\n                if (getter || setter) {\n                    if (getter) descriptor.get = getter;\n                    if (setter) descriptor.set = setter;\n                    return descriptor;\n                }\n            }\n            descriptor.value = object[property];\n            return descriptor;\n        };\n    }\n    if (!Object.getOwnPropertyNames) {\n        Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n            return Object.keys(object);\n        };\n    }\n    if (!Object.create) {\n        var createEmpty;\n        if (Object.prototype.__proto__ === null) {\n            createEmpty = function createEmpty() {\n                return { \"__proto__\": null };\n            };\n        } else {\n            createEmpty = function createEmpty() {\n                var empty = {};\n                for (var i in empty) {\n                    empty[i] = null;\n                }empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null;\n                return empty;\n            };\n        }\n\n        Object.create = function create(prototype, properties) {\n            var object;\n            if (prototype === null) {\n                object = createEmpty();\n            } else {\n                if ((typeof prototype === \"undefined\" ? \"undefined\" : _typeof(prototype)) != \"object\") throw new TypeError(\"typeof prototype[\" + (typeof prototype === \"undefined\" ? \"undefined\" : _typeof(prototype)) + \"] != 'object'\");\n                var Type = function Type() {};\n                Type.prototype = prototype;\n                object = new Type();\n                object.__proto__ = prototype;\n            }\n            if (properties !== void 0) Object.defineProperties(object, properties);\n            return object;\n        };\n    }\n\n    function doesDefinePropertyWork(object) {\n        try {\n            Object.defineProperty(object, \"sentinel\", {});\n            return \"sentinel\" in object;\n        } catch (exception) {}\n    }\n    if (Object.defineProperty) {\n        var definePropertyWorksOnObject = doesDefinePropertyWork({});\n        var definePropertyWorksOnDom = typeof document == \"undefined\" || doesDefinePropertyWork(document.createElement(\"div\"));\n        if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n            var definePropertyFallback = Object.defineProperty;\n        }\n    }\n\n    if (!Object.defineProperty || definePropertyFallback) {\n        var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n        var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \";\n        var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" + \"on this javascript engine\";\n\n        Object.defineProperty = function defineProperty(object, property, descriptor) {\n            if ((typeof object === \"undefined\" ? \"undefined\" : _typeof(object)) != \"object\" && typeof object != \"function\" || object === null) throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n            if ((typeof descriptor === \"undefined\" ? \"undefined\" : _typeof(descriptor)) != \"object\" && typeof descriptor != \"function\" || descriptor === null) throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n            if (definePropertyFallback) {\n                try {\n                    return definePropertyFallback.call(Object, object, property, descriptor);\n                } catch (exception) {}\n            }\n            if (owns(descriptor, \"value\")) {\n\n                if (supportsAccessors && (lookupGetter(object, property) || lookupSetter(object, property))) {\n                    var prototype = object.__proto__;\n                    object.__proto__ = prototypeOfObject;\n                    delete object[property];\n                    object[property] = descriptor.value;\n                    object.__proto__ = prototype;\n                } else {\n                    object[property] = descriptor.value;\n                }\n            } else {\n                if (!supportsAccessors) throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n                if (owns(descriptor, \"get\")) defineGetter(object, property, descriptor.get);\n                if (owns(descriptor, \"set\")) defineSetter(object, property, descriptor.set);\n            }\n\n            return object;\n        };\n    }\n    if (!Object.defineProperties) {\n        Object.defineProperties = function defineProperties(object, properties) {\n            for (var property in properties) {\n                if (owns(properties, property)) Object.defineProperty(object, property, properties[property]);\n            }\n            return object;\n        };\n    }\n    if (!Object.seal) {\n        Object.seal = function seal(object) {\n            return object;\n        };\n    }\n    if (!Object.freeze) {\n        Object.freeze = function freeze(object) {\n            return object;\n        };\n    }\n    try {\n        Object.freeze(function () {});\n    } catch (exception) {\n        Object.freeze = function freeze(freezeObject) {\n            return function freeze(object) {\n                if (typeof object == \"function\") {\n                    return object;\n                } else {\n                    return freezeObject(object);\n                }\n            };\n        }(Object.freeze);\n    }\n    if (!Object.preventExtensions) {\n        Object.preventExtensions = function preventExtensions(object) {\n            return object;\n        };\n    }\n    if (!Object.isSealed) {\n        Object.isSealed = function isSealed(object) {\n            return false;\n        };\n    }\n    if (!Object.isFrozen) {\n        Object.isFrozen = function isFrozen(object) {\n            return false;\n        };\n    }\n    if (!Object.isExtensible) {\n        Object.isExtensible = function isExtensible(object) {\n            if (Object(object) === object) {\n                throw new TypeError(); // TODO message\n            }\n            var name = '';\n            while (owns(object, name)) {\n                name += '?';\n            }\n            object[name] = true;\n            var returnValue = owns(object, name);\n            delete object[name];\n            return returnValue;\n        };\n    }\n    if (!Object.keys) {\n        var hasDontEnumBug = true,\n            dontEnums = [\"toString\", \"toLocaleString\", \"valueOf\", \"hasOwnProperty\", \"isPrototypeOf\", \"propertyIsEnumerable\", \"constructor\"],\n            dontEnumsLength = dontEnums.length;\n\n        for (var key in { \"toString\": null }) {\n            hasDontEnumBug = false;\n        }\n\n        Object.keys = function keys(object) {\n\n            if ((typeof object === \"undefined\" ? \"undefined\" : _typeof(object)) != \"object\" && typeof object != \"function\" || object === null) {\n                throw new TypeError(\"Object.keys called on a non-object\");\n            }\n\n            var keys = [];\n            for (var name in object) {\n                if (owns(object, name)) {\n                    keys.push(name);\n                }\n            }\n\n            if (hasDontEnumBug) {\n                for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                    var dontEnum = dontEnums[i];\n                    if (owns(object, dontEnum)) {\n                        keys.push(dontEnum);\n                    }\n                }\n            }\n            return keys;\n        };\n    }\n    if (!Date.now) {\n        Date.now = function now() {\n            return new Date().getTime();\n        };\n    }\n    var ws = \"\\t\\n\\x0B\\f\\r \\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" + \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" + \"\\u2029\\uFEFF\";\n    if (!String.prototype.trim || ws.trim()) {\n        ws = \"[\" + ws + \"]\";\n        var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n            trimEndRegexp = new RegExp(ws + ws + \"*$\");\n        String.prototype.trim = function trim() {\n            return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n        };\n    }\n\n    function toInteger(n) {\n        n = +n;\n        if (n !== n) {\n            // isNaN\n            n = 0;\n        } else if (n !== 0 && n !== 1 / 0 && n !== -(1 / 0)) {\n            n = (n > 0 || -1) * Math.floor(Math.abs(n));\n        }\n        return n;\n    }\n\n    function isPrimitive(input) {\n        var type = typeof input === \"undefined\" ? \"undefined\" : _typeof(input);\n        return input === null || type === \"undefined\" || type === \"boolean\" || type === \"number\" || type === \"string\";\n    }\n\n    function toPrimitive(input) {\n        var val, valueOf, toString;\n        if (isPrimitive(input)) {\n            return input;\n        }\n        valueOf = input.valueOf;\n        if (typeof valueOf === \"function\") {\n            val = valueOf.call(input);\n            if (isPrimitive(val)) {\n                return val;\n            }\n        }\n        toString = input.toString;\n        if (typeof toString === \"function\") {\n            val = toString.call(input);\n            if (isPrimitive(val)) {\n                return val;\n            }\n        }\n        throw new TypeError();\n    }\n    var toObject = function toObject(o) {\n        if (o == null) {\n            // this matches both null and undefined\n            throw new TypeError(\"can't convert \" + o + \" to object\");\n        }\n        return Object(o);\n    };\n});\n\nace.define(\"ace/lib/fixoldbrowsers\", [\"require\", \"exports\", \"module\", \"ace/lib/regexp\", \"ace/lib/es5-shim\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    acequire(\"./regexp\");\n    acequire(\"./es5-shim\");\n});\n\nace.define(\"ace/lib/dom\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\n    exports.getDocumentHead = function (doc) {\n        if (!doc) doc = document;\n        return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n    };\n\n    exports.createElement = function (tag, ns) {\n        return document.createElementNS ? document.createElementNS(ns || XHTML_NS, tag) : document.createElement(tag);\n    };\n\n    exports.hasCssClass = function (el, name) {\n        var classes = (el.className + \"\").split(/\\s+/g);\n        return classes.indexOf(name) !== -1;\n    };\n    exports.addCssClass = function (el, name) {\n        if (!exports.hasCssClass(el, name)) {\n            el.className += \" \" + name;\n        }\n    };\n    exports.removeCssClass = function (el, name) {\n        var classes = el.className.split(/\\s+/g);\n        while (true) {\n            var index = classes.indexOf(name);\n            if (index == -1) {\n                break;\n            }\n            classes.splice(index, 1);\n        }\n        el.className = classes.join(\" \");\n    };\n\n    exports.toggleCssClass = function (el, name) {\n        var classes = el.className.split(/\\s+/g),\n            add = true;\n        while (true) {\n            var index = classes.indexOf(name);\n            if (index == -1) {\n                break;\n            }\n            add = false;\n            classes.splice(index, 1);\n        }\n        if (add) classes.push(name);\n\n        el.className = classes.join(\" \");\n        return add;\n    };\n    exports.setCssClass = function (node, className, include) {\n        if (include) {\n            exports.addCssClass(node, className);\n        } else {\n            exports.removeCssClass(node, className);\n        }\n    };\n\n    exports.hasCssString = function (id, doc) {\n        var index = 0,\n            sheets;\n        doc = doc || document;\n\n        if (doc.createStyleSheet && (sheets = doc.styleSheets)) {\n            while (index < sheets.length) {\n                if (sheets[index++].owningElement.id === id) return true;\n            }\n        } else if (sheets = doc.getElementsByTagName(\"style\")) {\n            while (index < sheets.length) {\n                if (sheets[index++].id === id) return true;\n            }\n        }\n\n        return false;\n    };\n\n    exports.importCssString = function importCssString(cssText, id, doc) {\n        doc = doc || document;\n        if (id && exports.hasCssString(id, doc)) return null;\n\n        var style;\n\n        if (id) cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n\n        if (doc.createStyleSheet) {\n            style = doc.createStyleSheet();\n            style.cssText = cssText;\n            if (id) style.owningElement.id = id;\n        } else {\n            style = exports.createElement(\"style\");\n            style.appendChild(doc.createTextNode(cssText));\n            if (id) style.id = id;\n\n            exports.getDocumentHead(doc).appendChild(style);\n        }\n    };\n\n    exports.importCssStylsheet = function (uri, doc) {\n        if (doc.createStyleSheet) {\n            doc.createStyleSheet(uri);\n        } else {\n            var link = exports.createElement('link');\n            link.rel = 'stylesheet';\n            link.href = uri;\n\n            exports.getDocumentHead(doc).appendChild(link);\n        }\n    };\n\n    exports.getInnerWidth = function (element) {\n        return parseInt(exports.computedStyle(element, \"paddingLeft\"), 10) + parseInt(exports.computedStyle(element, \"paddingRight\"), 10) + element.clientWidth;\n    };\n\n    exports.getInnerHeight = function (element) {\n        return parseInt(exports.computedStyle(element, \"paddingTop\"), 10) + parseInt(exports.computedStyle(element, \"paddingBottom\"), 10) + element.clientHeight;\n    };\n\n    exports.scrollbarWidth = function (document) {\n        var inner = exports.createElement(\"ace_inner\");\n        inner.style.width = \"100%\";\n        inner.style.minWidth = \"0px\";\n        inner.style.height = \"200px\";\n        inner.style.display = \"block\";\n\n        var outer = exports.createElement(\"ace_outer\");\n        var style = outer.style;\n\n        style.position = \"absolute\";\n        style.left = \"-10000px\";\n        style.overflow = \"hidden\";\n        style.width = \"200px\";\n        style.minWidth = \"0px\";\n        style.height = \"150px\";\n        style.display = \"block\";\n\n        outer.appendChild(inner);\n\n        var body = document.documentElement;\n        body.appendChild(outer);\n\n        var noScrollbar = inner.offsetWidth;\n\n        style.overflow = \"scroll\";\n        var withScrollbar = inner.offsetWidth;\n\n        if (noScrollbar == withScrollbar) {\n            withScrollbar = outer.clientWidth;\n        }\n\n        body.removeChild(outer);\n\n        return noScrollbar - withScrollbar;\n    };\n\n    if (typeof document == \"undefined\") {\n        exports.importCssString = function () {};\n        return;\n    }\n\n    if (window.pageYOffset !== undefined) {\n        exports.getPageScrollTop = function () {\n            return window.pageYOffset;\n        };\n\n        exports.getPageScrollLeft = function () {\n            return window.pageXOffset;\n        };\n    } else {\n        exports.getPageScrollTop = function () {\n            return document.body.scrollTop;\n        };\n\n        exports.getPageScrollLeft = function () {\n            return document.body.scrollLeft;\n        };\n    }\n\n    if (window.getComputedStyle) exports.computedStyle = function (element, style) {\n        if (style) return (window.getComputedStyle(element, \"\") || {})[style] || \"\";\n        return window.getComputedStyle(element, \"\") || {};\n    };else exports.computedStyle = function (element, style) {\n        if (style) return element.currentStyle[style];\n        return element.currentStyle;\n    };\n    exports.setInnerHtml = function (el, innerHtml) {\n        var element = el.cloneNode(false); //document.createElement(\"div\");\n        element.innerHTML = innerHtml;\n        el.parentNode.replaceChild(element, el);\n        return element;\n    };\n\n    if (\"textContent\" in document.documentElement) {\n        exports.setInnerText = function (el, innerText) {\n            el.textContent = innerText;\n        };\n\n        exports.getInnerText = function (el) {\n            return el.textContent;\n        };\n    } else {\n        exports.setInnerText = function (el, innerText) {\n            el.innerText = innerText;\n        };\n\n        exports.getInnerText = function (el) {\n            return el.innerText;\n        };\n    }\n\n    exports.getParentWindow = function (document) {\n        return document.defaultView || document.parentWindow;\n    };\n});\n\nace.define(\"ace/lib/oop\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    exports.inherits = function (ctor, superCtor) {\n        ctor.super_ = superCtor;\n        ctor.prototype = Object.create(superCtor.prototype, {\n            constructor: {\n                value: ctor,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n    };\n\n    exports.mixin = function (obj, mixin) {\n        for (var key in mixin) {\n            obj[key] = mixin[key];\n        }\n        return obj;\n    };\n\n    exports.implement = function (proto, mixin) {\n        exports.mixin(proto, mixin);\n    };\n});\n\nace.define(\"ace/lib/keys\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/oop\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    acequire(\"./fixoldbrowsers\");\n\n    var oop = acequire(\"./oop\");\n    var Keys = function () {\n        var ret = {\n            MODIFIER_KEYS: {\n                16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'\n            },\n\n            KEY_MODS: {\n                \"ctrl\": 1, \"alt\": 2, \"option\": 2, \"shift\": 4,\n                \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8\n            },\n\n            FUNCTION_KEYS: {\n                8: \"Backspace\",\n                9: \"Tab\",\n                13: \"Return\",\n                19: \"Pause\",\n                27: \"Esc\",\n                32: \"Space\",\n                33: \"PageUp\",\n                34: \"PageDown\",\n                35: \"End\",\n                36: \"Home\",\n                37: \"Left\",\n                38: \"Up\",\n                39: \"Right\",\n                40: \"Down\",\n                44: \"Print\",\n                45: \"Insert\",\n                46: \"Delete\",\n                96: \"Numpad0\",\n                97: \"Numpad1\",\n                98: \"Numpad2\",\n                99: \"Numpad3\",\n                100: \"Numpad4\",\n                101: \"Numpad5\",\n                102: \"Numpad6\",\n                103: \"Numpad7\",\n                104: \"Numpad8\",\n                105: \"Numpad9\",\n                '-13': \"NumpadEnter\",\n                112: \"F1\",\n                113: \"F2\",\n                114: \"F3\",\n                115: \"F4\",\n                116: \"F5\",\n                117: \"F6\",\n                118: \"F7\",\n                119: \"F8\",\n                120: \"F9\",\n                121: \"F10\",\n                122: \"F11\",\n                123: \"F12\",\n                144: \"Numlock\",\n                145: \"Scrolllock\"\n            },\n\n            PRINTABLE_KEYS: {\n                32: ' ', 48: '0', 49: '1', 50: '2', 51: '3', 52: '4', 53: '5',\n                54: '6', 55: '7', 56: '8', 57: '9', 59: ';', 61: '=', 65: 'a',\n                66: 'b', 67: 'c', 68: 'd', 69: 'e', 70: 'f', 71: 'g', 72: 'h',\n                73: 'i', 74: 'j', 75: 'k', 76: 'l', 77: 'm', 78: 'n', 79: 'o',\n                80: 'p', 81: 'q', 82: 'r', 83: 's', 84: 't', 85: 'u', 86: 'v',\n                87: 'w', 88: 'x', 89: 'y', 90: 'z', 107: '+', 109: '-', 110: '.',\n                186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n                219: '[', 220: '\\\\', 221: ']', 222: \"'\", 111: '/', 106: '*'\n            }\n        };\n        var name, i;\n        for (i in ret.FUNCTION_KEYS) {\n            name = ret.FUNCTION_KEYS[i].toLowerCase();\n            ret[name] = parseInt(i, 10);\n        }\n        for (i in ret.PRINTABLE_KEYS) {\n            name = ret.PRINTABLE_KEYS[i].toLowerCase();\n            ret[name] = parseInt(i, 10);\n        }\n        oop.mixin(ret, ret.MODIFIER_KEYS);\n        oop.mixin(ret, ret.PRINTABLE_KEYS);\n        oop.mixin(ret, ret.FUNCTION_KEYS);\n        ret.enter = ret[\"return\"];\n        ret.escape = ret.esc;\n        ret.del = ret[\"delete\"];\n        ret[173] = '-';\n\n        (function () {\n            var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n            for (var i = Math.pow(2, mods.length); i--;) {\n                ret.KEY_MODS[i] = mods.filter(function (x) {\n                    return i & ret.KEY_MODS[x];\n                }).join(\"-\") + \"-\";\n            }\n        })();\n\n        ret.KEY_MODS[0] = \"\";\n        ret.KEY_MODS[-1] = \"input-\";\n\n        return ret;\n    }();\n    oop.mixin(exports, Keys);\n\n    exports.keyCodeToString = function (keyCode) {\n        var keyString = Keys[keyCode];\n        if (typeof keyString != \"string\") keyString = String.fromCharCode(keyCode);\n        return keyString.toLowerCase();\n    };\n});\n\nace.define(\"ace/lib/useragent\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    exports.OS = {\n        LINUX: \"LINUX\",\n        MAC: \"MAC\",\n        WINDOWS: \"WINDOWS\"\n    };\n    exports.getOS = function () {\n        if (exports.isMac) {\n            return exports.OS.MAC;\n        } else if (exports.isLinux) {\n            return exports.OS.LINUX;\n        } else {\n            return exports.OS.WINDOWS;\n        }\n    };\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) != \"object\") return;\n\n    var os = (navigator.platform.match(/mac|win|linux/i) || [\"other\"])[0].toLowerCase();\n    var ua = navigator.userAgent;\n    exports.isWin = os == \"win\";\n    exports.isMac = os == \"mac\";\n    exports.isLinux = os == \"linux\";\n    exports.isIE = navigator.appName == \"Microsoft Internet Explorer\" || navigator.appName.indexOf(\"MSAppHost\") >= 0 ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]) : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/) || [])[1]); // for ie\n\n    exports.isOldIE = exports.isIE && exports.isIE < 9;\n    exports.isGecko = exports.isMozilla = (window.Controllers || window.controllers) && window.navigator.product === \"Gecko\";\n    exports.isOldGecko = exports.isGecko && parseInt((ua.match(/rv:(\\d+)/) || [])[1], 10) < 4;\n    exports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\n    exports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\n    exports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\n    exports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\n    exports.isIPad = ua.indexOf(\"iPad\") >= 0;\n\n    exports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\n    exports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\n    if (exports.isIOS) exports.isMac = true;\n});\n\nace.define(\"ace/lib/event\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var keys = acequire(\"./keys\");\n    var useragent = acequire(\"./useragent\");\n\n    var pressedKeys = null;\n    var ts = 0;\n\n    exports.addListener = function (elem, type, callback) {\n        if (elem.addEventListener) {\n            return elem.addEventListener(type, callback, false);\n        }\n        if (elem.attachEvent) {\n            var wrapper = function wrapper() {\n                callback.call(elem, window.event);\n            };\n            callback._wrapper = wrapper;\n            elem.attachEvent(\"on\" + type, wrapper);\n        }\n    };\n\n    exports.removeListener = function (elem, type, callback) {\n        if (elem.removeEventListener) {\n            return elem.removeEventListener(type, callback, false);\n        }\n        if (elem.detachEvent) {\n            elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n        }\n    };\n    exports.stopEvent = function (e) {\n        exports.stopPropagation(e);\n        exports.preventDefault(e);\n        return false;\n    };\n\n    exports.stopPropagation = function (e) {\n        if (e.stopPropagation) e.stopPropagation();else e.cancelBubble = true;\n    };\n\n    exports.preventDefault = function (e) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    };\n    exports.getButton = function (e) {\n        if (e.type == \"dblclick\") return 0;\n        if (e.type == \"contextmenu\" || useragent.isMac && e.ctrlKey && !e.altKey && !e.shiftKey) return 2;\n        if (e.preventDefault) {\n            return e.button;\n        } else {\n            return { 1: 0, 2: 2, 4: 1 }[e.button];\n        }\n    };\n\n    exports.capture = function (el, eventHandler, releaseCaptureHandler) {\n        function onMouseUp(e) {\n            eventHandler && eventHandler(e);\n            releaseCaptureHandler && releaseCaptureHandler(e);\n\n            exports.removeListener(document, \"mousemove\", eventHandler, true);\n            exports.removeListener(document, \"mouseup\", onMouseUp, true);\n            exports.removeListener(document, \"dragstart\", onMouseUp, true);\n        }\n\n        exports.addListener(document, \"mousemove\", eventHandler, true);\n        exports.addListener(document, \"mouseup\", onMouseUp, true);\n        exports.addListener(document, \"dragstart\", onMouseUp, true);\n\n        return onMouseUp;\n    };\n\n    exports.addTouchMoveListener = function (el, callback) {\n        var startx, starty;\n        exports.addListener(el, \"touchstart\", function (e) {\n            var touches = e.touches;\n            var touchObj = touches[0];\n            startx = touchObj.clientX;\n            starty = touchObj.clientY;\n        });\n        exports.addListener(el, \"touchmove\", function (e) {\n            var touches = e.touches;\n            if (touches.length > 1) return;\n\n            var touchObj = touches[0];\n\n            e.wheelX = startx - touchObj.clientX;\n            e.wheelY = starty - touchObj.clientY;\n\n            startx = touchObj.clientX;\n            starty = touchObj.clientY;\n\n            callback(e);\n        });\n    };\n\n    exports.addMouseWheelListener = function (el, callback) {\n        if (\"onmousewheel\" in el) {\n            exports.addListener(el, \"mousewheel\", function (e) {\n                var factor = 8;\n                if (e.wheelDeltaX !== undefined) {\n                    e.wheelX = -e.wheelDeltaX / factor;\n                    e.wheelY = -e.wheelDeltaY / factor;\n                } else {\n                    e.wheelX = 0;\n                    e.wheelY = -e.wheelDelta / factor;\n                }\n                callback(e);\n            });\n        } else if (\"onwheel\" in el) {\n            exports.addListener(el, \"wheel\", function (e) {\n                var factor = 0.35;\n                switch (e.deltaMode) {\n                    case e.DOM_DELTA_PIXEL:\n                        e.wheelX = e.deltaX * factor || 0;\n                        e.wheelY = e.deltaY * factor || 0;\n                        break;\n                    case e.DOM_DELTA_LINE:\n                    case e.DOM_DELTA_PAGE:\n                        e.wheelX = (e.deltaX || 0) * 5;\n                        e.wheelY = (e.deltaY || 0) * 5;\n                        break;\n                }\n\n                callback(e);\n            });\n        } else {\n            exports.addListener(el, \"DOMMouseScroll\", function (e) {\n                if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                    e.wheelX = (e.detail || 0) * 5;\n                    e.wheelY = 0;\n                } else {\n                    e.wheelX = 0;\n                    e.wheelY = (e.detail || 0) * 5;\n                }\n                callback(e);\n            });\n        }\n    };\n\n    exports.addMultiMouseDownListener = function (elements, timeouts, eventHandler, callbackName) {\n        var clicks = 0;\n        var startX, startY, timer;\n        var eventNames = {\n            2: \"dblclick\",\n            3: \"tripleclick\",\n            4: \"quadclick\"\n        };\n\n        function onMousedown(e) {\n            if (exports.getButton(e) !== 0) {\n                clicks = 0;\n            } else if (e.detail > 1) {\n                clicks++;\n                if (clicks > 4) clicks = 1;\n            } else {\n                clicks = 1;\n            }\n            if (useragent.isIE) {\n                var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n                if (!timer || isNewClick) clicks = 1;\n                if (timer) clearTimeout(timer);\n                timer = setTimeout(function () {\n                    timer = null;\n                }, timeouts[clicks - 1] || 600);\n\n                if (clicks == 1) {\n                    startX = e.clientX;\n                    startY = e.clientY;\n                }\n            }\n\n            e._clicks = clicks;\n\n            eventHandler[callbackName](\"mousedown\", e);\n\n            if (clicks > 4) clicks = 0;else if (clicks > 1) return eventHandler[callbackName](eventNames[clicks], e);\n        }\n        function onDblclick(e) {\n            clicks = 2;\n            if (timer) clearTimeout(timer);\n            timer = setTimeout(function () {\n                timer = null;\n            }, timeouts[clicks - 1] || 600);\n            eventHandler[callbackName](\"mousedown\", e);\n            eventHandler[callbackName](eventNames[clicks], e);\n        }\n        if (!Array.isArray(elements)) elements = [elements];\n        elements.forEach(function (el) {\n            exports.addListener(el, \"mousedown\", onMousedown);\n            if (useragent.isOldIE) exports.addListener(el, \"dblclick\", onDblclick);\n        });\n    };\n\n    var getModifierHash = useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window) ? function (e) {\n        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);\n    } : function (e) {\n        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n    };\n\n    exports.getModifierString = function (e) {\n        return keys.KEY_MODS[getModifierHash(e)];\n    };\n\n    function normalizeCommandKeys(callback, e, keyCode) {\n        var hashId = getModifierHash(e);\n\n        if (!useragent.isMac && pressedKeys) {\n            if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\"))) hashId |= 8;\n            if (pressedKeys.altGr) {\n                if ((3 & hashId) != 3) pressedKeys.altGr = 0;else return;\n            }\n            if (keyCode === 18 || keyCode === 17) {\n                var location = \"location\" in e ? e.location : e.keyLocation;\n                if (keyCode === 17 && location === 1) {\n                    if (pressedKeys[keyCode] == 1) ts = e.timeStamp;\n                } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                    var dt = e.timeStamp - ts;\n                    if (dt < 50) pressedKeys.altGr = true;\n                }\n            }\n        }\n\n        if (keyCode in keys.MODIFIER_KEYS) {\n            keyCode = -1;\n        }\n        if (hashId & 8 && keyCode >= 91 && keyCode <= 93) {\n            keyCode = -1;\n        }\n\n        if (!hashId && keyCode === 13) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (location === 3) {\n                callback(e, hashId, -keyCode);\n                if (e.defaultPrevented) return;\n            }\n        }\n\n        if (useragent.isChromeOS && hashId & 8) {\n            callback(e, hashId, keyCode);\n            if (e.defaultPrevented) return;else hashId &= ~8;\n        }\n        if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n            return false;\n        }\n\n        return callback(e, hashId, keyCode);\n    }\n\n    exports.addCommandKeyListener = function (el, callback) {\n        var addListener = exports.addListener;\n        if (useragent.isOldGecko || useragent.isOpera && !(\"KeyboardEvent\" in window)) {\n            var lastKeyDownKeyCode = null;\n            addListener(el, \"keydown\", function (e) {\n                lastKeyDownKeyCode = e.keyCode;\n            });\n            addListener(el, \"keypress\", function (e) {\n                return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n            });\n        } else {\n            var lastDefaultPrevented = null;\n\n            addListener(el, \"keydown\", function (e) {\n                pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n                var result = normalizeCommandKeys(callback, e, e.keyCode);\n                lastDefaultPrevented = e.defaultPrevented;\n                return result;\n            });\n\n            addListener(el, \"keypress\", function (e) {\n                if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                    exports.stopEvent(e);\n                    lastDefaultPrevented = null;\n                }\n            });\n\n            addListener(el, \"keyup\", function (e) {\n                pressedKeys[e.keyCode] = null;\n            });\n\n            if (!pressedKeys) {\n                resetPressedKeys();\n                addListener(window, \"focus\", resetPressedKeys);\n            }\n        }\n    };\n    function resetPressedKeys() {\n        pressedKeys = Object.create(null);\n    }\n\n    if ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) == \"object\" && window.postMessage && !useragent.isOldIE) {\n        var postMessageId = 1;\n        exports.nextTick = function (callback, win) {\n            win = win || window;\n            var messageName = \"zero-timeout-message-\" + postMessageId;\n            exports.addListener(win, \"message\", function listener(e) {\n                if (e.data == messageName) {\n                    exports.stopPropagation(e);\n                    exports.removeListener(win, \"message\", listener);\n                    callback();\n                }\n            });\n            win.postMessage(messageName, \"*\");\n        };\n    }\n\n    exports.nextFrame = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) == \"object\" && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame);\n\n    if (exports.nextFrame) exports.nextFrame = exports.nextFrame.bind(window);else exports.nextFrame = function (callback) {\n        setTimeout(callback, 17);\n    };\n});\n\nace.define(\"ace/lib/lang\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    exports.last = function (a) {\n        return a[a.length - 1];\n    };\n\n    exports.stringReverse = function (string) {\n        return string.split(\"\").reverse().join(\"\");\n    };\n\n    exports.stringRepeat = function (string, count) {\n        var result = '';\n        while (count > 0) {\n            if (count & 1) result += string;\n\n            if (count >>= 1) string += string;\n        }\n        return result;\n    };\n\n    var trimBeginRegexp = /^\\s\\s*/;\n    var trimEndRegexp = /\\s\\s*$/;\n\n    exports.stringTrimLeft = function (string) {\n        return string.replace(trimBeginRegexp, '');\n    };\n\n    exports.stringTrimRight = function (string) {\n        return string.replace(trimEndRegexp, '');\n    };\n\n    exports.copyObject = function (obj) {\n        var copy = {};\n        for (var key in obj) {\n            copy[key] = obj[key];\n        }\n        return copy;\n    };\n\n    exports.copyArray = function (array) {\n        var copy = [];\n        for (var i = 0, l = array.length; i < l; i++) {\n            if (array[i] && _typeof(array[i]) == \"object\") copy[i] = this.copyObject(array[i]);else copy[i] = array[i];\n        }\n        return copy;\n    };\n\n    exports.deepCopy = function deepCopy(obj) {\n        if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) !== \"object\" || !obj) return obj;\n        var copy;\n        if (Array.isArray(obj)) {\n            copy = [];\n            for (var key = 0; key < obj.length; key++) {\n                copy[key] = deepCopy(obj[key]);\n            }\n            return copy;\n        }\n        if (Object.prototype.toString.call(obj) !== \"[object Object]\") return obj;\n\n        copy = {};\n        for (var key in obj) {\n            copy[key] = deepCopy(obj[key]);\n        }return copy;\n    };\n\n    exports.arrayToMap = function (arr) {\n        var map = {};\n        for (var i = 0; i < arr.length; i++) {\n            map[arr[i]] = 1;\n        }\n        return map;\n    };\n\n    exports.createMap = function (props) {\n        var map = Object.create(null);\n        for (var i in props) {\n            map[i] = props[i];\n        }\n        return map;\n    };\n    exports.arrayRemove = function (array, value) {\n        for (var i = 0; i <= array.length; i++) {\n            if (value === array[i]) {\n                array.splice(i, 1);\n            }\n        }\n    };\n\n    exports.escapeRegExp = function (str) {\n        return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n    };\n\n    exports.escapeHTML = function (str) {\n        return str.replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n    };\n\n    exports.getMatchOffsets = function (string, regExp) {\n        var matches = [];\n\n        string.replace(regExp, function (str) {\n            matches.push({\n                offset: arguments[arguments.length - 2],\n                length: str.length\n            });\n        });\n\n        return matches;\n    };\n    exports.deferredCall = function (fcn) {\n        var timer = null;\n        var callback = function callback() {\n            timer = null;\n            fcn();\n        };\n\n        var deferred = function deferred(timeout) {\n            deferred.cancel();\n            timer = setTimeout(callback, timeout || 0);\n            return deferred;\n        };\n\n        deferred.schedule = deferred;\n\n        deferred.call = function () {\n            this.cancel();\n            fcn();\n            return deferred;\n        };\n\n        deferred.cancel = function () {\n            clearTimeout(timer);\n            timer = null;\n            return deferred;\n        };\n\n        deferred.isPending = function () {\n            return timer;\n        };\n\n        return deferred;\n    };\n\n    exports.delayedCall = function (fcn, defaultTimeout) {\n        var timer = null;\n        var callback = function callback() {\n            timer = null;\n            fcn();\n        };\n\n        var _self = function _self(timeout) {\n            if (timer == null) timer = setTimeout(callback, timeout || defaultTimeout);\n        };\n\n        _self.delay = function (timeout) {\n            timer && clearTimeout(timer);\n            timer = setTimeout(callback, timeout || defaultTimeout);\n        };\n        _self.schedule = _self;\n\n        _self.call = function () {\n            this.cancel();\n            fcn();\n        };\n\n        _self.cancel = function () {\n            timer && clearTimeout(timer);\n            timer = null;\n        };\n\n        _self.isPending = function () {\n            return timer;\n        };\n\n        return _self;\n    };\n});\n\nace.define(\"ace/keyboard/textinput_ios\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/keys\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var event = acequire(\"../lib/event\");\n    var useragent = acequire(\"../lib/useragent\");\n    var dom = acequire(\"../lib/dom\");\n    var lang = acequire(\"../lib/lang\");\n    var KEYS = acequire(\"../lib/keys\");\n    var MODS = KEYS.KEY_MODS;\n    var BROKEN_SETDATA = useragent.isChrome < 18;\n    var USE_IE_MIME_TYPE = useragent.isIE;\n\n    var TextInput = function TextInput(parentNode, host) {\n        var self = this;\n        var text = dom.createElement(\"textarea\");\n        text.className = useragent.isIOS ? \"ace_text-input ace_text-input-ios\" : \"ace_text-input\";\n\n        if (useragent.isTouchPad) text.setAttribute(\"x-palm-disable-auto-cap\", true);\n\n        text.setAttribute(\"wrap\", \"off\");\n        text.setAttribute(\"autocorrect\", \"off\");\n        text.setAttribute(\"autocapitalize\", \"off\");\n        text.setAttribute(\"spellcheck\", false);\n\n        text.style.opacity = \"0\";\n        parentNode.insertBefore(text, parentNode.firstChild);\n\n        var PLACEHOLDER = \"\\n aaaa a\\n\";\n\n        var copied = false;\n        var cut = false;\n        var pasted = false;\n        var inComposition = false;\n        var tempStyle = '';\n        var isSelectionEmpty = true;\n        try {\n            var isFocused = document.activeElement === text;\n        } catch (e) {}\n\n        event.addListener(text, \"blur\", function (e) {\n            host.onBlur(e);\n            isFocused = false;\n        });\n        event.addListener(text, \"focus\", function (e) {\n            isFocused = true;\n            host.onFocus(e);\n            resetSelection();\n        });\n        this.focus = function () {\n            if (tempStyle) return text.focus();\n            text.style.position = \"fixed\";\n            text.focus();\n        };\n        this.blur = function () {\n            text.blur();\n        };\n        this.isFocused = function () {\n            return isFocused;\n        };\n        var syncSelection = lang.delayedCall(function () {\n            isFocused && resetSelection(isSelectionEmpty);\n        });\n        var syncValue = lang.delayedCall(function () {\n            if (!inComposition) {\n                text.value = PLACEHOLDER;\n                isFocused && resetSelection();\n            }\n        });\n\n        function resetSelection(isEmpty) {\n            if (inComposition) return;\n            inComposition = true;\n\n            if (inputHandler) {\n                selectionStart = 0;\n                selectionEnd = isEmpty ? 0 : text.value.length - 1;\n            } else {\n                var selectionStart = 4;\n                var selectionEnd = 5;\n            }\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n            } catch (e) {}\n\n            inComposition = false;\n        }\n\n        function resetValue() {\n            if (inComposition) return;\n            text.value = PLACEHOLDER;\n            if (useragent.isWebKit) syncValue.schedule();\n        }\n\n        useragent.isWebKit || host.addEventListener('changeSelection', function () {\n            if (host.selection.isEmpty() != isSelectionEmpty) {\n                isSelectionEmpty = !isSelectionEmpty;\n                syncSelection.schedule();\n            }\n        });\n\n        resetValue();\n        if (isFocused) host.onFocus();\n\n        var isAllSelected = function isAllSelected(text) {\n            return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n        };\n\n        var onSelect = function onSelect(e) {\n            if (isAllSelected(text)) {\n                host.selectAll();\n                resetSelection();\n            } else if (inputHandler) {\n                resetSelection(host.selection.isEmpty());\n            }\n        };\n\n        var inputHandler = null;\n        this.setInputHandler = function (cb) {\n            inputHandler = cb;\n        };\n        this.getInputHandler = function () {\n            return inputHandler;\n        };\n        var afterContextMenu = false;\n\n        var sendText = function sendText(data) {\n            if (text.selectionStart === 4 && text.selectionEnd === 5) {\n                return;\n            }\n            if (inputHandler) {\n                data = inputHandler(data);\n                inputHandler = null;\n            }\n            if (pasted) {\n                resetSelection();\n                if (data) host.onPaste(data);\n                pasted = false;\n            } else if (data == PLACEHOLDER.substr(0) && text.selectionStart === 4) {\n                if (afterContextMenu) host.execCommand(\"del\", { source: \"ace\" });else // some versions of android do not fire keydown when pressing backspace\n                    host.execCommand(\"backspace\", { source: \"ace\" });\n            } else if (!copied) {\n                if (data.substring(0, 9) == PLACEHOLDER && data.length > PLACEHOLDER.length) data = data.substr(9);else if (data.substr(0, 4) == PLACEHOLDER.substr(0, 4)) data = data.substr(4, data.length - PLACEHOLDER.length + 1);else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n                if (data == PLACEHOLDER.charAt(0)) {} else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n\n                if (data) host.onTextInput(data);\n            }\n            if (copied) {\n                copied = false;\n            }\n            if (afterContextMenu) afterContextMenu = false;\n        };\n        var onInput = function onInput(e) {\n            if (inComposition) return;\n            var data = text.value;\n            sendText(data);\n            resetValue();\n        };\n\n        var handleClipboardData = function handleClipboardData(e, data, forceIEMime) {\n            var clipboardData = e.clipboardData || window.clipboardData;\n            if (!clipboardData || BROKEN_SETDATA) return;\n            var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n            try {\n                if (data) {\n                    return clipboardData.setData(mime, data) !== false;\n                } else {\n                    return clipboardData.getData(mime);\n                }\n            } catch (e) {\n                if (!forceIEMime) return handleClipboardData(e, data, true);\n            }\n        };\n\n        var doCopy = function doCopy(e, isCut) {\n            var data = host.getCopyText();\n            if (!data) return event.preventDefault(e);\n\n            if (handleClipboardData(e, data)) {\n                if (useragent.isIOS) {\n                    cut = isCut;\n                    text.value = \"\\n aa\" + data + \"a a\\n\";\n                    text.setSelectionRange(4, 4 + data.length);\n                    copied = {\n                        value: data\n                    };\n                }\n                isCut ? host.onCut() : host.onCopy();\n                if (!useragent.isIOS) event.preventDefault(e);\n            } else {\n                copied = true;\n                text.value = data;\n                text.select();\n                setTimeout(function () {\n                    copied = false;\n                    resetValue();\n                    resetSelection();\n                    isCut ? host.onCut() : host.onCopy();\n                });\n            }\n        };\n\n        var onCut = function onCut(e) {\n            doCopy(e, true);\n        };\n\n        var onCopy = function onCopy(e) {\n            doCopy(e, false);\n        };\n\n        var onPaste = function onPaste(e) {\n            var data = handleClipboardData(e);\n            if (typeof data == \"string\") {\n                if (data) host.onPaste(data, e);\n                if (useragent.isIE) setTimeout(resetSelection);\n                event.preventDefault(e);\n            } else {\n                text.value = \"\";\n                pasted = true;\n            }\n        };\n\n        event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n        event.addListener(text, \"select\", onSelect);\n\n        event.addListener(text, \"input\", onInput);\n\n        event.addListener(text, \"cut\", onCut);\n        event.addListener(text, \"copy\", onCopy);\n        event.addListener(text, \"paste\", onPaste);\n        var onCompositionStart = function onCompositionStart(e) {\n            if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n            inComposition = {};\n            inComposition.canUndo = host.session.$undoManager;\n            host.onCompositionStart();\n            setTimeout(onCompositionUpdate, 0);\n            host.on(\"mousedown\", onCompositionEnd);\n            if (inComposition.canUndo && !host.selection.isEmpty()) {\n                host.insert(\"\");\n                host.session.markUndoGroup();\n                host.selection.clearSelection();\n            }\n            host.session.markUndoGroup();\n        };\n\n        var onCompositionUpdate = function onCompositionUpdate() {\n            if (!inComposition || !host.onCompositionUpdate || host.$readOnly) return;\n            var val = text.value.replace(/\\x01/g, \"\");\n            if (inComposition.lastValue === val) return;\n\n            host.onCompositionUpdate(val);\n            if (inComposition.lastValue) host.undo();\n            if (inComposition.canUndo) inComposition.lastValue = val;\n            if (inComposition.lastValue) {\n                var r = host.selection.getRange();\n                host.insert(inComposition.lastValue);\n                host.session.markUndoGroup();\n                inComposition.range = host.selection.getRange();\n                host.selection.setRange(r);\n                host.selection.clearSelection();\n            }\n        };\n\n        var onCompositionEnd = function onCompositionEnd(e) {\n            if (!host.onCompositionEnd || host.$readOnly) return;\n            var c = inComposition;\n            inComposition = false;\n            var timer = setTimeout(function () {\n                timer = null;\n                var str = text.value.replace(/\\x01/g, \"\");\n                if (inComposition) return;else if (str == c.lastValue) resetValue();else if (!c.lastValue && str) {\n                    resetValue();\n                    sendText(str);\n                }\n            });\n            inputHandler = function compositionInputHandler(str) {\n                if (timer) clearTimeout(timer);\n                str = str.replace(/\\x01/g, \"\");\n                if (str == c.lastValue) return \"\";\n                if (c.lastValue && timer) host.undo();\n                return str;\n            };\n            host.onCompositionEnd();\n            host.removeListener(\"mousedown\", onCompositionEnd);\n            if (e.type == \"compositionend\" && c.range) {\n                host.selection.setRange(c.range);\n            }\n            var needsOnInput = !!useragent.isChrome && useragent.isChrome >= 53 || !!useragent.isWebKit && useragent.isWebKit >= 603;\n\n            if (needsOnInput) {\n                onInput();\n            }\n        };\n\n        var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n        event.addListener(text, \"compositionstart\", onCompositionStart);\n        if (useragent.isGecko) {\n            event.addListener(text, \"text\", function () {\n                syncComposition.schedule();\n            });\n        } else {\n            event.addListener(text, \"keyup\", function () {\n                syncComposition.schedule();\n            });\n            event.addListener(text, \"keydown\", function () {\n                syncComposition.schedule();\n            });\n        }\n        event.addListener(text, \"compositionend\", onCompositionEnd);\n\n        this.getElement = function () {\n            return text;\n        };\n\n        this.setReadOnly = function (readOnly) {\n            text.readOnly = readOnly;\n        };\n\n        this.onContextMenu = function (e) {\n            afterContextMenu = true;\n            resetSelection(host.selection.isEmpty());\n            host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n            this.moveToMouse(e, true);\n        };\n\n        this.moveToMouse = function (e, bringToFront) {\n            if (!tempStyle) tempStyle = text.style.cssText;\n            text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\") + \"height:\" + text.style.height + \";\" + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n            var rect = host.container.getBoundingClientRect();\n            var style = dom.computedStyle(host.container);\n            var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n            var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n            var maxTop = rect.bottom - top - text.clientHeight - 2;\n            var move = function move(e) {\n                text.style.left = e.clientX - left - 2 + \"px\";\n                text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n            };\n            move(e);\n\n            if (e.type != \"mousedown\") return;\n\n            if (host.renderer.$keepTextAreaAtCursor) host.renderer.$keepTextAreaAtCursor = null;\n\n            clearTimeout(closeTimeout);\n            if (useragent.isWin) event.capture(host.container, move, onContextMenuClose);\n        };\n\n        this.onContextMenuClose = onContextMenuClose;\n        var closeTimeout;\n        function onContextMenuClose() {\n            clearTimeout(closeTimeout);\n            closeTimeout = setTimeout(function () {\n                if (tempStyle) {\n                    text.style.cssText = tempStyle;\n                    tempStyle = '';\n                }\n                if (host.renderer.$keepTextAreaAtCursor == null) {\n                    host.renderer.$keepTextAreaAtCursor = true;\n                    host.renderer.$moveTextAreaToCursor();\n                }\n            }, 0);\n        }\n\n        var onContextMenu = function onContextMenu(e) {\n            host.textInput.onContextMenu(e);\n            onContextMenuClose();\n        };\n        event.addListener(text, \"mouseup\", onContextMenu);\n        event.addListener(text, \"mousedown\", function (e) {\n            e.preventDefault();\n            onContextMenuClose();\n        });\n        event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n        event.addListener(text, \"contextmenu\", onContextMenu);\n\n        if (useragent.isIOS) {\n            var typingResetTimeout = null;\n            var typing = false;\n\n            parentNode.addEventListener(\"keydown\", function (e) {\n                if (typingResetTimeout) clearTimeout(typingResetTimeout);\n                typing = true;\n            });\n\n            parentNode.addEventListener(\"keyup\", function (e) {\n                typingResetTimeout = setTimeout(function () {\n                    typing = false;\n                }, 100);\n            });\n            var detectArrowKeys = function detectArrowKeys(e) {\n                if (document.activeElement !== text) return;\n                if (typing) return;\n\n                if (cut) {\n                    return setTimeout(function () {\n                        cut = false;\n                    }, 100);\n                }\n                var selectionStart = text.selectionStart;\n                var selectionEnd = text.selectionEnd;\n                text.setSelectionRange(4, 5);\n                if (selectionStart == selectionEnd) {\n                    switch (selectionStart) {\n                        case 0:\n                            host.onCommandKey(null, 0, KEYS.up);break;\n                        case 1:\n                            host.onCommandKey(null, 0, KEYS.home);break;\n                        case 2:\n                            host.onCommandKey(null, MODS.option, KEYS.left);break;\n                        case 4:\n                            host.onCommandKey(null, 0, KEYS.left);break;\n                        case 5:\n                            host.onCommandKey(null, 0, KEYS.right);break;\n                        case 7:\n                            host.onCommandKey(null, MODS.option, KEYS.right);break;\n                        case 8:\n                            host.onCommandKey(null, 0, KEYS.end);break;\n                        case 9:\n                            host.onCommandKey(null, 0, KEYS.down);break;\n                    }\n                } else {\n                    switch (selectionEnd) {\n                        case 6:\n                            host.onCommandKey(null, MODS.shift, KEYS.right);break;\n                        case 7:\n                            host.onCommandKey(null, MODS.shift | MODS.option, KEYS.right);break;\n                        case 8:\n                            host.onCommandKey(null, MODS.shift, KEYS.end);break;\n                        case 9:\n                            host.onCommandKey(null, MODS.shift, KEYS.down);break;\n                    }\n                    switch (selectionStart) {\n                        case 0:\n                            host.onCommandKey(null, MODS.shift, KEYS.up);break;\n                        case 1:\n                            host.onCommandKey(null, MODS.shift, KEYS.home);break;\n                        case 2:\n                            host.onCommandKey(null, MODS.shift | MODS.option, KEYS.left);break;\n                        case 3:\n                            host.onCommandKey(null, MODS.shift, KEYS.left);break;\n                    }\n                }\n            };\n            document.addEventListener(\"selectionchange\", detectArrowKeys);\n            host.on(\"destroy\", function () {\n                document.removeEventListener(\"selectionchange\", detectArrowKeys);\n            });\n        }\n    };\n\n    exports.TextInput = TextInput;\n});\n\nace.define(\"ace/keyboard/textinput\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/keyboard/textinput_ios\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var event = acequire(\"../lib/event\");\n    var useragent = acequire(\"../lib/useragent\");\n    var dom = acequire(\"../lib/dom\");\n    var lang = acequire(\"../lib/lang\");\n    var BROKEN_SETDATA = useragent.isChrome < 18;\n    var USE_IE_MIME_TYPE = useragent.isIE;\n\n    var TextInputIOS = acequire(\"./textinput_ios\").TextInput;\n    var TextInput = function TextInput(parentNode, host) {\n        if (useragent.isIOS) return TextInputIOS.call(this, parentNode, host);\n\n        var text = dom.createElement(\"textarea\");\n        text.className = \"ace_text-input\";\n\n        text.setAttribute(\"wrap\", \"off\");\n        text.setAttribute(\"autocorrect\", \"off\");\n        text.setAttribute(\"autocapitalize\", \"off\");\n        text.setAttribute(\"spellcheck\", false);\n\n        text.style.opacity = \"0\";\n        parentNode.insertBefore(text, parentNode.firstChild);\n\n        var PLACEHOLDER = \"\\u2028\\u2028\";\n\n        var copied = false;\n        var pasted = false;\n        var inComposition = false;\n        var tempStyle = '';\n        var isSelectionEmpty = true;\n        try {\n            var isFocused = document.activeElement === text;\n        } catch (e) {}\n\n        event.addListener(text, \"blur\", function (e) {\n            host.onBlur(e);\n            isFocused = false;\n        });\n        event.addListener(text, \"focus\", function (e) {\n            isFocused = true;\n            host.onFocus(e);\n            resetSelection();\n        });\n        this.focus = function () {\n            if (tempStyle) return text.focus();\n            var top = text.style.top;\n            text.style.position = \"fixed\";\n            text.style.top = \"0px\";\n            text.focus();\n            setTimeout(function () {\n                text.style.position = \"\";\n                if (text.style.top == \"0px\") text.style.top = top;\n            }, 0);\n        };\n        this.blur = function () {\n            text.blur();\n        };\n        this.isFocused = function () {\n            return isFocused;\n        };\n        var syncSelection = lang.delayedCall(function () {\n            isFocused && resetSelection(isSelectionEmpty);\n        });\n        var syncValue = lang.delayedCall(function () {\n            if (!inComposition) {\n                text.value = PLACEHOLDER;\n                isFocused && resetSelection();\n            }\n        });\n\n        function resetSelection(isEmpty) {\n            if (inComposition) return;\n            inComposition = true;\n\n            if (inputHandler) {\n                var selectionStart = 0;\n                var selectionEnd = isEmpty ? 0 : text.value.length - 1;\n            } else {\n                var selectionStart = isEmpty ? 2 : 1;\n                var selectionEnd = 2;\n            }\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n            } catch (e) {}\n\n            inComposition = false;\n        }\n\n        function resetValue() {\n            if (inComposition) return;\n            text.value = PLACEHOLDER;\n            if (useragent.isWebKit) syncValue.schedule();\n        }\n\n        useragent.isWebKit || host.addEventListener('changeSelection', function () {\n            if (host.selection.isEmpty() != isSelectionEmpty) {\n                isSelectionEmpty = !isSelectionEmpty;\n                syncSelection.schedule();\n            }\n        });\n\n        resetValue();\n        if (isFocused) host.onFocus();\n\n        var isAllSelected = function isAllSelected(text) {\n            return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n        };\n\n        var onSelect = function onSelect(e) {\n            if (copied) {\n                copied = false;\n            } else if (isAllSelected(text)) {\n                host.selectAll();\n                resetSelection();\n            } else if (inputHandler) {\n                resetSelection(host.selection.isEmpty());\n            }\n        };\n\n        var inputHandler = null;\n        this.setInputHandler = function (cb) {\n            inputHandler = cb;\n        };\n        this.getInputHandler = function () {\n            return inputHandler;\n        };\n        var afterContextMenu = false;\n\n        var sendText = function sendText(data) {\n            if (inputHandler) {\n                data = inputHandler(data);\n                inputHandler = null;\n            }\n            if (pasted) {\n                resetSelection();\n                if (data) host.onPaste(data);\n                pasted = false;\n            } else if (data == PLACEHOLDER.charAt(0)) {\n                if (afterContextMenu) host.execCommand(\"del\", { source: \"ace\" });else // some versions of android do not fire keydown when pressing backspace\n                    host.execCommand(\"backspace\", { source: \"ace\" });\n            } else {\n                if (data.substring(0, 2) == PLACEHOLDER) data = data.substr(2);else if (data.charAt(0) == PLACEHOLDER.charAt(0)) data = data.substr(1);else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n                if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0)) data = data.slice(0, -1);\n\n                if (data) host.onTextInput(data);\n            }\n            if (afterContextMenu) afterContextMenu = false;\n        };\n        var onInput = function onInput(e) {\n            if (inComposition) return;\n            var data = text.value;\n            sendText(data);\n            resetValue();\n        };\n\n        var handleClipboardData = function handleClipboardData(e, data, forceIEMime) {\n            var clipboardData = e.clipboardData || window.clipboardData;\n            if (!clipboardData || BROKEN_SETDATA) return;\n            var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n            try {\n                if (data) {\n                    return clipboardData.setData(mime, data) !== false;\n                } else {\n                    return clipboardData.getData(mime);\n                }\n            } catch (e) {\n                if (!forceIEMime) return handleClipboardData(e, data, true);\n            }\n        };\n\n        var doCopy = function doCopy(e, isCut) {\n            var data = host.getCopyText();\n            if (!data) return event.preventDefault(e);\n\n            if (handleClipboardData(e, data)) {\n                isCut ? host.onCut() : host.onCopy();\n                event.preventDefault(e);\n            } else {\n                copied = true;\n                text.value = data;\n                text.select();\n                setTimeout(function () {\n                    copied = false;\n                    resetValue();\n                    resetSelection();\n                    isCut ? host.onCut() : host.onCopy();\n                });\n            }\n        };\n\n        var onCut = function onCut(e) {\n            doCopy(e, true);\n        };\n\n        var onCopy = function onCopy(e) {\n            doCopy(e, false);\n        };\n\n        var onPaste = function onPaste(e) {\n            var data = handleClipboardData(e);\n            if (typeof data == \"string\") {\n                if (data) host.onPaste(data, e);\n                if (useragent.isIE) setTimeout(resetSelection);\n                event.preventDefault(e);\n            } else {\n                text.value = \"\";\n                pasted = true;\n            }\n        };\n\n        event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n        event.addListener(text, \"select\", onSelect);\n\n        event.addListener(text, \"input\", onInput);\n\n        event.addListener(text, \"cut\", onCut);\n        event.addListener(text, \"copy\", onCopy);\n        event.addListener(text, \"paste\", onPaste);\n        if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n            event.addListener(parentNode, \"keydown\", function (e) {\n                if (useragent.isMac && !e.metaKey || !e.ctrlKey) return;\n\n                switch (e.keyCode) {\n                    case 67:\n                        onCopy(e);\n                        break;\n                    case 86:\n                        onPaste(e);\n                        break;\n                    case 88:\n                        onCut(e);\n                        break;\n                }\n            });\n        }\n        var onCompositionStart = function onCompositionStart(e) {\n            if (inComposition || !host.onCompositionStart || host.$readOnly) return;\n            inComposition = {};\n            inComposition.canUndo = host.session.$undoManager;\n            host.onCompositionStart();\n            setTimeout(onCompositionUpdate, 0);\n            host.on(\"mousedown\", onCompositionEnd);\n            if (inComposition.canUndo && !host.selection.isEmpty()) {\n                host.insert(\"\");\n                host.session.markUndoGroup();\n                host.selection.clearSelection();\n            }\n            host.session.markUndoGroup();\n        };\n\n        var onCompositionUpdate = function onCompositionUpdate() {\n            if (!inComposition || !host.onCompositionUpdate || host.$readOnly) return;\n            var val = text.value.replace(/\\u2028/g, \"\");\n            if (inComposition.lastValue === val) return;\n\n            host.onCompositionUpdate(val);\n            if (inComposition.lastValue) host.undo();\n            if (inComposition.canUndo) inComposition.lastValue = val;\n            if (inComposition.lastValue) {\n                var r = host.selection.getRange();\n                host.insert(inComposition.lastValue);\n                host.session.markUndoGroup();\n                inComposition.range = host.selection.getRange();\n                host.selection.setRange(r);\n                host.selection.clearSelection();\n            }\n        };\n\n        var onCompositionEnd = function onCompositionEnd(e) {\n            if (!host.onCompositionEnd || host.$readOnly) return;\n            var c = inComposition;\n            inComposition = false;\n            var timer = setTimeout(function () {\n                timer = null;\n                var str = text.value.replace(/\\u2028/g, \"\");\n                if (inComposition) return;else if (str == c.lastValue) resetValue();else if (!c.lastValue && str) {\n                    resetValue();\n                    sendText(str);\n                }\n            });\n            inputHandler = function compositionInputHandler(str) {\n                if (timer) clearTimeout(timer);\n                str = str.replace(/\\u2028/g, \"\");\n                if (str == c.lastValue) return \"\";\n                if (c.lastValue && timer) host.undo();\n                return str;\n            };\n            host.onCompositionEnd();\n            host.removeListener(\"mousedown\", onCompositionEnd);\n            if (e.type == \"compositionend\" && c.range) {\n                host.selection.setRange(c.range);\n            }\n            var needsOnInput = !!useragent.isChrome && useragent.isChrome >= 53 || !!useragent.isWebKit && useragent.isWebKit >= 603;\n\n            if (needsOnInput) {\n                onInput();\n            }\n        };\n\n        var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n        event.addListener(text, \"compositionstart\", onCompositionStart);\n        if (useragent.isGecko) {\n            event.addListener(text, \"text\", function () {\n                syncComposition.schedule();\n            });\n        } else {\n            event.addListener(text, \"keyup\", function () {\n                syncComposition.schedule();\n            });\n            event.addListener(text, \"keydown\", function () {\n                syncComposition.schedule();\n            });\n        }\n        event.addListener(text, \"compositionend\", onCompositionEnd);\n\n        this.getElement = function () {\n            return text;\n        };\n\n        this.setReadOnly = function (readOnly) {\n            text.readOnly = readOnly;\n        };\n\n        this.onContextMenu = function (e) {\n            afterContextMenu = true;\n            resetSelection(host.selection.isEmpty());\n            host._emit(\"nativecontextmenu\", { target: host, domEvent: e });\n            this.moveToMouse(e, true);\n        };\n\n        this.moveToMouse = function (e, bringToFront) {\n            if (!tempStyle) tempStyle = text.style.cssText;\n            text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\") + \"height:\" + text.style.height + \";\" + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n            var rect = host.container.getBoundingClientRect();\n            var style = dom.computedStyle(host.container);\n            var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n            var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n            var maxTop = rect.bottom - top - text.clientHeight - 2;\n            var move = function move(e) {\n                text.style.left = e.clientX - left - 2 + \"px\";\n                text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n            };\n            move(e);\n\n            if (e.type != \"mousedown\") return;\n\n            if (host.renderer.$keepTextAreaAtCursor) host.renderer.$keepTextAreaAtCursor = null;\n\n            clearTimeout(closeTimeout);\n            if (useragent.isWin) event.capture(host.container, move, onContextMenuClose);\n        };\n\n        this.onContextMenuClose = onContextMenuClose;\n        var closeTimeout;\n        function onContextMenuClose() {\n            clearTimeout(closeTimeout);\n            closeTimeout = setTimeout(function () {\n                if (tempStyle) {\n                    text.style.cssText = tempStyle;\n                    tempStyle = '';\n                }\n                if (host.renderer.$keepTextAreaAtCursor == null) {\n                    host.renderer.$keepTextAreaAtCursor = true;\n                    host.renderer.$moveTextAreaToCursor();\n                }\n            }, 0);\n        }\n\n        var onContextMenu = function onContextMenu(e) {\n            host.textInput.onContextMenu(e);\n            onContextMenuClose();\n        };\n        event.addListener(text, \"mouseup\", onContextMenu);\n        event.addListener(text, \"mousedown\", function (e) {\n            e.preventDefault();\n            onContextMenuClose();\n        });\n        event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n        event.addListener(text, \"contextmenu\", onContextMenu);\n    };\n\n    exports.TextInput = TextInput;\n});\n\nace.define(\"ace/mouse/default_handlers\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var dom = acequire(\"../lib/dom\");\n    var event = acequire(\"../lib/event\");\n    var useragent = acequire(\"../lib/useragent\");\n\n    var DRAG_OFFSET = 0; // pixels\n    var SCROLL_COOLDOWN_T = 250; // milliseconds\n\n    function DefaultHandlers(mouseHandler) {\n        mouseHandler.$clickSelection = null;\n\n        var editor = mouseHandler.editor;\n        editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n        editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n        editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n        editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n        editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n        editor.setDefaultHandler(\"touchmove\", this.onTouchMove.bind(mouseHandler));\n\n        var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\", \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n        exports.forEach(function (x) {\n            mouseHandler[x] = this[x];\n        }, this);\n\n        mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n        mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n    }\n\n    (function () {\n\n        this.onMouseDown = function (ev) {\n            var inSelection = ev.inSelection();\n            var pos = ev.getDocumentPosition();\n            this.mousedownEvent = ev;\n            var editor = this.editor;\n\n            var button = ev.getButton();\n            if (button !== 0) {\n                var selectionRange = editor.getSelectionRange();\n                var selectionEmpty = selectionRange.isEmpty();\n                editor.$blockScrolling++;\n                if (selectionEmpty || button == 1) editor.selection.moveToPosition(pos);\n                editor.$blockScrolling--;\n                if (button == 2) {\n                    editor.textInput.onContextMenu(ev.domEvent);\n                    if (!useragent.isMozilla) ev.preventDefault();\n                }\n                return;\n            }\n\n            this.mousedownEvent.time = Date.now();\n            if (inSelection && !editor.isFocused()) {\n                editor.focus();\n                if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                    this.setState(\"focusWait\");\n                    this.captureMouse(ev);\n                    return;\n                }\n            }\n\n            this.captureMouse(ev);\n            this.startSelect(pos, ev.domEvent._clicks > 1);\n            return ev.preventDefault();\n        };\n\n        this.startSelect = function (pos, waitForClickSelection) {\n            pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n            var editor = this.editor;\n            editor.$blockScrolling++;\n            if (this.mousedownEvent.getShiftKey()) editor.selection.selectToPosition(pos);else if (!waitForClickSelection) editor.selection.moveToPosition(pos);\n            if (!waitForClickSelection) this.select();\n            if (editor.renderer.scroller.setCapture) {\n                editor.renderer.scroller.setCapture();\n            }\n            editor.setStyle(\"ace_selecting\");\n            this.setState(\"select\");\n            editor.$blockScrolling--;\n        };\n\n        this.select = function () {\n            var anchor,\n                editor = this.editor;\n            var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n            editor.$blockScrolling++;\n            if (this.$clickSelection) {\n                var cmp = this.$clickSelection.comparePoint(cursor);\n\n                if (cmp == -1) {\n                    anchor = this.$clickSelection.end;\n                } else if (cmp == 1) {\n                    anchor = this.$clickSelection.start;\n                } else {\n                    var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                    cursor = orientedRange.cursor;\n                    anchor = orientedRange.anchor;\n                }\n                editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n            }\n            editor.selection.selectToPosition(cursor);\n            editor.$blockScrolling--;\n            editor.renderer.scrollCursorIntoView();\n        };\n\n        this.extendSelectionBy = function (unitName) {\n            var anchor,\n                editor = this.editor;\n            var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n            var range = editor.selection[unitName](cursor.row, cursor.column);\n            editor.$blockScrolling++;\n            if (this.$clickSelection) {\n                var cmpStart = this.$clickSelection.comparePoint(range.start);\n                var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n                if (cmpStart == -1 && cmpEnd <= 0) {\n                    anchor = this.$clickSelection.end;\n                    if (range.end.row != cursor.row || range.end.column != cursor.column) cursor = range.start;\n                } else if (cmpEnd == 1 && cmpStart >= 0) {\n                    anchor = this.$clickSelection.start;\n                    if (range.start.row != cursor.row || range.start.column != cursor.column) cursor = range.end;\n                } else if (cmpStart == -1 && cmpEnd == 1) {\n                    cursor = range.end;\n                    anchor = range.start;\n                } else {\n                    var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                    cursor = orientedRange.cursor;\n                    anchor = orientedRange.anchor;\n                }\n                editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n            }\n            editor.selection.selectToPosition(cursor);\n            editor.$blockScrolling--;\n            editor.renderer.scrollCursorIntoView();\n        };\n\n        this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function () {\n            this.$clickSelection = null;\n            this.editor.unsetStyle(\"ace_selecting\");\n            if (this.editor.renderer.scroller.releaseCapture) {\n                this.editor.renderer.scroller.releaseCapture();\n            }\n        };\n\n        this.focusWait = function () {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            var time = Date.now();\n\n            if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout) this.startSelect(this.mousedownEvent.getDocumentPosition());\n        };\n\n        this.onDoubleClick = function (ev) {\n            var pos = ev.getDocumentPosition();\n            var editor = this.editor;\n            var session = editor.session;\n\n            var range = session.getBracketRange(pos);\n            if (range) {\n                if (range.isEmpty()) {\n                    range.start.column--;\n                    range.end.column++;\n                }\n                this.setState(\"select\");\n            } else {\n                range = editor.selection.getWordRange(pos.row, pos.column);\n                this.setState(\"selectByWords\");\n            }\n            this.$clickSelection = range;\n            this.select();\n        };\n\n        this.onTripleClick = function (ev) {\n            var pos = ev.getDocumentPosition();\n            var editor = this.editor;\n\n            this.setState(\"selectByLines\");\n            var range = editor.getSelectionRange();\n            if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n                this.$clickSelection = editor.selection.getLineRange(range.start.row);\n                this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n            } else {\n                this.$clickSelection = editor.selection.getLineRange(pos.row);\n            }\n            this.select();\n        };\n\n        this.onQuadClick = function (ev) {\n            var editor = this.editor;\n\n            editor.selectAll();\n            this.$clickSelection = editor.getSelectionRange();\n            this.setState(\"selectAll\");\n        };\n\n        this.onMouseWheel = function (ev) {\n            if (ev.getAccelKey()) return;\n            if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n                ev.wheelX = ev.wheelY;\n                ev.wheelY = 0;\n            }\n\n            var editor = this.editor;\n\n            if (!this.$lastScroll) this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n\n            var prevScroll = this.$lastScroll;\n            var t = ev.domEvent.timeStamp;\n            var dt = t - prevScroll.t;\n            var vx = ev.wheelX / dt;\n            var vy = ev.wheelY / dt;\n            if (dt < SCROLL_COOLDOWN_T) {\n                vx = (vx + prevScroll.vx) / 2;\n                vy = (vy + prevScroll.vy) / 2;\n            }\n\n            var direction = Math.abs(vx / vy);\n\n            var canScroll = false;\n            if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0)) canScroll = true;\n            if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed)) canScroll = true;\n\n            if (canScroll) {\n                prevScroll.allowed = t;\n            } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n                var isSlower = Math.abs(vx) <= 1.1 * Math.abs(prevScroll.vx) && Math.abs(vy) <= 1.1 * Math.abs(prevScroll.vy);\n                if (isSlower) {\n                    canScroll = true;\n                    prevScroll.allowed = t;\n                } else {\n                    prevScroll.allowed = 0;\n                }\n            }\n\n            prevScroll.t = t;\n            prevScroll.vx = vx;\n            prevScroll.vy = vy;\n\n            if (canScroll) {\n                editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n                return ev.stop();\n            }\n        };\n\n        this.onTouchMove = function (ev) {\n            this.editor._emit(\"mousewheel\", ev);\n        };\n    }).call(DefaultHandlers.prototype);\n\n    exports.DefaultHandlers = DefaultHandlers;\n\n    function calcDistance(ax, ay, bx, by) {\n        return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n    }\n\n    function calcRangeOrientation(range, cursor) {\n        if (range.start.row == range.end.row) var cmp = 2 * cursor.column - range.start.column - range.end.column;else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column) var cmp = cursor.column - 4;else var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n        if (cmp < 0) return { cursor: range.start, anchor: range.end };else return { cursor: range.end, anchor: range.start };\n    }\n});\n\nace.define(\"ace/tooltip\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var dom = acequire(\"./lib/dom\");\n    function Tooltip(parentNode) {\n        this.isOpen = false;\n        this.$element = null;\n        this.$parentNode = parentNode;\n    }\n\n    (function () {\n        this.$init = function () {\n            this.$element = dom.createElement(\"div\");\n            this.$element.className = \"ace_tooltip\";\n            this.$element.style.display = \"none\";\n            this.$parentNode.appendChild(this.$element);\n            return this.$element;\n        };\n        this.getElement = function () {\n            return this.$element || this.$init();\n        };\n        this.setText = function (text) {\n            dom.setInnerText(this.getElement(), text);\n        };\n        this.setHtml = function (html) {\n            this.getElement().innerHTML = html;\n        };\n        this.setPosition = function (x, y) {\n            this.getElement().style.left = x + \"px\";\n            this.getElement().style.top = y + \"px\";\n        };\n        this.setClassName = function (className) {\n            dom.addCssClass(this.getElement(), className);\n        };\n        this.show = function (text, x, y) {\n            if (text != null) this.setText(text);\n            if (x != null && y != null) this.setPosition(x, y);\n            if (!this.isOpen) {\n                this.getElement().style.display = \"block\";\n                this.isOpen = true;\n            }\n        };\n\n        this.hide = function () {\n            if (this.isOpen) {\n                this.getElement().style.display = \"none\";\n                this.isOpen = false;\n            }\n        };\n        this.getHeight = function () {\n            return this.getElement().offsetHeight;\n        };\n        this.getWidth = function () {\n            return this.getElement().offsetWidth;\n        };\n\n        this.destroy = function () {\n            this.isOpen = false;\n            if (this.$element && this.$element.parentNode) {\n                this.$element.parentNode.removeChild(this.$element);\n            }\n        };\n    }).call(Tooltip.prototype);\n\n    exports.Tooltip = Tooltip;\n});\n\nace.define(\"ace/mouse/default_gutter_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/event\", \"ace/tooltip\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var dom = acequire(\"../lib/dom\");\n    var oop = acequire(\"../lib/oop\");\n    var event = acequire(\"../lib/event\");\n    var Tooltip = acequire(\"../tooltip\").Tooltip;\n\n    function GutterHandler(mouseHandler) {\n        var editor = mouseHandler.editor;\n        var gutter = editor.renderer.$gutterLayer;\n        var tooltip = new GutterTooltip(editor.container);\n\n        mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function (e) {\n            if (!editor.isFocused() || e.getButton() != 0) return;\n            var gutterRegion = gutter.getRegion(e);\n\n            if (gutterRegion == \"foldWidgets\") return;\n\n            var row = e.getDocumentPosition().row;\n            var selection = editor.session.selection;\n\n            if (e.getShiftKey()) selection.selectTo(row, 0);else {\n                if (e.domEvent.detail == 2) {\n                    editor.selectAll();\n                    return e.preventDefault();\n                }\n                mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n            }\n            mouseHandler.setState(\"selectByLines\");\n            mouseHandler.captureMouse(e);\n            return e.preventDefault();\n        });\n\n        var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n        function showTooltip() {\n            var row = mouseEvent.getDocumentPosition().row;\n            var annotation = gutter.$annotations[row];\n            if (!annotation) return hideTooltip();\n\n            var maxRow = editor.session.getLength();\n            if (row == maxRow) {\n                var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n                var pos = mouseEvent.$pos;\n                if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column)) return hideTooltip();\n            }\n\n            if (tooltipAnnotation == annotation) return;\n            tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n            tooltip.setHtml(tooltipAnnotation);\n            tooltip.show();\n            editor._signal(\"showGutterTooltip\", tooltip);\n            editor.on(\"mousewheel\", hideTooltip);\n\n            if (mouseHandler.$tooltipFollowsMouse) {\n                moveTooltip(mouseEvent);\n            } else {\n                var gutterElement = mouseEvent.domEvent.target;\n                var rect = gutterElement.getBoundingClientRect();\n                var style = tooltip.getElement().style;\n                style.left = rect.right + \"px\";\n                style.top = rect.bottom + \"px\";\n            }\n        }\n\n        function hideTooltip() {\n            if (tooltipTimeout) tooltipTimeout = clearTimeout(tooltipTimeout);\n            if (tooltipAnnotation) {\n                tooltip.hide();\n                tooltipAnnotation = null;\n                editor._signal(\"hideGutterTooltip\", tooltip);\n                editor.removeEventListener(\"mousewheel\", hideTooltip);\n            }\n        }\n\n        function moveTooltip(e) {\n            tooltip.setPosition(e.x, e.y);\n        }\n\n        mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function (e) {\n            var target = e.domEvent.target || e.domEvent.srcElement;\n            if (dom.hasCssClass(target, \"ace_fold-widget\")) return hideTooltip();\n\n            if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse) moveTooltip(e);\n\n            mouseEvent = e;\n            if (tooltipTimeout) return;\n            tooltipTimeout = setTimeout(function () {\n                tooltipTimeout = null;\n                if (mouseEvent && !mouseHandler.isMousePressed) showTooltip();else hideTooltip();\n            }, 50);\n        });\n\n        event.addListener(editor.renderer.$gutter, \"mouseout\", function (e) {\n            mouseEvent = null;\n            if (!tooltipAnnotation || tooltipTimeout) return;\n\n            tooltipTimeout = setTimeout(function () {\n                tooltipTimeout = null;\n                hideTooltip();\n            }, 50);\n        });\n\n        editor.on(\"changeSession\", hideTooltip);\n    }\n\n    function GutterTooltip(parentNode) {\n        Tooltip.call(this, parentNode);\n    }\n\n    oop.inherits(GutterTooltip, Tooltip);\n\n    (function () {\n        this.setPosition = function (x, y) {\n            var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n            var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n            var width = this.getWidth();\n            var height = this.getHeight();\n            x += 15;\n            y += 15;\n            if (x + width > windowWidth) {\n                x -= x + width - windowWidth;\n            }\n            if (y + height > windowHeight) {\n                y -= 20 + height;\n            }\n            Tooltip.prototype.setPosition.call(this, x, y);\n        };\n    }).call(GutterTooltip.prototype);\n\n    exports.GutterHandler = GutterHandler;\n});\n\nace.define(\"ace/mouse/mouse_event\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var event = acequire(\"../lib/event\");\n    var useragent = acequire(\"../lib/useragent\");\n    var MouseEvent = exports.MouseEvent = function (domEvent, editor) {\n        this.domEvent = domEvent;\n        this.editor = editor;\n\n        this.x = this.clientX = domEvent.clientX;\n        this.y = this.clientY = domEvent.clientY;\n\n        this.$pos = null;\n        this.$inSelection = null;\n\n        this.propagationStopped = false;\n        this.defaultPrevented = false;\n    };\n\n    (function () {\n\n        this.stopPropagation = function () {\n            event.stopPropagation(this.domEvent);\n            this.propagationStopped = true;\n        };\n\n        this.preventDefault = function () {\n            event.preventDefault(this.domEvent);\n            this.defaultPrevented = true;\n        };\n\n        this.stop = function () {\n            this.stopPropagation();\n            this.preventDefault();\n        };\n        this.getDocumentPosition = function () {\n            if (this.$pos) return this.$pos;\n\n            this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n            return this.$pos;\n        };\n        this.inSelection = function () {\n            if (this.$inSelection !== null) return this.$inSelection;\n\n            var editor = this.editor;\n\n            var selectionRange = editor.getSelectionRange();\n            if (selectionRange.isEmpty()) this.$inSelection = false;else {\n                var pos = this.getDocumentPosition();\n                this.$inSelection = selectionRange.contains(pos.row, pos.column);\n            }\n\n            return this.$inSelection;\n        };\n        this.getButton = function () {\n            return event.getButton(this.domEvent);\n        };\n        this.getShiftKey = function () {\n            return this.domEvent.shiftKey;\n        };\n\n        this.getAccelKey = useragent.isMac ? function () {\n            return this.domEvent.metaKey;\n        } : function () {\n            return this.domEvent.ctrlKey;\n        };\n    }).call(MouseEvent.prototype);\n});\n\nace.define(\"ace/mouse/dragdrop_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var dom = acequire(\"../lib/dom\");\n    var event = acequire(\"../lib/event\");\n    var useragent = acequire(\"../lib/useragent\");\n\n    var AUTOSCROLL_DELAY = 200;\n    var SCROLL_CURSOR_DELAY = 200;\n    var SCROLL_CURSOR_HYSTERESIS = 5;\n\n    function DragdropHandler(mouseHandler) {\n\n        var editor = mouseHandler.editor;\n\n        var blankImage = dom.createElement(\"img\");\n        blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n        if (useragent.isOpera) blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n        var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n        exports.forEach(function (x) {\n            mouseHandler[x] = this[x];\n        }, this);\n        editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n        var mouseTarget = editor.container;\n        var dragSelectionMarker, x, y;\n        var timerId, range;\n        var dragCursor,\n            counter = 0;\n        var dragOperation;\n        var isInternal;\n        var autoScrollStartTime;\n        var cursorMovedTime;\n        var cursorPointOnCaretMoved;\n\n        this.onDragStart = function (e) {\n            if (this.cancelDrag || !mouseTarget.draggable) {\n                var self = this;\n                setTimeout(function () {\n                    self.startSelect();\n                    self.captureMouse(e);\n                }, 0);\n                return e.preventDefault();\n            }\n            range = editor.getSelectionRange();\n\n            var dataTransfer = e.dataTransfer;\n            dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n            if (useragent.isOpera) {\n                editor.container.appendChild(blankImage);\n                blankImage.scrollTop = 0;\n            }\n            dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n            if (useragent.isOpera) {\n                editor.container.removeChild(blankImage);\n            }\n            dataTransfer.clearData();\n            dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n            isInternal = true;\n            this.setState(\"drag\");\n        };\n\n        this.onDragEnd = function (e) {\n            mouseTarget.draggable = false;\n            isInternal = false;\n            this.setState(null);\n            if (!editor.getReadOnly()) {\n                var dropEffect = e.dataTransfer.dropEffect;\n                if (!dragOperation && dropEffect == \"move\") editor.session.remove(editor.getSelectionRange());\n                editor.renderer.$cursorLayer.setBlinking(true);\n            }\n            this.editor.unsetStyle(\"ace_dragging\");\n            this.editor.renderer.setCursorStyle(\"\");\n        };\n\n        this.onDragEnter = function (e) {\n            if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n            x = e.clientX;\n            y = e.clientY;\n            if (!dragSelectionMarker) addDragMarker();\n            counter++;\n            e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n            return event.preventDefault(e);\n        };\n\n        this.onDragOver = function (e) {\n            if (editor.getReadOnly() || !canAccept(e.dataTransfer)) return;\n            x = e.clientX;\n            y = e.clientY;\n            if (!dragSelectionMarker) {\n                addDragMarker();\n                counter++;\n            }\n            if (onMouseMoveTimer !== null) onMouseMoveTimer = null;\n\n            e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n            return event.preventDefault(e);\n        };\n\n        this.onDragLeave = function (e) {\n            counter--;\n            if (counter <= 0 && dragSelectionMarker) {\n                clearDragMarker();\n                dragOperation = null;\n                return event.preventDefault(e);\n            }\n        };\n\n        this.onDrop = function (e) {\n            if (!dragCursor) return;\n            var dataTransfer = e.dataTransfer;\n            if (isInternal) {\n                switch (dragOperation) {\n                    case \"move\":\n                        if (range.contains(dragCursor.row, dragCursor.column)) {\n                            range = {\n                                start: dragCursor,\n                                end: dragCursor\n                            };\n                        } else {\n                            range = editor.moveText(range, dragCursor);\n                        }\n                        break;\n                    case \"copy\":\n                        range = editor.moveText(range, dragCursor, true);\n                        break;\n                }\n            } else {\n                var dropData = dataTransfer.getData('Text');\n                range = {\n                    start: dragCursor,\n                    end: editor.session.insert(dragCursor, dropData)\n                };\n                editor.focus();\n                dragOperation = null;\n            }\n            clearDragMarker();\n            return event.preventDefault(e);\n        };\n\n        event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n        event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n        event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n        event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n        event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n        event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n        function scrollCursorIntoView(cursor, prevCursor) {\n            var now = Date.now();\n            var vMovement = !prevCursor || cursor.row != prevCursor.row;\n            var hMovement = !prevCursor || cursor.column != prevCursor.column;\n            if (!cursorMovedTime || vMovement || hMovement) {\n                editor.$blockScrolling += 1;\n                editor.moveCursorToPosition(cursor);\n                editor.$blockScrolling -= 1;\n                cursorMovedTime = now;\n                cursorPointOnCaretMoved = { x: x, y: y };\n            } else {\n                var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n                if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                    cursorMovedTime = null;\n                } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                    editor.renderer.scrollCursorIntoView();\n                    cursorMovedTime = null;\n                }\n            }\n        }\n\n        function autoScroll(cursor, prevCursor) {\n            var now = Date.now();\n            var lineHeight = editor.renderer.layerConfig.lineHeight;\n            var characterWidth = editor.renderer.layerConfig.characterWidth;\n            var editorRect = editor.renderer.scroller.getBoundingClientRect();\n            var offsets = {\n                x: {\n                    left: x - editorRect.left,\n                    right: editorRect.right - x\n                },\n                y: {\n                    top: y - editorRect.top,\n                    bottom: editorRect.bottom - y\n                }\n            };\n            var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n            var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n            var scrollCursor = { row: cursor.row, column: cursor.column };\n            if (nearestXOffset / characterWidth <= 2) {\n                scrollCursor.column += offsets.x.left < offsets.x.right ? -3 : +2;\n            }\n            if (nearestYOffset / lineHeight <= 1) {\n                scrollCursor.row += offsets.y.top < offsets.y.bottom ? -1 : +1;\n            }\n            var vScroll = cursor.row != scrollCursor.row;\n            var hScroll = cursor.column != scrollCursor.column;\n            var vMovement = !prevCursor || cursor.row != prevCursor.row;\n            if (vScroll || hScroll && !vMovement) {\n                if (!autoScrollStartTime) autoScrollStartTime = now;else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY) editor.renderer.scrollCursorIntoView(scrollCursor);\n            } else {\n                autoScrollStartTime = null;\n            }\n        }\n\n        function onDragInterval() {\n            var prevCursor = dragCursor;\n            dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n            scrollCursorIntoView(dragCursor, prevCursor);\n            autoScroll(dragCursor, prevCursor);\n        }\n\n        function addDragMarker() {\n            range = editor.selection.toOrientedRange();\n            dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n            editor.clearSelection();\n            if (editor.isFocused()) editor.renderer.$cursorLayer.setBlinking(false);\n            clearInterval(timerId);\n            onDragInterval();\n            timerId = setInterval(onDragInterval, 20);\n            counter = 0;\n            event.addListener(document, \"mousemove\", onMouseMove);\n        }\n\n        function clearDragMarker() {\n            clearInterval(timerId);\n            editor.session.removeMarker(dragSelectionMarker);\n            dragSelectionMarker = null;\n            editor.$blockScrolling += 1;\n            editor.selection.fromOrientedRange(range);\n            editor.$blockScrolling -= 1;\n            if (editor.isFocused() && !isInternal) editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());\n            range = null;\n            dragCursor = null;\n            counter = 0;\n            autoScrollStartTime = null;\n            cursorMovedTime = null;\n            event.removeListener(document, \"mousemove\", onMouseMove);\n        }\n        var onMouseMoveTimer = null;\n        function onMouseMove() {\n            if (onMouseMoveTimer == null) {\n                onMouseMoveTimer = setTimeout(function () {\n                    if (onMouseMoveTimer != null && dragSelectionMarker) clearDragMarker();\n                }, 20);\n            }\n        }\n\n        function canAccept(dataTransfer) {\n            var types = dataTransfer.types;\n            return !types || Array.prototype.some.call(types, function (type) {\n                return type == 'text/plain' || type == 'Text';\n            });\n        }\n\n        function getDropEffect(e) {\n            var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n            var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n            var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n            var effectAllowed = \"uninitialized\";\n            try {\n                effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n            } catch (e) {}\n            var dropEffect = \"none\";\n\n            if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";else if (moveAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"move\";else if (copyAllowed.indexOf(effectAllowed) >= 0) dropEffect = \"copy\";\n\n            return dropEffect;\n        }\n    }\n\n    (function () {\n\n        this.dragWait = function () {\n            var interval = Date.now() - this.mousedownEvent.time;\n            if (interval > this.editor.getDragDelay()) this.startDrag();\n        };\n\n        this.dragWaitEnd = function () {\n            var target = this.editor.container;\n            target.draggable = false;\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n            this.selectEnd();\n        };\n\n        this.dragReadyEnd = function (e) {\n            this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());\n            this.editor.unsetStyle(\"ace_dragging\");\n            this.editor.renderer.setCursorStyle(\"\");\n            this.dragWaitEnd();\n        };\n\n        this.startDrag = function () {\n            this.cancelDrag = false;\n            var editor = this.editor;\n            var target = editor.container;\n            target.draggable = true;\n            editor.renderer.$cursorLayer.setBlinking(false);\n            editor.setStyle(\"ace_dragging\");\n            var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n            editor.renderer.setCursorStyle(cursorStyle);\n            this.setState(\"dragReady\");\n        };\n\n        this.onMouseDrag = function (e) {\n            var target = this.editor.container;\n            if (useragent.isIE && this.state == \"dragReady\") {\n                var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n                if (distance > 3) target.dragDrop();\n            }\n            if (this.state === \"dragWait\") {\n                var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n                if (distance > 0) {\n                    target.draggable = false;\n                    this.startSelect(this.mousedownEvent.getDocumentPosition());\n                }\n            }\n        };\n\n        this.onMouseDown = function (e) {\n            if (!this.$dragEnabled) return;\n            this.mousedownEvent = e;\n            var editor = this.editor;\n\n            var inSelection = e.inSelection();\n            var button = e.getButton();\n            var clickCount = e.domEvent.detail || 1;\n            if (clickCount === 1 && button === 0 && inSelection) {\n                if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return;\n                this.mousedownEvent.time = Date.now();\n                var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n                if (\"unselectable\" in eventTarget) eventTarget.unselectable = \"on\";\n                if (editor.getDragDelay()) {\n                    if (useragent.isWebKit) {\n                        this.cancelDrag = true;\n                        var mouseTarget = editor.container;\n                        mouseTarget.draggable = true;\n                    }\n                    this.setState(\"dragWait\");\n                } else {\n                    this.startDrag();\n                }\n                this.captureMouse(e, this.onMouseDrag.bind(this));\n                e.defaultPrevented = true;\n            }\n        };\n    }).call(DragdropHandler.prototype);\n\n    function calcDistance(ax, ay, bx, by) {\n        return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n    }\n\n    exports.DragdropHandler = DragdropHandler;\n});\n\nace.define(\"ace/lib/net\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var dom = acequire(\"./dom\");\n\n    exports.get = function (url, callback) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n                callback(xhr.responseText);\n            }\n        };\n        xhr.send(null);\n    };\n\n    exports.loadScript = function (path, callback) {\n        var head = dom.getDocumentHead();\n        var s = document.createElement('script');\n\n        s.src = path;\n        head.appendChild(s);\n\n        s.onload = s.onreadystatechange = function (_, isAbort) {\n            if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n                s = s.onload = s.onreadystatechange = null;\n                if (!isAbort) callback();\n            }\n        };\n    };\n    exports.qualifyURL = function (url) {\n        var a = document.createElement('a');\n        a.href = url;\n        return a.href;\n    };\n});\n\nace.define(\"ace/lib/event_emitter\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var EventEmitter = {};\n    var stopPropagation = function stopPropagation() {\n        this.propagationStopped = true;\n    };\n    var preventDefault = function preventDefault() {\n        this.defaultPrevented = true;\n    };\n\n    EventEmitter._emit = EventEmitter._dispatchEvent = function (eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler) return;\n\n        if ((typeof e === \"undefined\" ? \"undefined\" : _typeof(e)) != \"object\" || !e) e = {};\n\n        if (!e.type) e.type = eventName;\n        if (!e.stopPropagation) e.stopPropagation = stopPropagation;\n        if (!e.preventDefault) e.preventDefault = preventDefault;\n\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped) break;\n        }\n\n        if (defaultHandler && !e.defaultPrevented) return defaultHandler(e, this);\n    };\n\n    EventEmitter._signal = function (eventName, e) {\n        var listeners = (this._eventRegistry || {})[eventName];\n        if (!listeners) return;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n        }\n    };\n\n    EventEmitter.once = function (eventName, callback) {\n        var _self = this;\n        callback && this.addEventListener(eventName, function newCallback() {\n            _self.removeEventListener(eventName, newCallback);\n            callback.apply(null, arguments);\n        });\n    };\n\n    EventEmitter.setDefaultHandler = function (eventName, callback) {\n        var handlers = this._defaultHandlers;\n        if (!handlers) handlers = this._defaultHandlers = { _disabled_: {} };\n\n        if (handlers[eventName]) {\n            var old = handlers[eventName];\n            var disabled = handlers._disabled_[eventName];\n            if (!disabled) handlers._disabled_[eventName] = disabled = [];\n            disabled.push(old);\n            var i = disabled.indexOf(callback);\n            if (i != -1) disabled.splice(i, 1);\n        }\n        handlers[eventName] = callback;\n    };\n    EventEmitter.removeDefaultHandler = function (eventName, callback) {\n        var handlers = this._defaultHandlers;\n        if (!handlers) return;\n        var disabled = handlers._disabled_[eventName];\n\n        if (handlers[eventName] == callback) {\n            var old = handlers[eventName];\n            if (disabled) this.setDefaultHandler(eventName, disabled.pop());\n        } else if (disabled) {\n            var i = disabled.indexOf(callback);\n            if (i != -1) disabled.splice(i, 1);\n        }\n    };\n\n    EventEmitter.on = EventEmitter.addEventListener = function (eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners) listeners = this._eventRegistry[eventName] = [];\n\n        if (listeners.indexOf(callback) == -1) listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    };\n\n    EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function (eventName, callback) {\n        this._eventRegistry = this._eventRegistry || {};\n\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners) return;\n\n        var index = listeners.indexOf(callback);\n        if (index !== -1) listeners.splice(index, 1);\n    };\n\n    EventEmitter.removeAllListeners = function (eventName) {\n        if (this._eventRegistry) this._eventRegistry[eventName] = [];\n    };\n\n    exports.EventEmitter = EventEmitter;\n});\n\nace.define(\"ace/lib/app_config\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"no use strict\";\n\n    var oop = acequire(\"./oop\");\n    var EventEmitter = acequire(\"./event_emitter\").EventEmitter;\n\n    var optionsProvider = {\n        setOptions: function setOptions(optList) {\n            Object.keys(optList).forEach(function (key) {\n                this.setOption(key, optList[key]);\n            }, this);\n        },\n        getOptions: function getOptions(optionNames) {\n            var result = {};\n            if (!optionNames) {\n                optionNames = Object.keys(this.$options);\n            } else if (!Array.isArray(optionNames)) {\n                result = optionNames;\n                optionNames = Object.keys(result);\n            }\n            optionNames.forEach(function (key) {\n                result[key] = this.getOption(key);\n            }, this);\n            return result;\n        },\n        setOption: function setOption(name, value) {\n            if (this[\"$\" + name] === value) return;\n            var opt = this.$options[name];\n            if (!opt) {\n                return warn('misspelled option \"' + name + '\"');\n            }\n            if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n            if (!opt.handlesSet) this[\"$\" + name] = value;\n            if (opt && opt.set) opt.set.call(this, value);\n        },\n        getOption: function getOption(name) {\n            var opt = this.$options[name];\n            if (!opt) {\n                return warn('misspelled option \"' + name + '\"');\n            }\n            if (opt.forwardTo) return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n            return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n        }\n    };\n\n    function warn(message) {\n        if (typeof console != \"undefined\" && console.warn) console.warn.apply(console, arguments);\n    }\n\n    function reportError(msg, data) {\n        var e = new Error(msg);\n        e.data = data;\n        if ((typeof console === \"undefined\" ? \"undefined\" : _typeof(console)) == \"object\" && console.error) console.error(e);\n        setTimeout(function () {\n            throw e;\n        });\n    }\n\n    var AppConfig = function AppConfig() {\n        this.$defaultOptions = {};\n    };\n\n    (function () {\n        oop.implement(this, EventEmitter);\n        this.defineOptions = function (obj, path, options) {\n            if (!obj.$options) this.$defaultOptions[path] = obj.$options = {};\n\n            Object.keys(options).forEach(function (key) {\n                var opt = options[key];\n                if (typeof opt == \"string\") opt = { forwardTo: opt };\n\n                opt.name || (opt.name = key);\n                obj.$options[opt.name] = opt;\n                if (\"initialValue\" in opt) obj[\"$\" + opt.name] = opt.initialValue;\n            });\n            oop.implement(obj, optionsProvider);\n\n            return this;\n        };\n\n        this.resetOptions = function (obj) {\n            Object.keys(obj.$options).forEach(function (key) {\n                var opt = obj.$options[key];\n                if (\"value\" in opt) obj.setOption(key, opt.value);\n            });\n        };\n\n        this.setDefaultValue = function (path, name, value) {\n            var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n            if (opts[name]) {\n                if (opts.forwardTo) this.setDefaultValue(opts.forwardTo, name, value);else opts[name].value = value;\n            }\n        };\n\n        this.setDefaultValues = function (path, optionHash) {\n            Object.keys(optionHash).forEach(function (key) {\n                this.setDefaultValue(path, key, optionHash[key]);\n            }, this);\n        };\n\n        this.warn = warn;\n        this.reportError = reportError;\n    }).call(AppConfig.prototype);\n\n    exports.AppConfig = AppConfig;\n});\n\nace.define(\"ace/config\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/app_config\"], function (acequire, exports, module) {\n    \"no use strict\";\n\n    var lang = acequire(\"./lib/lang\");\n    var oop = acequire(\"./lib/oop\");\n    var net = acequire(\"./lib/net\");\n    var AppConfig = acequire(\"./lib/app_config\").AppConfig;\n\n    module.exports = exports = new AppConfig();\n\n    var global = function () {\n        return this || typeof window != \"undefined\" && window;\n    }();\n\n    var options = {\n        packaged: false,\n        workerPath: null,\n        modePath: null,\n        themePath: null,\n        basePath: \"\",\n        suffix: \".js\",\n        $moduleUrls: {}\n    };\n\n    exports.get = function (key) {\n        if (!options.hasOwnProperty(key)) throw new Error(\"Unknown config key: \" + key);\n\n        return options[key];\n    };\n\n    exports.set = function (key, value) {\n        if (!options.hasOwnProperty(key)) throw new Error(\"Unknown config key: \" + key);\n\n        options[key] = value;\n    };\n\n    exports.all = function () {\n        return lang.copyObject(options);\n    };\n    exports.moduleUrl = function (name, component) {\n        if (options.$moduleUrls[name]) return options.$moduleUrls[name];\n\n        var parts = name.split(\"/\");\n        component = component || parts[parts.length - 2] || \"\";\n        var sep = component == \"snippets\" ? \"/\" : \"-\";\n        var base = parts[parts.length - 1];\n        if (component == \"worker\" && sep == \"-\") {\n            var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n            base = base.replace(re, \"\");\n        }\n\n        if ((!base || base == component) && parts.length > 1) base = parts[parts.length - 2];\n        var path = options[component + \"Path\"];\n        if (path == null) {\n            path = options.basePath;\n        } else if (sep == \"/\") {\n            component = sep = \"\";\n        }\n        if (path && path.slice(-1) != \"/\") path += \"/\";\n        return path + component + sep + base + this.get(\"suffix\");\n    };\n\n    exports.setModuleUrl = function (name, subst) {\n        return options.$moduleUrls[name] = subst;\n    };\n\n    exports.$loading = {};\n    exports.loadModule = function (moduleName, onLoad) {\n        var module, moduleType;\n        if (Array.isArray(moduleName)) {\n            moduleType = moduleName[0];\n            moduleName = moduleName[1];\n        }\n\n        try {\n            module = acequire(moduleName);\n        } catch (e) {}\n        if (module && !exports.$loading[moduleName]) return onLoad && onLoad(module);\n\n        if (!exports.$loading[moduleName]) exports.$loading[moduleName] = [];\n\n        exports.$loading[moduleName].push(onLoad);\n\n        if (exports.$loading[moduleName].length > 1) return;\n\n        var afterLoad = function afterLoad() {\n            acequire([moduleName], function (module) {\n                exports._emit(\"load.module\", { name: moduleName, module: module });\n                var listeners = exports.$loading[moduleName];\n                exports.$loading[moduleName] = null;\n                listeners.forEach(function (onLoad) {\n                    onLoad && onLoad(module);\n                });\n            });\n        };\n\n        if (!exports.get(\"packaged\")) return afterLoad();\n        net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    };\n    init(true);function init(packaged) {\n\n        if (!global || !global.document) return;\n\n        options.packaged = packaged || acequire.packaged || module.packaged || global.define && __webpack_require__(143).packaged;\n\n        var scriptOptions = {};\n        var scriptUrl = \"\";\n        var currentScript = document.currentScript || document._currentScript; // native or polyfill\n        var currentDocument = currentScript && currentScript.ownerDocument || document;\n\n        var scripts = currentDocument.getElementsByTagName(\"script\");\n        for (var i = 0; i < scripts.length; i++) {\n            var script = scripts[i];\n\n            var src = script.src || script.getAttribute(\"src\");\n            if (!src) continue;\n\n            var attributes = script.attributes;\n            for (var j = 0, l = attributes.length; j < l; j++) {\n                var attr = attributes[j];\n                if (attr.name.indexOf(\"data-ace-\") === 0) {\n                    scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n                }\n            }\n\n            var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n            if (m) scriptUrl = m[1];\n        }\n\n        if (scriptUrl) {\n            scriptOptions.base = scriptOptions.base || scriptUrl;\n            scriptOptions.packaged = true;\n        }\n\n        scriptOptions.basePath = scriptOptions.base;\n        scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n        scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n        scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n        delete scriptOptions.base;\n\n        for (var key in scriptOptions) {\n            if (typeof scriptOptions[key] !== \"undefined\") exports.set(key, scriptOptions[key]);\n        }\n    }\n\n    exports.init = init;\n\n    function deHyphenate(str) {\n        return str.replace(/-(.)/g, function (m, m1) {\n            return m1.toUpperCase();\n        });\n    }\n});\n\nace.define(\"ace/mouse/mouse_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\", \"ace/mouse/default_handlers\", \"ace/mouse/default_gutter_handler\", \"ace/mouse/mouse_event\", \"ace/mouse/dragdrop_handler\", \"ace/config\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var event = acequire(\"../lib/event\");\n    var useragent = acequire(\"../lib/useragent\");\n    var DefaultHandlers = acequire(\"./default_handlers\").DefaultHandlers;\n    var DefaultGutterHandler = acequire(\"./default_gutter_handler\").GutterHandler;\n    var MouseEvent = acequire(\"./mouse_event\").MouseEvent;\n    var DragdropHandler = acequire(\"./dragdrop_handler\").DragdropHandler;\n    var config = acequire(\"../config\");\n\n    var MouseHandler = function MouseHandler(editor) {\n        var _self = this;\n        this.editor = editor;\n\n        new DefaultHandlers(this);\n        new DefaultGutterHandler(this);\n        new DragdropHandler(this);\n\n        var focusEditor = function focusEditor(e) {\n            var windowBlurred = !document.hasFocus || !document.hasFocus() || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n            if (windowBlurred) window.focus();\n            editor.focus();\n        };\n\n        var mouseTarget = editor.renderer.getMouseEventTarget();\n        event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n        event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n        event.addMultiMouseDownListener([mouseTarget, editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner, editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner, editor.textInput && editor.textInput.getElement()].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\");\n        event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n        event.addTouchMoveListener(editor.container, this.onTouchMove.bind(this, \"touchmove\"));\n\n        var gutterEl = editor.renderer.$gutter;\n        event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n        event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n        event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n        event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n\n        event.addListener(mouseTarget, \"mousedown\", focusEditor);\n        event.addListener(gutterEl, \"mousedown\", focusEditor);\n        if (useragent.isIE && editor.renderer.scrollBarV) {\n            event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor);\n            event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor);\n        }\n\n        editor.on(\"mousemove\", function (e) {\n            if (_self.state || _self.$dragDelay || !_self.$dragEnabled) return;\n\n            var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n            var range = editor.session.selection.getRange();\n            var renderer = editor.renderer;\n\n            if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n                renderer.setCursorStyle(\"default\");\n            } else {\n                renderer.setCursorStyle(\"\");\n            }\n        });\n    };\n\n    (function () {\n        this.onMouseEvent = function (name, e) {\n            this.editor._emit(name, new MouseEvent(e, this.editor));\n        };\n\n        this.onMouseMove = function (name, e) {\n            var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n            if (!listeners || !listeners.length) return;\n\n            this.editor._emit(name, new MouseEvent(e, this.editor));\n        };\n\n        this.onMouseWheel = function (name, e) {\n            var mouseEvent = new MouseEvent(e, this.editor);\n            mouseEvent.speed = this.$scrollSpeed * 2;\n            mouseEvent.wheelX = e.wheelX;\n            mouseEvent.wheelY = e.wheelY;\n\n            this.editor._emit(name, mouseEvent);\n        };\n\n        this.onTouchMove = function (name, e) {\n            var mouseEvent = new MouseEvent(e, this.editor);\n            mouseEvent.speed = 1; //this.$scrollSpeed * 2;\n            mouseEvent.wheelX = e.wheelX;\n            mouseEvent.wheelY = e.wheelY;\n            this.editor._emit(name, mouseEvent);\n        };\n\n        this.setState = function (state) {\n            this.state = state;\n        };\n\n        this.captureMouse = function (ev, mouseMoveHandler) {\n            this.x = ev.x;\n            this.y = ev.y;\n\n            this.isMousePressed = true;\n            var renderer = this.editor.renderer;\n            if (renderer.$keepTextAreaAtCursor) renderer.$keepTextAreaAtCursor = null;\n\n            var self = this;\n            var onMouseMove = function onMouseMove(e) {\n                if (!e) return;\n                if (useragent.isWebKit && !e.which && self.releaseMouse) return self.releaseMouse();\n\n                self.x = e.clientX;\n                self.y = e.clientY;\n                mouseMoveHandler && mouseMoveHandler(e);\n                self.mouseEvent = new MouseEvent(e, self.editor);\n                self.$mouseMoved = true;\n            };\n\n            var onCaptureEnd = function onCaptureEnd(e) {\n                clearInterval(timerId);\n                onCaptureInterval();\n                self[self.state + \"End\"] && self[self.state + \"End\"](e);\n                self.state = \"\";\n                if (renderer.$keepTextAreaAtCursor == null) {\n                    renderer.$keepTextAreaAtCursor = true;\n                    renderer.$moveTextAreaToCursor();\n                }\n                self.isMousePressed = false;\n                self.$onCaptureMouseMove = self.releaseMouse = null;\n                e && self.onMouseEvent(\"mouseup\", e);\n            };\n\n            var onCaptureInterval = function onCaptureInterval() {\n                self[self.state] && self[self.state]();\n                self.$mouseMoved = false;\n            };\n\n            if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n                return setTimeout(function () {\n                    onCaptureEnd(ev);\n                });\n            }\n\n            self.$onCaptureMouseMove = onMouseMove;\n            self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n            var timerId = setInterval(onCaptureInterval, 20);\n        };\n        this.releaseMouse = null;\n        this.cancelContextMenu = function () {\n            var stop = function (e) {\n                if (e && e.domEvent && e.domEvent.type != \"contextmenu\") return;\n                this.editor.off(\"nativecontextmenu\", stop);\n                if (e && e.domEvent) event.stopEvent(e.domEvent);\n            }.bind(this);\n            setTimeout(stop, 10);\n            this.editor.on(\"nativecontextmenu\", stop);\n        };\n    }).call(MouseHandler.prototype);\n\n    config.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n        scrollSpeed: { initialValue: 2 },\n        dragDelay: { initialValue: useragent.isMac ? 150 : 0 },\n        dragEnabled: { initialValue: true },\n        focusTimout: { initialValue: 0 },\n        tooltipFollowsMouse: { initialValue: true }\n    });\n\n    exports.MouseHandler = MouseHandler;\n});\n\nace.define(\"ace/mouse/fold_handler\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    function FoldHandler(editor) {\n\n        editor.on(\"click\", function (e) {\n            var position = e.getDocumentPosition();\n            var session = editor.session;\n            var fold = session.getFoldAt(position.row, position.column, 1);\n            if (fold) {\n                if (e.getAccelKey()) session.removeFold(fold);else session.expandFold(fold);\n\n                e.stop();\n            }\n        });\n\n        editor.on(\"gutterclick\", function (e) {\n            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n            if (gutterRegion == \"foldWidgets\") {\n                var row = e.getDocumentPosition().row;\n                var session = editor.session;\n                if (session.foldWidgets && session.foldWidgets[row]) editor.session.onFoldWidgetClick(row, e);\n                if (!editor.isFocused()) editor.focus();\n                e.stop();\n            }\n        });\n\n        editor.on(\"gutterdblclick\", function (e) {\n            var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n            if (gutterRegion == \"foldWidgets\") {\n                var row = e.getDocumentPosition().row;\n                var session = editor.session;\n                var data = session.getParentFoldRangeData(row, true);\n                var range = data.range || data.firstRange;\n\n                if (range) {\n                    row = range.start.row;\n                    var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                    if (fold) {\n                        session.removeFold(fold);\n                    } else {\n                        session.addFold(\"...\", range);\n                        editor.renderer.scrollCursorIntoView({ row: range.start.row, column: 0 });\n                    }\n                }\n                e.stop();\n            }\n        });\n    }\n\n    exports.FoldHandler = FoldHandler;\n});\n\nace.define(\"ace/keyboard/keybinding\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/event\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var keyUtil = acequire(\"../lib/keys\");\n    var event = acequire(\"../lib/event\");\n\n    var KeyBinding = function KeyBinding(editor) {\n        this.$editor = editor;\n        this.$data = { editor: editor };\n        this.$handlers = [];\n        this.setDefaultHandler(editor.commands);\n    };\n\n    (function () {\n        this.setDefaultHandler = function (kb) {\n            this.removeKeyboardHandler(this.$defaultHandler);\n            this.$defaultHandler = kb;\n            this.addKeyboardHandler(kb, 0);\n        };\n\n        this.setKeyboardHandler = function (kb) {\n            var h = this.$handlers;\n            if (h[h.length - 1] == kb) return;\n\n            while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler) {\n                this.removeKeyboardHandler(h[h.length - 1]);\n            }this.addKeyboardHandler(kb, 1);\n        };\n\n        this.addKeyboardHandler = function (kb, pos) {\n            if (!kb) return;\n            if (typeof kb == \"function\" && !kb.handleKeyboard) kb.handleKeyboard = kb;\n            var i = this.$handlers.indexOf(kb);\n            if (i != -1) this.$handlers.splice(i, 1);\n\n            if (pos == undefined) this.$handlers.push(kb);else this.$handlers.splice(pos, 0, kb);\n\n            if (i == -1 && kb.attach) kb.attach(this.$editor);\n        };\n\n        this.removeKeyboardHandler = function (kb) {\n            var i = this.$handlers.indexOf(kb);\n            if (i == -1) return false;\n            this.$handlers.splice(i, 1);\n            kb.detach && kb.detach(this.$editor);\n            return true;\n        };\n\n        this.getKeyboardHandler = function () {\n            return this.$handlers[this.$handlers.length - 1];\n        };\n\n        this.getStatusText = function () {\n            var data = this.$data;\n            var editor = data.editor;\n            return this.$handlers.map(function (h) {\n                return h.getStatusText && h.getStatusText(editor, data) || \"\";\n            }).filter(Boolean).join(\" \");\n        };\n\n        this.$callKeyboardHandlers = function (hashId, keyString, keyCode, e) {\n            var toExecute;\n            var success = false;\n            var commands = this.$editor.commands;\n\n            for (var i = this.$handlers.length; i--;) {\n                toExecute = this.$handlers[i].handleKeyboard(this.$data, hashId, keyString, keyCode, e);\n                if (!toExecute || !toExecute.command) continue;\n                if (toExecute.command == \"null\") {\n                    success = true;\n                } else {\n                    success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n                }\n                if (success && e && hashId != -1 && toExecute.passEvent != true && toExecute.command.passEvent != true) {\n                    event.stopEvent(e);\n                }\n                if (success) break;\n            }\n\n            if (!success && hashId == -1) {\n                toExecute = { command: \"insertstring\" };\n                success = commands.exec(\"insertstring\", this.$editor, keyString);\n            }\n\n            if (success && this.$editor._signal) this.$editor._signal(\"keyboardActivity\", toExecute);\n\n            return success;\n        };\n\n        this.onCommandKey = function (e, hashId, keyCode) {\n            var keyString = keyUtil.keyCodeToString(keyCode);\n            this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n        };\n\n        this.onTextInput = function (text) {\n            this.$callKeyboardHandlers(-1, text);\n        };\n    }).call(KeyBinding.prototype);\n\n    exports.KeyBinding = KeyBinding;\n});\n\nace.define(\"ace/lib/bidiutil\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var ArabicAlefBetIntervalsBegine = [\"\\u0621\", \"\\u0641\"];\n    var ArabicAlefBetIntervalsEnd = [\"\\u063A\", \"\\u064A\"];\n    var dir = 0,\n        hiLevel = 0;\n    var lastArabic = false,\n        hasUBAT_AL = false,\n        hasUBAT_B = false,\n        hasUBAT_S = false,\n        hasBlockSep = false,\n        hasSegSep = false;\n\n    var impTab_LTR = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 0x11, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 0x15, 0x15, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]];\n\n    var impTab_RTL = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 0x21, 3, 1, 1]];\n\n    var LTR = 0,\n        RTL = 1;\n\n    var L = 0;\n    var R = 1;\n    var EN = 2;\n    var AN = 3;\n    var ON = 4;\n    var B = 5;\n    var S = 6;\n    var AL = 7;\n    var WS = 8;\n    var CS = 9;\n    var ES = 10;\n    var ET = 11;\n    var NSM = 12;\n    var LRE = 13;\n    var RLE = 14;\n    var PDF = 15;\n    var LRO = 16;\n    var RLO = 17;\n    var BN = 18;\n\n    var UnicodeTBL00 = [BN, BN, BN, BN, BN, BN, BN, BN, BN, S, B, S, WS, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, B, B, B, S, WS, ON, ON, ET, ET, ET, ON, ON, ON, ON, ON, ES, CS, ES, CS, CS, EN, EN, EN, EN, EN, EN, EN, EN, EN, EN, CS, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, ON, ON, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, L, ON, ON, ON, ON, BN, BN, BN, BN, BN, BN, B, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, BN, CS, ON, ET, ET, ET, ET, ON, ON, ON, ON, L, ON, ON, BN, ON, ON, ET, ET, EN, EN, ON, L, ON, ON, ON, EN, L, ON, ON, ON, ON, ON];\n\n    var UnicodeTBL20 = [WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, WS, BN, BN, BN, L, R, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS, B, LRE, RLE, PDF, LRO, RLO, CS, ET, ET, ET, ET, ET, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, CS, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, ON, WS];\n\n    function _computeLevels(chars, levels, len, charTypes) {\n        var impTab = dir ? impTab_RTL : impTab_LTR,\n            prevState = null,\n            newClass = null,\n            newLevel = null,\n            newState = 0,\n            action = null,\n            cond = null,\n            condPos = -1,\n            i = null,\n            ix = null,\n            classes = [];\n\n        if (!charTypes) {\n            for (i = 0, charTypes = []; i < len; i++) {\n                charTypes[i] = _getCharacterType(chars[i]);\n            }\n        }\n        hiLevel = dir;\n        lastArabic = false;\n        hasUBAT_AL = false;\n        hasUBAT_B = false;\n        hasUBAT_S = false;\n        for (ix = 0; ix < len; ix++) {\n            prevState = newState;\n            classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n            newState = impTab[prevState][newClass];\n            action = newState & 0xF0;\n            newState &= 0x0F;\n            levels[ix] = newLevel = impTab[newState][5];\n            if (action > 0) {\n                if (action == 0x10) {\n                    for (i = condPos; i < ix; i++) {\n                        levels[i] = 1;\n                    }\n                    condPos = -1;\n                } else {\n                    condPos = -1;\n                }\n            }\n            cond = impTab[newState][6];\n            if (cond) {\n                if (condPos == -1) {\n                    condPos = ix;\n                }\n            } else {\n                if (condPos > -1) {\n                    for (i = condPos; i < ix; i++) {\n                        levels[i] = newLevel;\n                    }\n                    condPos = -1;\n                }\n            }\n            if (charTypes[ix] == B) {\n                levels[ix] = 0;\n            }\n            hiLevel |= newLevel;\n        }\n        if (hasUBAT_S) {\n            for (i = 0; i < len; i++) {\n                if (charTypes[i] == S) {\n                    levels[i] = dir;\n                    for (var j = i - 1; j >= 0; j--) {\n                        if (charTypes[j] == WS) {\n                            levels[j] = dir;\n                        } else {\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    function _invertLevel(lev, levels, _array) {\n        if (hiLevel < lev) {\n            return;\n        }\n        if (lev == 1 && dir == RTL && !hasUBAT_B) {\n            _array.reverse();\n            return;\n        }\n        var len = _array.length,\n            start = 0,\n            end,\n            lo,\n            hi,\n            tmp;\n        while (start < len) {\n            if (levels[start] >= lev) {\n                end = start + 1;\n                while (end < len && levels[end] >= lev) {\n                    end++;\n                }\n                for (lo = start, hi = end - 1; lo < hi; lo++, hi--) {\n                    tmp = _array[lo];\n                    _array[lo] = _array[hi];\n                    _array[hi] = tmp;\n                }\n                start = end;\n            }\n            start++;\n        }\n    }\n\n    function _getCharClass(chars, types, classes, ix) {\n        var cType = types[ix],\n            wType,\n            nType,\n            len,\n            i;\n        switch (cType) {\n            case L:\n            case R:\n                lastArabic = false;\n            case ON:\n            case AN:\n                return cType;\n            case EN:\n                return lastArabic ? AN : EN;\n            case AL:\n                lastArabic = true;\n                hasUBAT_AL = true;\n                return R;\n            case WS:\n                return ON;\n            case CS:\n                if (ix < 1 || ix + 1 >= types.length || (wType = classes[ix - 1]) != EN && wType != AN || (nType = types[ix + 1]) != EN && nType != AN) {\n                    return ON;\n                }\n                if (lastArabic) {\n                    nType = AN;\n                }\n                return nType == wType ? nType : ON;\n            case ES:\n                wType = ix > 0 ? classes[ix - 1] : B;\n                if (wType == EN && ix + 1 < types.length && types[ix + 1] == EN) {\n                    return EN;\n                }\n                return ON;\n            case ET:\n                if (ix > 0 && classes[ix - 1] == EN) {\n                    return EN;\n                }\n                if (lastArabic) {\n                    return ON;\n                }\n                i = ix + 1;\n                len = types.length;\n                while (i < len && types[i] == ET) {\n                    i++;\n                }\n                if (i < len && types[i] == EN) {\n                    return EN;\n                }\n                return ON;\n            case NSM:\n                len = types.length;\n                i = ix + 1;\n                while (i < len && types[i] == NSM) {\n                    i++;\n                }\n                if (i < len) {\n                    var c = chars[ix],\n                        rtlCandidate = c >= 0x0591 && c <= 0x08FF || c == 0xFB1E;\n\n                    wType = types[i];\n                    if (rtlCandidate && (wType == R || wType == AL)) {\n                        return R;\n                    }\n                }\n\n                if (ix < 1 || (wType = types[ix - 1]) == B) {\n                    return ON;\n                }\n                return classes[ix - 1];\n            case B:\n                lastArabic = false;\n                hasUBAT_B = true;\n                return dir;\n            case S:\n                hasUBAT_S = true;\n                return ON;\n            case LRE:\n            case RLE:\n            case LRO:\n            case RLO:\n            case PDF:\n                lastArabic = false;\n            case BN:\n                return ON;\n        }\n    }\n\n    function _getCharacterType(ch) {\n        var uc = ch.charCodeAt(0),\n            hi = uc >> 8;\n\n        if (hi == 0) {\n            return uc > 0x00BF ? L : UnicodeTBL00[uc];\n        } else if (hi == 5) {\n            return (/[\\u0591-\\u05f4]/.test(ch) ? R : L\n            );\n        } else if (hi == 6) {\n            if (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch)) return NSM;else if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch)) return AN;else if (uc == 0x066A) return ET;else if (/[\\u06f0-\\u06f9]/.test(ch)) return EN;else return AL;\n        } else if (hi == 0x20 && uc <= 0x205F) {\n            return UnicodeTBL20[uc & 0xFF];\n        } else if (hi == 0xFE) {\n            return uc >= 0xFE70 ? AL : ON;\n        }\n        return ON;\n    }\n\n    function _isArabicDiacritics(ch) {\n        return ch >= \"\\u064B\" && ch <= \"\\u0655\";\n    }\n    exports.L = L;\n    exports.R = R;\n    exports.EN = EN;\n    exports.ON_R = 3;\n    exports.AN = 4;\n    exports.R_H = 5;\n    exports.B = 6;\n\n    exports.DOT = \"\\xB7\";\n    exports.doBidiReorder = function (text, textCharTypes, isRtl) {\n        if (text.length < 2) return {};\n\n        var chars = text.split(\"\"),\n            logicalFromVisual = new Array(chars.length),\n            bidiLevels = new Array(chars.length),\n            levels = [];\n\n        dir = isRtl ? RTL : LTR;\n\n        _computeLevels(chars, levels, chars.length, textCharTypes);\n\n        for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++) {}\n\n        _invertLevel(2, levels, logicalFromVisual);\n        _invertLevel(1, levels, logicalFromVisual);\n\n        for (var i = 0; i < logicalFromVisual.length - 1; i++) {\n            //fix levels to reflect character width\n            if (textCharTypes[i] === AN) {\n                levels[i] = exports.AN;\n            } else if (levels[i] === R && (textCharTypes[i] > AL && textCharTypes[i] < LRE || textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n                levels[i] = exports.ON_R;\n            } else if (i > 0 && chars[i - 1] === \"\\u0644\" && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n                levels[i - 1] = levels[i] = exports.R_H;\n                i++;\n            }\n        }\n        if (chars[chars.length - 1] === exports.DOT) levels[chars.length - 1] = exports.B;\n\n        for (var i = 0; i < logicalFromVisual.length; i++) {\n            bidiLevels[i] = levels[logicalFromVisual[i]];\n        }\n\n        return { 'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels };\n    };\n    exports.hasBidiCharacters = function (text, textCharTypes) {\n        var ret = false;\n        for (var i = 0; i < text.length; i++) {\n            textCharTypes[i] = _getCharacterType(text.charAt(i));\n            if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL)) ret = true;\n        }\n        return ret;\n    };\n    exports.getVisualFromLogicalIdx = function (logIdx, rowMap) {\n        for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n            if (rowMap.logicalFromVisual[i] == logIdx) return i;\n        }\n        return 0;\n    };\n});\n\nace.define(\"ace/bidihandler\", [\"require\", \"exports\", \"module\", \"ace/lib/bidiutil\", \"ace/lib/lang\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var bidiUtil = acequire(\"./lib/bidiutil\");\n    var lang = acequire(\"./lib/lang\");\n    var useragent = acequire(\"./lib/useragent\");\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var BidiHandler = function BidiHandler(session) {\n        this.session = session;\n        this.bidiMap = {};\n        this.currentRow = null;\n        this.bidiUtil = bidiUtil;\n        this.charWidths = [];\n        this.EOL = \"\\xAC\";\n        this.showInvisibles = true;\n        this.isRtlDir = false;\n        this.line = \"\";\n        this.wrapIndent = 0;\n        this.isLastRow = false;\n        this.EOF = \"\\xB6\";\n        this.seenBidi = false;\n    };\n\n    (function () {\n        this.isBidiRow = function (screenRow, docRow, splitIndex) {\n            if (!this.seenBidi) return false;\n            if (screenRow !== this.currentRow) {\n                this.currentRow = screenRow;\n                this.updateRowLine(docRow, splitIndex);\n                this.updateBidiMap();\n            }\n            return this.bidiMap.bidiLevels;\n        };\n\n        this.onChange = function (delta) {\n            if (!this.seenBidi) {\n                if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                    this.seenBidi = true;\n                    this.currentRow = null;\n                }\n            } else {\n                this.currentRow = null;\n            }\n        };\n\n        this.getDocumentRow = function () {\n            var docRow = 0;\n            var rowCache = this.session.$screenRowCache;\n            if (rowCache.length) {\n                var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n                if (index >= 0) docRow = this.session.$docRowCache[index];\n            }\n\n            return docRow;\n        };\n\n        this.getSplitIndex = function () {\n            var splitIndex = 0;\n            var rowCache = this.session.$screenRowCache;\n            if (rowCache.length) {\n                var currentIndex,\n                    prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n                while (this.currentRow - splitIndex > 0) {\n                    currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                    if (currentIndex !== prevIndex) break;\n\n                    prevIndex = currentIndex;\n                    splitIndex++;\n                }\n            }\n\n            return splitIndex;\n        };\n\n        this.updateRowLine = function (docRow, splitIndex) {\n            if (docRow === undefined) docRow = this.getDocumentRow();\n\n            this.wrapIndent = 0;\n            this.isLastRow = docRow === this.session.getLength() - 1;\n            this.line = this.session.getLine(docRow);\n            if (this.session.$useWrapMode) {\n                var splits = this.session.$wrapData[docRow];\n                if (splits) {\n                    if (splitIndex === undefined) splitIndex = this.getSplitIndex();\n\n                    if (splitIndex > 0 && splits.length) {\n                        this.wrapIndent = splits.indent;\n                        this.line = splitIndex < splits.length ? this.line.substring(splits[splitIndex - 1], splits[splits.length - 1]) : this.line.substring(splits[splits.length - 1]);\n                    } else {\n                        this.line = this.line.substring(0, splits[splitIndex]);\n                    }\n                }\n            }\n            var session = this.session,\n                shift = 0,\n                size;\n            this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function (ch, i) {\n                if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                    size = ch === '\\t' ? session.getScreenTabSize(i + shift) : 2;\n                    shift += size - 1;\n                    return lang.stringRepeat(bidiUtil.DOT, size);\n                }\n                return ch;\n            });\n        };\n\n        this.updateBidiMap = function () {\n            var textCharTypes = [],\n                endOfLine = this.isLastRow ? this.EOF : this.EOL;\n            var line = this.line + (this.showInvisibles ? endOfLine : bidiUtil.DOT);\n            if (bidiUtil.hasBidiCharacters(line, textCharTypes)) {\n                this.bidiMap = bidiUtil.doBidiReorder(line, textCharTypes, this.isRtlDir);\n            } else {\n                this.bidiMap = {};\n            }\n        };\n        this.markAsDirty = function () {\n            this.currentRow = null;\n        };\n        this.updateCharacterWidths = function (fontMetrics) {\n            if (!this.seenBidi) return;\n            if (this.characterWidth === fontMetrics.$characterSize.width) return;\n\n            var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n            var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05D4\");\n\n            this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n            this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n            this.charWidths[bidiUtil.R_H] = useragent.isChrome ? bidiCharWidth : bidiCharWidth * 0.45;\n            this.charWidths[bidiUtil.B] = 0;\n\n            this.currentRow = null;\n        };\n\n        this.getShowInvisibles = function () {\n            return this.showInvisibles;\n        };\n\n        this.setShowInvisibles = function (showInvisibles) {\n            this.showInvisibles = showInvisibles;\n            this.currentRow = null;\n        };\n\n        this.setEolChar = function (eolChar) {\n            this.EOL = eolChar;\n        };\n\n        this.setTextDir = function (isRtlDir) {\n            this.isRtlDir = isRtlDir;\n        };\n        this.getPosLeft = function (col) {\n            col -= this.wrapIndent;\n            var visualIdx = bidiUtil.getVisualFromLogicalIdx(col > 0 ? col - 1 : 0, this.bidiMap),\n                levels = this.bidiMap.bidiLevels,\n                left = 0;\n\n            if (col === 0 && levels[visualIdx] % 2 !== 0) visualIdx++;\n\n            for (var i = 0; i < visualIdx; i++) {\n                left += this.charWidths[levels[i]];\n            }\n\n            if (col !== 0 && levels[visualIdx] % 2 === 0) left += this.charWidths[levels[visualIdx]];\n\n            if (this.wrapIndent) left += this.wrapIndent * this.charWidths[bidiUtil.L];\n\n            return left;\n        };\n        this.getSelections = function (startCol, endCol) {\n            var map = this.bidiMap,\n                levels = map.bidiLevels,\n                level,\n                offset = this.wrapIndent * this.charWidths[bidiUtil.L],\n                selections = [],\n                selColMin = Math.min(startCol, endCol) - this.wrapIndent,\n                selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false,\n                isSelectedPrev = false,\n                selectionStart = 0;\n\n            for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n                logIdx = map.logicalFromVisual[visIdx];\n                level = levels[visIdx];\n                isSelected = logIdx >= selColMin && logIdx < selColMax;\n                if (isSelected && !isSelectedPrev) {\n                    selectionStart = offset;\n                } else if (!isSelected && isSelectedPrev) {\n                    selections.push({ left: selectionStart, width: offset - selectionStart });\n                }\n                offset += this.charWidths[level];\n                isSelectedPrev = isSelected;\n            }\n\n            if (isSelected && visIdx === levels.length) {\n                selections.push({ left: selectionStart, width: offset - selectionStart });\n            }\n\n            return selections;\n        };\n        this.offsetToCol = function (posX) {\n            var logicalIdx = 0,\n                posX = Math.max(posX, 0),\n                offset = 0,\n                visualIdx = 0,\n                levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n            if (this.wrapIndent) {\n                posX -= this.wrapIndent * this.charWidths[bidiUtil.L];\n            }\n\n            while (posX > offset + charWidth / 2) {\n                offset += charWidth;\n                if (visualIdx === levels.length - 1) {\n                    charWidth = 0;\n                    break;\n                }\n                charWidth = this.charWidths[levels[++visualIdx]];\n            }\n\n            if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && levels[visualIdx] % 2 === 0) {\n                if (posX < offset) visualIdx--;\n                logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n            } else if (visualIdx > 0 && levels[visualIdx - 1] % 2 === 0 && levels[visualIdx] % 2 !== 0) {\n                logicalIdx = 1 + (posX > offset ? this.bidiMap.logicalFromVisual[visualIdx] : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n            } else if (this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && levels[visualIdx - 1] % 2 === 0 || !this.isRtlDir && visualIdx === 0 && levels[visualIdx] % 2 !== 0) {\n                logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n            } else {\n                if (visualIdx > 0 && levels[visualIdx - 1] % 2 !== 0 && charWidth !== 0) visualIdx--;\n                logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n            }\n\n            return logicalIdx + this.wrapIndent;\n        };\n    }).call(BidiHandler.prototype);\n\n    exports.BidiHandler = BidiHandler;\n});\n\nace.define(\"ace/range\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var comparePoints = function comparePoints(p1, p2) {\n        return p1.row - p2.row || p1.column - p2.column;\n    };\n    var Range = function Range(startRow, startColumn, endRow, endColumn) {\n        this.start = {\n            row: startRow,\n            column: startColumn\n        };\n\n        this.end = {\n            row: endRow,\n            column: endColumn\n        };\n    };\n\n    (function () {\n        this.isEqual = function (range) {\n            return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column;\n        };\n        this.toString = function () {\n            return \"Range: [\" + this.start.row + \"/\" + this.start.column + \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\";\n        };\n\n        this.contains = function (row, column) {\n            return this.compare(row, column) == 0;\n        };\n        this.compareRange = function (range) {\n            var cmp,\n                end = range.end,\n                start = range.start;\n\n            cmp = this.compare(end.row, end.column);\n            if (cmp == 1) {\n                cmp = this.compare(start.row, start.column);\n                if (cmp == 1) {\n                    return 2;\n                } else if (cmp == 0) {\n                    return 1;\n                } else {\n                    return 0;\n                }\n            } else if (cmp == -1) {\n                return -2;\n            } else {\n                cmp = this.compare(start.row, start.column);\n                if (cmp == -1) {\n                    return -1;\n                } else if (cmp == 1) {\n                    return 42;\n                } else {\n                    return 0;\n                }\n            }\n        };\n        this.comparePoint = function (p) {\n            return this.compare(p.row, p.column);\n        };\n        this.containsRange = function (range) {\n            return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n        };\n        this.intersects = function (range) {\n            var cmp = this.compareRange(range);\n            return cmp == -1 || cmp == 0 || cmp == 1;\n        };\n        this.isEnd = function (row, column) {\n            return this.end.row == row && this.end.column == column;\n        };\n        this.isStart = function (row, column) {\n            return this.start.row == row && this.start.column == column;\n        };\n        this.setStart = function (row, column) {\n            if ((typeof row === \"undefined\" ? \"undefined\" : _typeof(row)) == \"object\") {\n                this.start.column = row.column;\n                this.start.row = row.row;\n            } else {\n                this.start.row = row;\n                this.start.column = column;\n            }\n        };\n        this.setEnd = function (row, column) {\n            if ((typeof row === \"undefined\" ? \"undefined\" : _typeof(row)) == \"object\") {\n                this.end.column = row.column;\n                this.end.row = row.row;\n            } else {\n                this.end.row = row;\n                this.end.column = column;\n            }\n        };\n        this.inside = function (row, column) {\n            if (this.compare(row, column) == 0) {\n                if (this.isEnd(row, column) || this.isStart(row, column)) {\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n            return false;\n        };\n        this.insideStart = function (row, column) {\n            if (this.compare(row, column) == 0) {\n                if (this.isEnd(row, column)) {\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n            return false;\n        };\n        this.insideEnd = function (row, column) {\n            if (this.compare(row, column) == 0) {\n                if (this.isStart(row, column)) {\n                    return false;\n                } else {\n                    return true;\n                }\n            }\n            return false;\n        };\n        this.compare = function (row, column) {\n            if (!this.isMultiLine()) {\n                if (row === this.start.row) {\n                    return column < this.start.column ? -1 : column > this.end.column ? 1 : 0;\n                }\n            }\n\n            if (row < this.start.row) return -1;\n\n            if (row > this.end.row) return 1;\n\n            if (this.start.row === row) return column >= this.start.column ? 0 : -1;\n\n            if (this.end.row === row) return column <= this.end.column ? 0 : 1;\n\n            return 0;\n        };\n        this.compareStart = function (row, column) {\n            if (this.start.row == row && this.start.column == column) {\n                return -1;\n            } else {\n                return this.compare(row, column);\n            }\n        };\n        this.compareEnd = function (row, column) {\n            if (this.end.row == row && this.end.column == column) {\n                return 1;\n            } else {\n                return this.compare(row, column);\n            }\n        };\n        this.compareInside = function (row, column) {\n            if (this.end.row == row && this.end.column == column) {\n                return 1;\n            } else if (this.start.row == row && this.start.column == column) {\n                return -1;\n            } else {\n                return this.compare(row, column);\n            }\n        };\n        this.clipRows = function (firstRow, lastRow) {\n            if (this.end.row > lastRow) var end = { row: lastRow + 1, column: 0 };else if (this.end.row < firstRow) var end = { row: firstRow, column: 0 };\n\n            if (this.start.row > lastRow) var start = { row: lastRow + 1, column: 0 };else if (this.start.row < firstRow) var start = { row: firstRow, column: 0 };\n\n            return Range.fromPoints(start || this.start, end || this.end);\n        };\n        this.extend = function (row, column) {\n            var cmp = this.compare(row, column);\n\n            if (cmp == 0) return this;else if (cmp == -1) var start = { row: row, column: column };else var end = { row: row, column: column };\n\n            return Range.fromPoints(start || this.start, end || this.end);\n        };\n\n        this.isEmpty = function () {\n            return this.start.row === this.end.row && this.start.column === this.end.column;\n        };\n        this.isMultiLine = function () {\n            return this.start.row !== this.end.row;\n        };\n        this.clone = function () {\n            return Range.fromPoints(this.start, this.end);\n        };\n        this.collapseRows = function () {\n            if (this.end.column == 0) return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);else return new Range(this.start.row, 0, this.end.row, 0);\n        };\n        this.toScreenRange = function (session) {\n            var screenPosStart = session.documentToScreenPosition(this.start);\n            var screenPosEnd = session.documentToScreenPosition(this.end);\n\n            return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column);\n        };\n        this.moveBy = function (row, column) {\n            this.start.row += row;\n            this.start.column += column;\n            this.end.row += row;\n            this.end.column += column;\n        };\n    }).call(Range.prototype);\n    Range.fromPoints = function (start, end) {\n        return new Range(start.row, start.column, end.row, end.column);\n    };\n    Range.comparePoints = comparePoints;\n\n    Range.comparePoints = function (p1, p2) {\n        return p1.row - p2.row || p1.column - p2.column;\n    };\n\n    exports.Range = Range;\n});\n\nace.define(\"ace/selection\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var lang = acequire(\"./lib/lang\");\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var Range = acequire(\"./range\").Range;\n    var Selection = function Selection(session) {\n        this.session = session;\n        this.doc = session.getDocument();\n\n        this.clearSelection();\n        this.lead = this.selectionLead = this.doc.createAnchor(0, 0);\n        this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);\n\n        var self = this;\n        this.lead.on(\"change\", function (e) {\n            self._emit(\"changeCursor\");\n            if (!self.$isEmpty) self._emit(\"changeSelection\");\n            if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column) self.$desiredColumn = null;\n        });\n\n        this.selectionAnchor.on(\"change\", function () {\n            if (!self.$isEmpty) self._emit(\"changeSelection\");\n        });\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n        this.isEmpty = function () {\n            return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;\n        };\n        this.isMultiLine = function () {\n            if (this.isEmpty()) {\n                return false;\n            }\n\n            return this.getRange().isMultiLine();\n        };\n        this.getCursor = function () {\n            return this.lead.getPosition();\n        };\n        this.setSelectionAnchor = function (row, column) {\n            this.anchor.setPosition(row, column);\n\n            if (this.$isEmpty) {\n                this.$isEmpty = false;\n                this._emit(\"changeSelection\");\n            }\n        };\n        this.getSelectionAnchor = function () {\n            if (this.$isEmpty) return this.getSelectionLead();else return this.anchor.getPosition();\n        };\n        this.getSelectionLead = function () {\n            return this.lead.getPosition();\n        };\n        this.shiftSelection = function (columns) {\n            if (this.$isEmpty) {\n                this.moveCursorTo(this.lead.row, this.lead.column + columns);\n                return;\n            }\n\n            var anchor = this.getSelectionAnchor();\n            var lead = this.getSelectionLead();\n\n            var isBackwards = this.isBackwards();\n\n            if (!isBackwards || anchor.column !== 0) this.setSelectionAnchor(anchor.row, anchor.column + columns);\n\n            if (isBackwards || lead.column !== 0) {\n                this.$moveSelection(function () {\n                    this.moveCursorTo(lead.row, lead.column + columns);\n                });\n            }\n        };\n        this.isBackwards = function () {\n            var anchor = this.anchor;\n            var lead = this.lead;\n            return anchor.row > lead.row || anchor.row == lead.row && anchor.column > lead.column;\n        };\n        this.getRange = function () {\n            var anchor = this.anchor;\n            var lead = this.lead;\n\n            if (this.isEmpty()) return Range.fromPoints(lead, lead);\n\n            if (this.isBackwards()) {\n                return Range.fromPoints(lead, anchor);\n            } else {\n                return Range.fromPoints(anchor, lead);\n            }\n        };\n        this.clearSelection = function () {\n            if (!this.$isEmpty) {\n                this.$isEmpty = true;\n                this._emit(\"changeSelection\");\n            }\n        };\n        this.selectAll = function () {\n            var lastRow = this.doc.getLength() - 1;\n            this.setSelectionAnchor(0, 0);\n            this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);\n        };\n        this.setRange = this.setSelectionRange = function (range, reverse) {\n            if (reverse) {\n                this.setSelectionAnchor(range.end.row, range.end.column);\n                this.selectTo(range.start.row, range.start.column);\n            } else {\n                this.setSelectionAnchor(range.start.row, range.start.column);\n                this.selectTo(range.end.row, range.end.column);\n            }\n            if (this.getRange().isEmpty()) this.$isEmpty = true;\n            this.$desiredColumn = null;\n        };\n\n        this.$moveSelection = function (mover) {\n            var lead = this.lead;\n            if (this.$isEmpty) this.setSelectionAnchor(lead.row, lead.column);\n\n            mover.call(this);\n        };\n        this.selectTo = function (row, column) {\n            this.$moveSelection(function () {\n                this.moveCursorTo(row, column);\n            });\n        };\n        this.selectToPosition = function (pos) {\n            this.$moveSelection(function () {\n                this.moveCursorToPosition(pos);\n            });\n        };\n        this.moveTo = function (row, column) {\n            this.clearSelection();\n            this.moveCursorTo(row, column);\n        };\n        this.moveToPosition = function (pos) {\n            this.clearSelection();\n            this.moveCursorToPosition(pos);\n        };\n        this.selectUp = function () {\n            this.$moveSelection(this.moveCursorUp);\n        };\n        this.selectDown = function () {\n            this.$moveSelection(this.moveCursorDown);\n        };\n        this.selectRight = function () {\n            this.$moveSelection(this.moveCursorRight);\n        };\n        this.selectLeft = function () {\n            this.$moveSelection(this.moveCursorLeft);\n        };\n        this.selectLineStart = function () {\n            this.$moveSelection(this.moveCursorLineStart);\n        };\n        this.selectLineEnd = function () {\n            this.$moveSelection(this.moveCursorLineEnd);\n        };\n        this.selectFileEnd = function () {\n            this.$moveSelection(this.moveCursorFileEnd);\n        };\n        this.selectFileStart = function () {\n            this.$moveSelection(this.moveCursorFileStart);\n        };\n        this.selectWordRight = function () {\n            this.$moveSelection(this.moveCursorWordRight);\n        };\n        this.selectWordLeft = function () {\n            this.$moveSelection(this.moveCursorWordLeft);\n        };\n        this.getWordRange = function (row, column) {\n            if (typeof column == \"undefined\") {\n                var cursor = row || this.lead;\n                row = cursor.row;\n                column = cursor.column;\n            }\n            return this.session.getWordRange(row, column);\n        };\n        this.selectWord = function () {\n            this.setSelectionRange(this.getWordRange());\n        };\n        this.selectAWord = function () {\n            var cursor = this.getCursor();\n            var range = this.session.getAWordRange(cursor.row, cursor.column);\n            this.setSelectionRange(range);\n        };\n\n        this.getLineRange = function (row, excludeLastChar) {\n            var rowStart = typeof row == \"number\" ? row : this.lead.row;\n            var rowEnd;\n\n            var foldLine = this.session.getFoldLine(rowStart);\n            if (foldLine) {\n                rowStart = foldLine.start.row;\n                rowEnd = foldLine.end.row;\n            } else {\n                rowEnd = rowStart;\n            }\n            if (excludeLastChar === true) return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);else return new Range(rowStart, 0, rowEnd + 1, 0);\n        };\n        this.selectLine = function () {\n            this.setSelectionRange(this.getLineRange());\n        };\n        this.moveCursorUp = function () {\n            this.moveCursorBy(-1, 0);\n        };\n        this.moveCursorDown = function () {\n            this.moveCursorBy(1, 0);\n        };\n        this.wouldMoveIntoSoftTab = function (cursor, tabSize, direction) {\n            var start = cursor.column;\n            var end = cursor.column + tabSize;\n\n            if (direction < 0) {\n                start = cursor.column - tabSize;\n                end = cursor.column;\n            }\n            return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length - 1 == tabSize;\n        };\n        this.moveCursorLeft = function () {\n            var cursor = this.lead.getPosition(),\n                fold;\n\n            if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n                this.moveCursorTo(fold.start.row, fold.start.column);\n            } else if (cursor.column === 0) {\n                if (cursor.row > 0) {\n                    this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n                }\n            } else {\n                var tabSize = this.session.getTabSize();\n                if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                    this.moveCursorBy(0, -tabSize);\n                } else {\n                    this.moveCursorBy(0, -1);\n                }\n            }\n        };\n        this.moveCursorRight = function () {\n            var cursor = this.lead.getPosition(),\n                fold;\n            if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n                this.moveCursorTo(fold.end.row, fold.end.column);\n            } else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n                if (this.lead.row < this.doc.getLength() - 1) {\n                    this.moveCursorTo(this.lead.row + 1, 0);\n                }\n            } else {\n                var tabSize = this.session.getTabSize();\n                var cursor = this.lead;\n                if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                    this.moveCursorBy(0, tabSize);\n                } else {\n                    this.moveCursorBy(0, 1);\n                }\n            }\n        };\n        this.moveCursorLineStart = function () {\n            var row = this.lead.row;\n            var column = this.lead.column;\n            var screenRow = this.session.documentToScreenRow(row, column);\n            var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n            var beforeCursor = this.session.getDisplayLine(row, null, firstColumnPosition.row, firstColumnPosition.column);\n\n            var leadingSpace = beforeCursor.match(/^\\s*/);\n            if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart) firstColumnPosition.column += leadingSpace[0].length;\n            this.moveCursorToPosition(firstColumnPosition);\n        };\n        this.moveCursorLineEnd = function () {\n            var lead = this.lead;\n            var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n            if (this.lead.column == lineEnd.column) {\n                var line = this.session.getLine(lineEnd.row);\n                if (lineEnd.column == line.length) {\n                    var textEnd = line.search(/\\s+$/);\n                    if (textEnd > 0) lineEnd.column = textEnd;\n                }\n            }\n\n            this.moveCursorTo(lineEnd.row, lineEnd.column);\n        };\n        this.moveCursorFileEnd = function () {\n            var row = this.doc.getLength() - 1;\n            var column = this.doc.getLine(row).length;\n            this.moveCursorTo(row, column);\n        };\n        this.moveCursorFileStart = function () {\n            this.moveCursorTo(0, 0);\n        };\n        this.moveCursorLongWordRight = function () {\n            var row = this.lead.row;\n            var column = this.lead.column;\n            var line = this.doc.getLine(row);\n            var rightOfCursor = line.substring(column);\n\n            var match;\n            this.session.nonTokenRe.lastIndex = 0;\n            this.session.tokenRe.lastIndex = 0;\n            var fold = this.session.getFoldAt(row, column, 1);\n            if (fold) {\n                this.moveCursorTo(fold.end.row, fold.end.column);\n                return;\n            }\n            if (match = this.session.nonTokenRe.exec(rightOfCursor)) {\n                column += this.session.nonTokenRe.lastIndex;\n                this.session.nonTokenRe.lastIndex = 0;\n                rightOfCursor = line.substring(column);\n            }\n            if (column >= line.length) {\n                this.moveCursorTo(row, line.length);\n                this.moveCursorRight();\n                if (row < this.doc.getLength() - 1) this.moveCursorWordRight();\n                return;\n            }\n            if (match = this.session.tokenRe.exec(rightOfCursor)) {\n                column += this.session.tokenRe.lastIndex;\n                this.session.tokenRe.lastIndex = 0;\n            }\n\n            this.moveCursorTo(row, column);\n        };\n        this.moveCursorLongWordLeft = function () {\n            var row = this.lead.row;\n            var column = this.lead.column;\n            var fold;\n            if (fold = this.session.getFoldAt(row, column, -1)) {\n                this.moveCursorTo(fold.start.row, fold.start.column);\n                return;\n            }\n\n            var str = this.session.getFoldStringAt(row, column, -1);\n            if (str == null) {\n                str = this.doc.getLine(row).substring(0, column);\n            }\n\n            var leftOfCursor = lang.stringReverse(str);\n            var match;\n            this.session.nonTokenRe.lastIndex = 0;\n            this.session.tokenRe.lastIndex = 0;\n            if (match = this.session.nonTokenRe.exec(leftOfCursor)) {\n                column -= this.session.nonTokenRe.lastIndex;\n                leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n                this.session.nonTokenRe.lastIndex = 0;\n            }\n            if (column <= 0) {\n                this.moveCursorTo(row, 0);\n                this.moveCursorLeft();\n                if (row > 0) this.moveCursorWordLeft();\n                return;\n            }\n            if (match = this.session.tokenRe.exec(leftOfCursor)) {\n                column -= this.session.tokenRe.lastIndex;\n                this.session.tokenRe.lastIndex = 0;\n            }\n\n            this.moveCursorTo(row, column);\n        };\n\n        this.$shortWordEndIndex = function (rightOfCursor) {\n            var match,\n                index = 0,\n                ch;\n            var whitespaceRe = /\\s/;\n            var tokenRe = this.session.tokenRe;\n\n            tokenRe.lastIndex = 0;\n            if (match = this.session.tokenRe.exec(rightOfCursor)) {\n                index = this.session.tokenRe.lastIndex;\n            } else {\n                while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n                    index++;\n                }if (index < 1) {\n                    tokenRe.lastIndex = 0;\n                    while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                        tokenRe.lastIndex = 0;\n                        index++;\n                        if (whitespaceRe.test(ch)) {\n                            if (index > 2) {\n                                index--;\n                                break;\n                            } else {\n                                while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch)) {\n                                    index++;\n                                }if (index > 2) break;\n                            }\n                        }\n                    }\n                }\n            }\n            tokenRe.lastIndex = 0;\n\n            return index;\n        };\n\n        this.moveCursorShortWordRight = function () {\n            var row = this.lead.row;\n            var column = this.lead.column;\n            var line = this.doc.getLine(row);\n            var rightOfCursor = line.substring(column);\n\n            var fold = this.session.getFoldAt(row, column, 1);\n            if (fold) return this.moveCursorTo(fold.end.row, fold.end.column);\n\n            if (column == line.length) {\n                var l = this.doc.getLength();\n                do {\n                    row++;\n                    rightOfCursor = this.doc.getLine(row);\n                } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n                if (!/^\\s+/.test(rightOfCursor)) rightOfCursor = \"\";\n                column = 0;\n            }\n\n            var index = this.$shortWordEndIndex(rightOfCursor);\n\n            this.moveCursorTo(row, column + index);\n        };\n\n        this.moveCursorShortWordLeft = function () {\n            var row = this.lead.row;\n            var column = this.lead.column;\n\n            var fold;\n            if (fold = this.session.getFoldAt(row, column, -1)) return this.moveCursorTo(fold.start.row, fold.start.column);\n\n            var line = this.session.getLine(row).substring(0, column);\n            if (column === 0) {\n                do {\n                    row--;\n                    line = this.doc.getLine(row);\n                } while (row > 0 && /^\\s*$/.test(line));\n\n                column = line.length;\n                if (!/\\s+$/.test(line)) line = \"\";\n            }\n\n            var leftOfCursor = lang.stringReverse(line);\n            var index = this.$shortWordEndIndex(leftOfCursor);\n\n            return this.moveCursorTo(row, column - index);\n        };\n\n        this.moveCursorWordRight = function () {\n            if (this.session.$selectLongWords) this.moveCursorLongWordRight();else this.moveCursorShortWordRight();\n        };\n\n        this.moveCursorWordLeft = function () {\n            if (this.session.$selectLongWords) this.moveCursorLongWordLeft();else this.moveCursorShortWordLeft();\n        };\n        this.moveCursorBy = function (rows, chars) {\n            var screenPos = this.session.documentToScreenPosition(this.lead.row, this.lead.column);\n\n            var offsetX;\n\n            if (chars === 0) {\n                if (rows !== 0) {\n                    if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                        offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                        screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                    } else {\n                        offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                    }\n                }\n\n                if (this.$desiredColumn) screenPos.column = this.$desiredColumn;else this.$desiredColumn = screenPos.column;\n            }\n\n            var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n\n            if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n                if (this.session.lineWidgets && this.session.lineWidgets[docPos.row]) {\n                    if (docPos.row > 0 || rows > 0) docPos.row++;\n                }\n            }\n            this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n        };\n        this.moveCursorToPosition = function (position) {\n            this.moveCursorTo(position.row, position.column);\n        };\n        this.moveCursorTo = function (row, column, keepDesiredColumn) {\n            var fold = this.session.getFoldAt(row, column, 1);\n            if (fold) {\n                row = fold.start.row;\n                column = fold.start.column;\n            }\n\n            this.$keepDesiredColumnOnChange = true;\n            var line = this.session.getLine(row);\n            if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n                if (this.lead.row == row && this.lead.column == column + 1) column = column - 1;else column = column + 1;\n            }\n            this.lead.setPosition(row, column);\n            this.$keepDesiredColumnOnChange = false;\n\n            if (!keepDesiredColumn) this.$desiredColumn = null;\n        };\n        this.moveCursorToScreen = function (row, column, keepDesiredColumn) {\n            var pos = this.session.screenToDocumentPosition(row, column);\n            this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n        };\n        this.detach = function () {\n            this.lead.detach();\n            this.anchor.detach();\n            this.session = this.doc = null;\n        };\n\n        this.fromOrientedRange = function (range) {\n            this.setSelectionRange(range, range.cursor == range.start);\n            this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n        };\n\n        this.toOrientedRange = function (range) {\n            var r = this.getRange();\n            if (range) {\n                range.start.column = r.start.column;\n                range.start.row = r.start.row;\n                range.end.column = r.end.column;\n                range.end.row = r.end.row;\n            } else {\n                range = r;\n            }\n\n            range.cursor = this.isBackwards() ? range.start : range.end;\n            range.desiredColumn = this.$desiredColumn;\n            return range;\n        };\n        this.getRangeOfMovements = function (func) {\n            var start = this.getCursor();\n            try {\n                func(this);\n                var end = this.getCursor();\n                return Range.fromPoints(start, end);\n            } catch (e) {\n                return Range.fromPoints(start, start);\n            } finally {\n                this.moveCursorToPosition(start);\n            }\n        };\n\n        this.toJSON = function () {\n            if (this.rangeCount) {\n                var data = this.ranges.map(function (r) {\n                    var r1 = r.clone();\n                    r1.isBackwards = r.cursor == r.start;\n                    return r1;\n                });\n            } else {\n                var data = this.getRange();\n                data.isBackwards = this.isBackwards();\n            }\n            return data;\n        };\n\n        this.fromJSON = function (data) {\n            if (data.start == undefined) {\n                if (this.rangeList) {\n                    this.toSingleRange(data[0]);\n                    for (var i = data.length; i--;) {\n                        var r = Range.fromPoints(data[i].start, data[i].end);\n                        if (data[i].isBackwards) r.cursor = r.start;\n                        this.addRange(r, true);\n                    }\n                    return;\n                } else data = data[0];\n            }\n            if (this.rangeList) this.toSingleRange(data);\n            this.setSelectionRange(data, data.isBackwards);\n        };\n\n        this.isEqual = function (data) {\n            if ((data.length || this.rangeCount) && data.length != this.rangeCount) return false;\n            if (!data.length || !this.ranges) return this.getRange().isEqual(data);\n\n            for (var i = this.ranges.length; i--;) {\n                if (!this.ranges[i].isEqual(data[i])) return false;\n            }\n            return true;\n        };\n    }).call(Selection.prototype);\n\n    exports.Selection = Selection;\n});\n\nace.define(\"ace/tokenizer\", [\"require\", \"exports\", \"module\", \"ace/config\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var config = acequire(\"./config\");\n    var MAX_TOKEN_COUNT = 2000;\n    var Tokenizer = function Tokenizer(rules) {\n        this.states = rules;\n\n        this.regExps = {};\n        this.matchMappings = {};\n        for (var key in this.states) {\n            var state = this.states[key];\n            var ruleRegExps = [];\n            var matchTotal = 0;\n            var mapping = this.matchMappings[key] = { defaultToken: \"text\" };\n            var flag = \"g\";\n\n            var splitterRurles = [];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.defaultToken) mapping.defaultToken = rule.defaultToken;\n                if (rule.caseInsensitive) flag = \"gi\";\n                if (rule.regex == null) continue;\n\n                if (rule.regex instanceof RegExp) rule.regex = rule.regex.toString().slice(1, -1);\n                var adjustedregex = rule.regex;\n                var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n                if (Array.isArray(rule.token)) {\n                    if (rule.token.length == 1 || matchcount == 1) {\n                        rule.token = rule.token[0];\n                    } else if (matchcount - 1 != rule.token.length) {\n                        this.reportError(\"number of classes and regexp groups doesn't match\", {\n                            rule: rule,\n                            groupCount: matchcount - 1\n                        });\n                        rule.token = rule.token[0];\n                    } else {\n                        rule.tokenArray = rule.token;\n                        rule.token = null;\n                        rule.onMatch = this.$arrayTokens;\n                    }\n                } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                    if (matchcount > 1) rule.onMatch = this.$applyToken;else rule.onMatch = rule.token;\n                }\n\n                if (matchcount > 1) {\n                    if (/\\\\\\d/.test(rule.regex)) {\n                        adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function (match, digit) {\n                            return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                        });\n                    } else {\n                        matchcount = 1;\n                        adjustedregex = this.removeCapturingGroups(rule.regex);\n                    }\n                    if (!rule.splitRegex && typeof rule.token != \"string\") splitterRurles.push(rule); // flag will be known only at the very end\n                }\n\n                mapping[matchTotal] = i;\n                matchTotal += matchcount;\n\n                ruleRegExps.push(adjustedregex);\n                if (!rule.onMatch) rule.onMatch = null;\n            }\n\n            if (!ruleRegExps.length) {\n                mapping[0] = 0;\n                ruleRegExps.push(\"$\");\n            }\n\n            splitterRurles.forEach(function (rule) {\n                rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n            }, this);\n\n            this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n        }\n    };\n\n    (function () {\n        this.$setMaxTokenCount = function (m) {\n            MAX_TOKEN_COUNT = m | 0;\n        };\n\n        this.$applyToken = function (str) {\n            var values = this.splitRegex.exec(str).slice(1);\n            var types = this.token.apply(this, values);\n            if (typeof types === \"string\") return [{ type: types, value: str }];\n\n            var tokens = [];\n            for (var i = 0, l = types.length; i < l; i++) {\n                if (values[i]) tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n            }\n            return tokens;\n        };\n\n        this.$arrayTokens = function (str) {\n            if (!str) return [];\n            var values = this.splitRegex.exec(str);\n            if (!values) return \"text\";\n            var tokens = [];\n            var types = this.tokenArray;\n            for (var i = 0, l = types.length; i < l; i++) {\n                if (values[i + 1]) tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n            }\n            return tokens;\n        };\n\n        this.removeCapturingGroups = function (src) {\n            var r = src.replace(/\\[(?:\\\\.|[^\\]])*?\\]|\\\\.|\\(\\?[:=!]|(\\()/g, function (x, y) {\n                return y ? \"(?:\" : x;\n            });\n            return r;\n        };\n\n        this.createSplitterRegexp = function (src, flag) {\n            if (src.indexOf(\"(?=\") != -1) {\n                var stack = 0;\n                var inChClass = false;\n                var lastCapture = {};\n                src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function (m, esc, parenOpen, parenClose, square, index) {\n                    if (inChClass) {\n                        inChClass = square != \"]\";\n                    } else if (square) {\n                        inChClass = true;\n                    } else if (parenClose) {\n                        if (stack == lastCapture.stack) {\n                            lastCapture.end = index + 1;\n                            lastCapture.stack = -1;\n                        }\n                        stack--;\n                    } else if (parenOpen) {\n                        stack++;\n                        if (parenOpen.length != 1) {\n                            lastCapture.stack = stack;\n                            lastCapture.start = index;\n                        }\n                    }\n                    return m;\n                });\n\n                if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end))) src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n            }\n            if (src.charAt(0) != \"^\") src = \"^\" + src;\n            if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n\n            return new RegExp(src, (flag || \"\").replace(\"g\", \"\"));\n        };\n        this.getLineTokens = function (line, startState) {\n            if (startState && typeof startState != \"string\") {\n                var stack = startState.slice(0);\n                startState = stack[0];\n                if (startState === \"#tmp\") {\n                    stack.shift();\n                    startState = stack.shift();\n                }\n            } else var stack = [];\n\n            var currentState = startState || \"start\";\n            var state = this.states[currentState];\n            if (!state) {\n                currentState = \"start\";\n                state = this.states[currentState];\n            }\n            var mapping = this.matchMappings[currentState];\n            var re = this.regExps[currentState];\n            re.lastIndex = 0;\n\n            var match,\n                tokens = [];\n            var lastIndex = 0;\n            var matchAttempts = 0;\n\n            var token = { type: null, value: \"\" };\n\n            while (match = re.exec(line)) {\n                var type = mapping.defaultToken;\n                var rule = null;\n                var value = match[0];\n                var index = re.lastIndex;\n\n                if (index - value.length > lastIndex) {\n                    var skipped = line.substring(lastIndex, index - value.length);\n                    if (token.type == type) {\n                        token.value += skipped;\n                    } else {\n                        if (token.type) tokens.push(token);\n                        token = { type: type, value: skipped };\n                    }\n                }\n\n                for (var i = 0; i < match.length - 2; i++) {\n                    if (match[i + 1] === undefined) continue;\n\n                    rule = state[mapping[i]];\n\n                    if (rule.onMatch) type = rule.onMatch(value, currentState, stack, line);else type = rule.token;\n\n                    if (rule.next) {\n                        if (typeof rule.next == \"string\") {\n                            currentState = rule.next;\n                        } else {\n                            currentState = rule.next(currentState, stack);\n                        }\n\n                        state = this.states[currentState];\n                        if (!state) {\n                            this.reportError(\"state doesn't exist\", currentState);\n                            currentState = \"start\";\n                            state = this.states[currentState];\n                        }\n                        mapping = this.matchMappings[currentState];\n                        lastIndex = index;\n                        re = this.regExps[currentState];\n                        re.lastIndex = index;\n                    }\n                    if (rule.consumeLineEnd) lastIndex = index;\n                    break;\n                }\n\n                if (value) {\n                    if (typeof type === \"string\") {\n                        if ((!rule || rule.merge !== false) && token.type === type) {\n                            token.value += value;\n                        } else {\n                            if (token.type) tokens.push(token);\n                            token = { type: type, value: value };\n                        }\n                    } else if (type) {\n                        if (token.type) tokens.push(token);\n                        token = { type: null, value: \"\" };\n                        for (var i = 0; i < type.length; i++) {\n                            tokens.push(type[i]);\n                        }\n                    }\n                }\n\n                if (lastIndex == line.length) break;\n\n                lastIndex = index;\n\n                if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                    if (matchAttempts > 2 * line.length) {\n                        this.reportError(\"infinite loop with in ace tokenizer\", {\n                            startState: startState,\n                            line: line\n                        });\n                    }\n                    while (lastIndex < line.length) {\n                        if (token.type) tokens.push(token);\n                        token = {\n                            value: line.substring(lastIndex, lastIndex += 2000),\n                            type: \"overflow\"\n                        };\n                    }\n                    currentState = \"start\";\n                    stack = [];\n                    break;\n                }\n            }\n\n            if (token.type) tokens.push(token);\n\n            if (stack.length > 1) {\n                if (stack[0] !== currentState) stack.unshift(\"#tmp\", currentState);\n            }\n            return {\n                tokens: tokens,\n                state: stack.length ? stack : currentState\n            };\n        };\n\n        this.reportError = config.reportError;\n    }).call(Tokenizer.prototype);\n\n    exports.Tokenizer = Tokenizer;\n});\n\nace.define(\"ace/mode/text_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var lang = acequire(\"../lib/lang\");\n\n    var TextHighlightRules = function TextHighlightRules() {\n\n        this.$rules = {\n            \"start\": [{\n                token: \"empty_line\",\n                regex: '^$'\n            }, {\n                defaultToken: \"text\"\n            }]\n        };\n    };\n\n    (function () {\n\n        this.addRules = function (rules, prefix) {\n            if (!prefix) {\n                for (var key in rules) {\n                    this.$rules[key] = rules[key];\n                }return;\n            }\n            for (var key in rules) {\n                var state = rules[key];\n                for (var i = 0; i < state.length; i++) {\n                    var rule = state[i];\n                    if (rule.next || rule.onMatch) {\n                        if (typeof rule.next == \"string\") {\n                            if (rule.next.indexOf(prefix) !== 0) rule.next = prefix + rule.next;\n                        }\n                        if (rule.nextState && rule.nextState.indexOf(prefix) !== 0) rule.nextState = prefix + rule.nextState;\n                    }\n                }\n                this.$rules[prefix + key] = state;\n            }\n        };\n\n        this.getRules = function () {\n            return this.$rules;\n        };\n\n        this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n            var embedRules = typeof HighlightRules == \"function\" ? new HighlightRules().getRules() : HighlightRules;\n            if (states) {\n                for (var i = 0; i < states.length; i++) {\n                    states[i] = prefix + states[i];\n                }\n            } else {\n                states = [];\n                for (var key in embedRules) {\n                    states.push(prefix + key);\n                }\n            }\n\n            this.addRules(embedRules, prefix);\n\n            if (escapeRules) {\n                var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n                for (var i = 0; i < states.length; i++) {\n                    addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n                }\n            }\n\n            if (!this.$embeds) this.$embeds = [];\n            this.$embeds.push(prefix);\n        };\n\n        this.getEmbeds = function () {\n            return this.$embeds;\n        };\n\n        var pushState = function pushState(currentState, stack) {\n            if (currentState != \"start\" || stack.length) stack.unshift(this.nextState, currentState);\n            return this.nextState;\n        };\n        var popState = function popState(currentState, stack) {\n            stack.shift();\n            return stack.shift() || \"start\";\n        };\n\n        this.normalizeRules = function () {\n            var id = 0;\n            var rules = this.$rules;\n            function processState(key) {\n                var state = rules[key];\n                state.processed = true;\n                for (var i = 0; i < state.length; i++) {\n                    var rule = state[i];\n                    var toInsert = null;\n                    if (Array.isArray(rule)) {\n                        toInsert = rule;\n                        rule = {};\n                    }\n                    if (!rule.regex && rule.start) {\n                        rule.regex = rule.start;\n                        if (!rule.next) rule.next = [];\n                        rule.next.push({\n                            defaultToken: rule.token\n                        }, {\n                            token: rule.token + \".end\",\n                            regex: rule.end || rule.start,\n                            next: \"pop\"\n                        });\n                        rule.token = rule.token + \".start\";\n                        rule.push = true;\n                    }\n                    var next = rule.next || rule.push;\n                    if (next && Array.isArray(next)) {\n                        var stateName = rule.stateName;\n                        if (!stateName) {\n                            stateName = rule.token;\n                            if (typeof stateName != \"string\") stateName = stateName[0] || \"\";\n                            if (rules[stateName]) stateName += id++;\n                        }\n                        rules[stateName] = next;\n                        rule.next = stateName;\n                        processState(stateName);\n                    } else if (next == \"pop\") {\n                        rule.next = popState;\n                    }\n\n                    if (rule.push) {\n                        rule.nextState = rule.next || rule.push;\n                        rule.next = pushState;\n                        delete rule.push;\n                    }\n\n                    if (rule.rules) {\n                        for (var r in rule.rules) {\n                            if (rules[r]) {\n                                if (rules[r].push) rules[r].push.apply(rules[r], rule.rules[r]);\n                            } else {\n                                rules[r] = rule.rules[r];\n                            }\n                        }\n                    }\n                    var includeName = typeof rule == \"string\" ? rule : rule.include;\n                    if (includeName) {\n                        if (Array.isArray(includeName)) toInsert = includeName.map(function (x) {\n                            return rules[x];\n                        });else toInsert = rules[includeName];\n                    }\n\n                    if (toInsert) {\n                        var args = [i, 1].concat(toInsert);\n                        if (rule.noEscape) args = args.filter(function (x) {\n                            return !x.next;\n                        });\n                        state.splice.apply(state, args);\n                        i--;\n                    }\n\n                    if (rule.keywordMap) {\n                        rule.token = this.createKeywordMapper(rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive);\n                        delete rule.defaultToken;\n                    }\n                }\n            }\n            Object.keys(rules).forEach(processState, this);\n        };\n\n        this.createKeywordMapper = function (map, defaultToken, ignoreCase, splitChar) {\n            var keywords = Object.create(null);\n            Object.keys(map).forEach(function (className) {\n                var a = map[className];\n                if (ignoreCase) a = a.toLowerCase();\n                var list = a.split(splitChar || \"|\");\n                for (var i = list.length; i--;) {\n                    keywords[list[i]] = className;\n                }\n            });\n            if (Object.getPrototypeOf(keywords)) {\n                keywords.__proto__ = null;\n            }\n            this.$keywordList = Object.keys(keywords);\n            map = null;\n            return ignoreCase ? function (value) {\n                return keywords[value.toLowerCase()] || defaultToken;\n            } : function (value) {\n                return keywords[value] || defaultToken;\n            };\n        };\n\n        this.getKeywords = function () {\n            return this.$keywords;\n        };\n    }).call(TextHighlightRules.prototype);\n\n    exports.TextHighlightRules = TextHighlightRules;\n});\n\nace.define(\"ace/mode/behaviour\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Behaviour = function Behaviour() {\n        this.$behaviours = {};\n    };\n\n    (function () {\n\n        this.add = function (name, action, callback) {\n            switch (undefined) {\n                case this.$behaviours:\n                    this.$behaviours = {};\n                case this.$behaviours[name]:\n                    this.$behaviours[name] = {};\n            }\n            this.$behaviours[name][action] = callback;\n        };\n\n        this.addBehaviours = function (behaviours) {\n            for (var key in behaviours) {\n                for (var action in behaviours[key]) {\n                    this.add(key, action, behaviours[key][action]);\n                }\n            }\n        };\n\n        this.remove = function (name) {\n            if (this.$behaviours && this.$behaviours[name]) {\n                delete this.$behaviours[name];\n            }\n        };\n\n        this.inherit = function (mode, filter) {\n            if (typeof mode === \"function\") {\n                var behaviours = new mode().getBehaviours(filter);\n            } else {\n                var behaviours = mode.getBehaviours(filter);\n            }\n            this.addBehaviours(behaviours);\n        };\n\n        this.getBehaviours = function (filter) {\n            if (!filter) {\n                return this.$behaviours;\n            } else {\n                var ret = {};\n                for (var i = 0; i < filter.length; i++) {\n                    if (this.$behaviours[filter[i]]) {\n                        ret[filter[i]] = this.$behaviours[filter[i]];\n                    }\n                }\n                return ret;\n            }\n        };\n    }).call(Behaviour.prototype);\n\n    exports.Behaviour = Behaviour;\n});\n\nace.define(\"ace/token_iterator\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"./range\").Range;\n    var TokenIterator = function TokenIterator(session, initialRow, initialColumn) {\n        this.$session = session;\n        this.$row = initialRow;\n        this.$rowTokens = session.getTokens(initialRow);\n\n        var token = session.getTokenAt(initialRow, initialColumn);\n        this.$tokenIndex = token ? token.index : -1;\n    };\n\n    (function () {\n        this.stepBackward = function () {\n            this.$tokenIndex -= 1;\n\n            while (this.$tokenIndex < 0) {\n                this.$row -= 1;\n                if (this.$row < 0) {\n                    this.$row = 0;\n                    return null;\n                }\n\n                this.$rowTokens = this.$session.getTokens(this.$row);\n                this.$tokenIndex = this.$rowTokens.length - 1;\n            }\n\n            return this.$rowTokens[this.$tokenIndex];\n        };\n        this.stepForward = function () {\n            this.$tokenIndex += 1;\n            var rowCount;\n            while (this.$tokenIndex >= this.$rowTokens.length) {\n                this.$row += 1;\n                if (!rowCount) rowCount = this.$session.getLength();\n                if (this.$row >= rowCount) {\n                    this.$row = rowCount - 1;\n                    return null;\n                }\n\n                this.$rowTokens = this.$session.getTokens(this.$row);\n                this.$tokenIndex = 0;\n            }\n\n            return this.$rowTokens[this.$tokenIndex];\n        };\n        this.getCurrentToken = function () {\n            return this.$rowTokens[this.$tokenIndex];\n        };\n        this.getCurrentTokenRow = function () {\n            return this.$row;\n        };\n        this.getCurrentTokenColumn = function () {\n            var rowTokens = this.$rowTokens;\n            var tokenIndex = this.$tokenIndex;\n            var column = rowTokens[tokenIndex].start;\n            if (column !== undefined) return column;\n\n            column = 0;\n            while (tokenIndex > 0) {\n                tokenIndex -= 1;\n                column += rowTokens[tokenIndex].value.length;\n            }\n\n            return column;\n        };\n        this.getCurrentTokenPosition = function () {\n            return { row: this.$row, column: this.getCurrentTokenColumn() };\n        };\n        this.getCurrentTokenRange = function () {\n            var token = this.$rowTokens[this.$tokenIndex];\n            var column = this.getCurrentTokenColumn();\n            return new Range(this.$row, column, this.$row, column + token.value.length);\n        };\n    }).call(TokenIterator.prototype);\n\n    exports.TokenIterator = TokenIterator;\n});\n\nace.define(\"ace/mode/behaviour/cstyle\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/behaviour\", \"ace/token_iterator\", \"ace/lib/lang\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"../../lib/oop\");\n    var Behaviour = acequire(\"../behaviour\").Behaviour;\n    var TokenIterator = acequire(\"../../token_iterator\").TokenIterator;\n    var lang = acequire(\"../../lib/lang\");\n\n    var SAFE_INSERT_IN_TOKENS = [\"text\", \"paren.rparen\", \"punctuation.operator\"];\n    var SAFE_INSERT_BEFORE_TOKENS = [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n\n    var context;\n    var contextCache = {};\n    var defaultQuotes = { '\"': '\"', \"'\": \"'\" };\n\n    var initContext = function initContext(editor) {\n        var id = -1;\n        if (editor.multiSelect) {\n            id = editor.selection.index;\n            if (contextCache.rangeCount != editor.multiSelect.rangeCount) contextCache = { rangeCount: editor.multiSelect.rangeCount };\n        }\n        if (contextCache[id]) return context = contextCache[id];\n        context = contextCache[id] = {\n            autoInsertedBrackets: 0,\n            autoInsertedRow: -1,\n            autoInsertedLineEnd: \"\",\n            maybeInsertedBrackets: 0,\n            maybeInsertedRow: -1,\n            maybeInsertedLineStart: \"\",\n            maybeInsertedLineEnd: \"\"\n        };\n    };\n\n    var getWrapped = function getWrapped(selection, selected, opening, closing) {\n        var rowDiff = selection.end.row - selection.start.row;\n        return {\n            text: opening + selected + closing,\n            selection: [0, selection.start.column + 1, rowDiff, selection.end.column + (rowDiff ? 0 : 1)]\n        };\n    };\n\n    var CstyleBehaviour = function CstyleBehaviour(options) {\n        this.add(\"braces\", \"insertion\", function (state, action, editor, session, text) {\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            if (text == '{') {\n                initContext(editor);\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n                if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                    return getWrapped(selection, selected, '{', '}');\n                } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                    if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                        CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                        return {\n                            text: '{}',\n                            selection: [1, 1]\n                        };\n                    } else {\n                        CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                        return {\n                            text: '{',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            } else if (text == '}') {\n                initContext(editor);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar == '}') {\n                    var matching = session.$findOpeningBracket('}', { column: cursor.column + 1, row: cursor.row });\n                    if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                        CstyleBehaviour.popAutoInsertedClosing();\n                        return {\n                            text: '',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            } else if (text == \"\\n\" || text == \"\\r\\n\") {\n                initContext(editor);\n                var closing = \"\";\n                if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                    closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                    CstyleBehaviour.clearMaybeInsertedClosing();\n                }\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar === '}') {\n                    var openBracePos = session.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 }, '}');\n                    if (!openBracePos) return null;\n                    var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n                } else if (closing) {\n                    var next_indent = this.$getIndent(line);\n                } else {\n                    CstyleBehaviour.clearMaybeInsertedClosing();\n                    return;\n                }\n                var indent = next_indent + session.getTabString();\n\n                return {\n                    text: '\\n' + indent + '\\n' + next_indent + closing,\n                    selection: [1, indent.length, 1, indent.length]\n                };\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n        });\n\n        this.add(\"braces\", \"deletion\", function (state, action, editor, session, range) {\n            var selected = session.doc.getTextRange(range);\n            if (!range.isMultiLine() && selected == '{') {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.end.column, range.end.column + 1);\n                if (rightChar == '}') {\n                    range.end.column++;\n                    return range;\n                } else {\n                    context.maybeInsertedBrackets--;\n                }\n            }\n        });\n\n        this.add(\"parens\", \"insertion\", function (state, action, editor, session, text) {\n            if (text == '(') {\n                initContext(editor);\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n                if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                    return getWrapped(selection, selected, '(', ')');\n                } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                    return {\n                        text: '()',\n                        selection: [1, 1]\n                    };\n                }\n            } else if (text == ')') {\n                initContext(editor);\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar == ')') {\n                    var matching = session.$findOpeningBracket(')', { column: cursor.column + 1, row: cursor.row });\n                    if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                        CstyleBehaviour.popAutoInsertedClosing();\n                        return {\n                            text: '',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            }\n        });\n\n        this.add(\"parens\", \"deletion\", function (state, action, editor, session, range) {\n            var selected = session.doc.getTextRange(range);\n            if (!range.isMultiLine() && selected == '(') {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n                if (rightChar == ')') {\n                    range.end.column++;\n                    return range;\n                }\n            }\n        });\n\n        this.add(\"brackets\", \"insertion\", function (state, action, editor, session, text) {\n            if (text == '[') {\n                initContext(editor);\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n                if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                    return getWrapped(selection, selected, '[', ']');\n                } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                    return {\n                        text: '[]',\n                        selection: [1, 1]\n                    };\n                }\n            } else if (text == ']') {\n                initContext(editor);\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                if (rightChar == ']') {\n                    var matching = session.$findOpeningBracket(']', { column: cursor.column + 1, row: cursor.row });\n                    if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                        CstyleBehaviour.popAutoInsertedClosing();\n                        return {\n                            text: '',\n                            selection: [1, 1]\n                        };\n                    }\n                }\n            }\n        });\n\n        this.add(\"brackets\", \"deletion\", function (state, action, editor, session, range) {\n            var selected = session.doc.getTextRange(range);\n            if (!range.isMultiLine() && selected == '[') {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n                if (rightChar == ']') {\n                    range.end.column++;\n                    return range;\n                }\n            }\n        });\n\n        this.add(\"string_dquotes\", \"insertion\", function (state, action, editor, session, text) {\n            var quotes = session.$mode.$quotes || defaultQuotes;\n            if (text.length == 1 && quotes[text]) {\n                if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) return;\n                initContext(editor);\n                var quote = text;\n                var selection = editor.getSelectionRange();\n                var selected = session.doc.getTextRange(selection);\n                if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                    return getWrapped(selection, selected, quote, quote);\n                } else if (!selected) {\n                    var cursor = editor.getCursorPosition();\n                    var line = session.doc.getLine(cursor.row);\n                    var leftChar = line.substring(cursor.column - 1, cursor.column);\n                    var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n                    var token = session.getTokenAt(cursor.row, cursor.column);\n                    var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                    if (leftChar == \"\\\\\" && token && /escape/.test(token.type)) return null;\n\n                    var stringBefore = token && /string|escape/.test(token.type);\n                    var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n\n                    var pair;\n                    if (rightChar == quote) {\n                        pair = stringBefore !== stringAfter;\n                        if (pair && /string\\.end/.test(rightToken.type)) pair = false;\n                    } else {\n                        if (stringBefore && !stringAfter) return null; // wrap string with different quote\n                        if (stringBefore && stringAfter) return null; // do not pair quotes inside strings\n                        var wordRe = session.$mode.tokenRe;\n                        wordRe.lastIndex = 0;\n                        var isWordBefore = wordRe.test(leftChar);\n                        wordRe.lastIndex = 0;\n                        var isWordAfter = wordRe.test(leftChar);\n                        if (isWordBefore || isWordAfter) return null; // before or after alphanumeric\n                        if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar)) return null; // there is rightChar and it isn't closing\n                        pair = true;\n                    }\n                    return {\n                        text: pair ? quote + quote : \"\",\n                        selection: [1, 1]\n                    };\n                }\n            }\n        });\n\n        this.add(\"string_dquotes\", \"deletion\", function (state, action, editor, session, range) {\n            var selected = session.doc.getTextRange(range);\n            if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n                initContext(editor);\n                var line = session.doc.getLine(range.start.row);\n                var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n                if (rightChar == selected) {\n                    range.end.column++;\n                    return range;\n                }\n            }\n        });\n    };\n\n    CstyleBehaviour.isSaneInsertion = function (editor, session) {\n        var cursor = editor.getCursorPosition();\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n            var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n            if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) return false;\n        }\n        iterator.stepForward();\n        return iterator.getCurrentTokenRow() !== cursor.row || this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n    };\n\n    CstyleBehaviour.$matchTokenType = function (token, types) {\n        return types.indexOf(token.type || token) > -1;\n    };\n\n    CstyleBehaviour.recordAutoInsert = function (editor, session, bracket) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0])) context.autoInsertedBrackets = 0;\n        context.autoInsertedRow = cursor.row;\n        context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n        context.autoInsertedBrackets++;\n    };\n\n    CstyleBehaviour.recordMaybeInsert = function (editor, session, bracket) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (!this.isMaybeInsertedClosing(cursor, line)) context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = cursor.row;\n        context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n        context.maybeInsertedLineEnd = line.substr(cursor.column);\n        context.maybeInsertedBrackets++;\n    };\n\n    CstyleBehaviour.isAutoInsertedClosing = function (cursor, line, bracket) {\n        return context.autoInsertedBrackets > 0 && cursor.row === context.autoInsertedRow && bracket === context.autoInsertedLineEnd[0] && line.substr(cursor.column) === context.autoInsertedLineEnd;\n    };\n\n    CstyleBehaviour.isMaybeInsertedClosing = function (cursor, line) {\n        return context.maybeInsertedBrackets > 0 && cursor.row === context.maybeInsertedRow && line.substr(cursor.column) === context.maybeInsertedLineEnd && line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n    };\n\n    CstyleBehaviour.popAutoInsertedClosing = function () {\n        context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n        context.autoInsertedBrackets--;\n    };\n\n    CstyleBehaviour.clearMaybeInsertedClosing = function () {\n        if (context) {\n            context.maybeInsertedBrackets = 0;\n            context.maybeInsertedRow = -1;\n        }\n    };\n\n    oop.inherits(CstyleBehaviour, Behaviour);\n\n    exports.CstyleBehaviour = CstyleBehaviour;\n});\n\nace.define(\"ace/unicode\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    exports.packages = {};\n\n    addUnicodePackage({\n        L: \"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n        Ll: \"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A\",\n        Lu: \"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A\",\n        Lt: \"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC\",\n        Lm: \"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F\",\n        Lo: \"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n        M: \"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26\",\n        Mn: \"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26\",\n        Mc: \"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC\",\n        Me: \"0488048906DE20DD-20E020E2-20E4A670-A672\",\n        N: \"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n        Nd: \"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n        Nl: \"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF\",\n        No: \"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835\",\n        P: \"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65\",\n        Pd: \"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D\",\n        Ps: \"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62\",\n        Pe: \"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63\",\n        Pi: \"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20\",\n        Pf: \"00BB2019201D203A2E032E052E0A2E0D2E1D2E21\",\n        Pc: \"005F203F20402054FE33FE34FE4D-FE4FFF3F\",\n        Po: \"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65\",\n        S: \"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD\",\n        Sm: \"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC\",\n        Sc: \"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6\",\n        Sk: \"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3\",\n        So: \"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD\",\n        Z: \"002000A01680180E2000-200A20282029202F205F3000\",\n        Zs: \"002000A01680180E2000-200A202F205F3000\",\n        Zl: \"2028\",\n        Zp: \"2029\",\n        C: \"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF\",\n        Cc: \"0000-001F007F-009F\",\n        Cf: \"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB\",\n        Co: \"E000-F8FF\",\n        Cs: \"D800-DFFF\",\n        Cn: \"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF\"\n    });\n\n    function addUnicodePackage(pack) {\n        var codePoint = /\\w{4}/g;\n        for (var name in pack) {\n            exports.packages[name] = pack[name].replace(codePoint, \"\\\\u$&\");\n        }\n    }\n});\n\nace.define(\"ace/mode/text\", [\"require\", \"exports\", \"module\", \"ace/tokenizer\", \"ace/mode/text_highlight_rules\", \"ace/mode/behaviour/cstyle\", \"ace/unicode\", \"ace/lib/lang\", \"ace/token_iterator\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Tokenizer = acequire(\"../tokenizer\").Tokenizer;\n    var TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n    var CstyleBehaviour = acequire(\"./behaviour/cstyle\").CstyleBehaviour;\n    var unicode = acequire(\"../unicode\");\n    var lang = acequire(\"../lib/lang\");\n    var TokenIterator = acequire(\"../token_iterator\").TokenIterator;\n    var Range = acequire(\"../range\").Range;\n\n    var Mode = function Mode() {\n        this.HighlightRules = TextHighlightRules;\n    };\n\n    (function () {\n        this.$defaultBehaviour = new CstyleBehaviour();\n\n        this.tokenRe = new RegExp(\"^[\" + unicode.packages.L + unicode.packages.Mn + unicode.packages.Mc + unicode.packages.Nd + unicode.packages.Pc + \"\\\\$_]+\", \"g\");\n\n        this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.packages.L + unicode.packages.Mn + unicode.packages.Mc + unicode.packages.Nd + unicode.packages.Pc + \"\\\\$_]|\\\\s])+\", \"g\");\n\n        this.getTokenizer = function () {\n            if (!this.$tokenizer) {\n                this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n                this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n            }\n            return this.$tokenizer;\n        };\n\n        this.lineCommentStart = \"\";\n        this.blockComment = \"\";\n\n        this.toggleCommentLines = function (state, session, startRow, endRow) {\n            var doc = session.doc;\n\n            var ignoreBlankLines = true;\n            var shouldRemove = true;\n            var minIndent = Infinity;\n            var tabSize = session.getTabSize();\n            var insertAtTabStop = false;\n\n            if (!this.lineCommentStart) {\n                if (!this.blockComment) return false;\n                var lineCommentStart = this.blockComment.start;\n                var lineCommentEnd = this.blockComment.end;\n                var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n                var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n                var comment = function comment(line, i) {\n                    if (testRemove(line, i)) return;\n                    if (!ignoreBlankLines || /\\S/.test(line)) {\n                        doc.insertInLine({ row: i, column: line.length }, lineCommentEnd);\n                        doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                    }\n                };\n\n                var uncomment = function uncomment(line, i) {\n                    var m;\n                    if (m = line.match(regexpEnd)) doc.removeInLine(i, line.length - m[0].length, line.length);\n                    if (m = line.match(regexpStart)) doc.removeInLine(i, m[1].length, m[0].length);\n                };\n\n                var testRemove = function testRemove(line, row) {\n                    if (regexpStart.test(line)) return true;\n                    var tokens = session.getTokens(row);\n                    for (var i = 0; i < tokens.length; i++) {\n                        if (tokens[i].type === \"comment\") return true;\n                    }\n                };\n            } else {\n                if (Array.isArray(this.lineCommentStart)) {\n                    var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                    var lineCommentStart = this.lineCommentStart[0];\n                } else {\n                    var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                    var lineCommentStart = this.lineCommentStart;\n                }\n                regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n\n                insertAtTabStop = session.getUseSoftTabs();\n\n                var uncomment = function uncomment(line, i) {\n                    var m = line.match(regexpStart);\n                    if (!m) return;\n                    var start = m[1].length,\n                        end = m[0].length;\n                    if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \") end--;\n                    doc.removeInLine(i, start, end);\n                };\n                var commentWithSpace = lineCommentStart + \" \";\n                var comment = function comment(line, i) {\n                    if (!ignoreBlankLines || /\\S/.test(line)) {\n                        if (shouldInsertSpace(line, minIndent, minIndent)) doc.insertInLine({ row: i, column: minIndent }, commentWithSpace);else doc.insertInLine({ row: i, column: minIndent }, lineCommentStart);\n                    }\n                };\n                var testRemove = function testRemove(line, i) {\n                    return regexpStart.test(line);\n                };\n\n                var shouldInsertSpace = function shouldInsertSpace(line, before, after) {\n                    var spaces = 0;\n                    while (before-- && line.charAt(before) == \" \") {\n                        spaces++;\n                    }if (spaces % tabSize != 0) return false;\n                    var spaces = 0;\n                    while (line.charAt(after++) == \" \") {\n                        spaces++;\n                    }if (tabSize > 2) return spaces % tabSize != tabSize - 1;else return spaces % tabSize == 0;\n                    return true;\n                };\n            }\n\n            function iter(fun) {\n                for (var i = startRow; i <= endRow; i++) {\n                    fun(doc.getLine(i), i);\n                }\n            }\n\n            var minEmptyLength = Infinity;\n            iter(function (line, i) {\n                var indent = line.search(/\\S/);\n                if (indent !== -1) {\n                    if (indent < minIndent) minIndent = indent;\n                    if (shouldRemove && !testRemove(line, i)) shouldRemove = false;\n                } else if (minEmptyLength > line.length) {\n                    minEmptyLength = line.length;\n                }\n            });\n\n            if (minIndent == Infinity) {\n                minIndent = minEmptyLength;\n                ignoreBlankLines = false;\n                shouldRemove = false;\n            }\n\n            if (insertAtTabStop && minIndent % tabSize != 0) minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n            iter(shouldRemove ? uncomment : comment);\n        };\n\n        this.toggleBlockComment = function (state, session, range, cursor) {\n            var comment = this.blockComment;\n            if (!comment) return;\n            if (!comment.start && comment[0]) comment = comment[0];\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n\n            var sel = session.selection;\n            var initialRange = session.selection.toOrientedRange();\n            var startRow, colDiff;\n\n            if (token && /comment/.test(token.type)) {\n                var startRange, endRange;\n                while (token && /comment/.test(token.type)) {\n                    var i = token.value.indexOf(comment.start);\n                    if (i != -1) {\n                        var row = iterator.getCurrentTokenRow();\n                        var column = iterator.getCurrentTokenColumn() + i;\n                        startRange = new Range(row, column, row, column + comment.start.length);\n                        break;\n                    }\n                    token = iterator.stepBackward();\n                }\n\n                var iterator = new TokenIterator(session, cursor.row, cursor.column);\n                var token = iterator.getCurrentToken();\n                while (token && /comment/.test(token.type)) {\n                    var i = token.value.indexOf(comment.end);\n                    if (i != -1) {\n                        var row = iterator.getCurrentTokenRow();\n                        var column = iterator.getCurrentTokenColumn() + i;\n                        endRange = new Range(row, column, row, column + comment.end.length);\n                        break;\n                    }\n                    token = iterator.stepForward();\n                }\n                if (endRange) session.remove(endRange);\n                if (startRange) {\n                    session.remove(startRange);\n                    startRow = startRange.start.row;\n                    colDiff = -comment.start.length;\n                }\n            } else {\n                colDiff = comment.start.length;\n                startRow = range.start.row;\n                session.insert(range.end, comment.end);\n                session.insert(range.start, comment.start);\n            }\n            if (initialRange.start.row == startRow) initialRange.start.column += colDiff;\n            if (initialRange.end.row == startRow) initialRange.end.column += colDiff;\n            session.selection.fromOrientedRange(initialRange);\n        };\n\n        this.getNextLineIndent = function (state, line, tab) {\n            return this.$getIndent(line);\n        };\n\n        this.checkOutdent = function (state, line, input) {\n            return false;\n        };\n\n        this.autoOutdent = function (state, doc, row) {};\n\n        this.$getIndent = function (line) {\n            return line.match(/^\\s*/)[0];\n        };\n\n        this.createWorker = function (session) {\n            return null;\n        };\n\n        this.createModeDelegates = function (mapping) {\n            this.$embeds = [];\n            this.$modes = {};\n            for (var i in mapping) {\n                if (mapping[i]) {\n                    this.$embeds.push(i);\n                    this.$modes[i] = new mapping[i]();\n                }\n            }\n\n            var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n            for (var i = 0; i < delegations.length; i++) {\n                (function (scope) {\n                    var functionName = delegations[i];\n                    var defaultHandler = scope[functionName];\n                    scope[delegations[i]] = function () {\n                        return this.$delegator(functionName, arguments, defaultHandler);\n                    };\n                })(this);\n            }\n        };\n\n        this.$delegator = function (method, args, defaultHandler) {\n            var state = args[0];\n            if (typeof state != \"string\") state = state[0];\n            for (var i = 0; i < this.$embeds.length; i++) {\n                if (!this.$modes[this.$embeds[i]]) continue;\n\n                var split = state.split(this.$embeds[i]);\n                if (!split[0] && split[1]) {\n                    args[0] = split[1];\n                    var mode = this.$modes[this.$embeds[i]];\n                    return mode[method].apply(mode, args);\n                }\n            }\n            var ret = defaultHandler.apply(this, args);\n            return defaultHandler ? ret : undefined;\n        };\n\n        this.transformAction = function (state, action, editor, session, param) {\n            if (this.$behaviour) {\n                var behaviours = this.$behaviour.getBehaviours();\n                for (var key in behaviours) {\n                    if (behaviours[key][action]) {\n                        var ret = behaviours[key][action].apply(this, arguments);\n                        if (ret) {\n                            return ret;\n                        }\n                    }\n                }\n            }\n        };\n\n        this.getKeywords = function (append) {\n            if (!this.completionKeywords) {\n                var rules = this.$tokenizer.rules;\n                var completionKeywords = [];\n                for (var rule in rules) {\n                    var ruleItr = rules[rule];\n                    for (var r = 0, l = ruleItr.length; r < l; r++) {\n                        if (typeof ruleItr[r].token === \"string\") {\n                            if (/keyword|support|storage/.test(ruleItr[r].token)) completionKeywords.push(ruleItr[r].regex);\n                        } else if (_typeof(ruleItr[r].token) === \"object\") {\n                            for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {\n                                if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                    var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                    completionKeywords.push(rule.substr(1, rule.length - 2));\n                                }\n                            }\n                        }\n                    }\n                }\n                this.completionKeywords = completionKeywords;\n            }\n            if (!append) return this.$keywordList;\n            return completionKeywords.concat(this.$keywordList || []);\n        };\n\n        this.$createKeywordList = function () {\n            if (!this.$highlightRules) this.getTokenizer();\n            return this.$keywordList = this.$highlightRules.$keywordList || [];\n        };\n\n        this.getCompletions = function (state, session, pos, prefix) {\n            var keywords = this.$keywordList || this.$createKeywordList();\n            return keywords.map(function (word) {\n                return {\n                    name: word,\n                    value: word,\n                    score: 0,\n                    meta: \"keyword\"\n                };\n            });\n        };\n\n        this.$id = \"ace/mode/text\";\n    }).call(Mode.prototype);\n\n    exports.Mode = Mode;\n});\n\nace.define(\"ace/apply_delta\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    function throwDeltaError(delta, errorText) {\n        console.log(\"Invalid Delta:\", delta);\n        throw \"Invalid Delta: \" + errorText;\n    }\n\n    function positionInDocument(docLines, position) {\n        return position.row >= 0 && position.row < docLines.length && position.column >= 0 && position.column <= docLines[position.row].length;\n    }\n\n    function validateDelta(docLines, delta) {\n        if (delta.action != \"insert\" && delta.action != \"remove\") throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n        if (!(delta.lines instanceof Array)) throwDeltaError(delta, \"delta.lines must be an Array\");\n        if (!delta.start || !delta.end) throwDeltaError(delta, \"delta.start/end must be an present\");\n        var start = delta.start;\n        if (!positionInDocument(docLines, delta.start)) throwDeltaError(delta, \"delta.start must be contained in document\");\n        var end = delta.end;\n        if (delta.action == \"remove\" && !positionInDocument(docLines, end)) throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n        var numRangeRows = end.row - start.row;\n        var numRangeLastLineChars = end.column - (numRangeRows == 0 ? start.column : 0);\n        if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars) throwDeltaError(delta, \"delta.range must match delta lines\");\n    }\n\n    exports.applyDelta = function (docLines, delta, doNotValidate) {\n\n        var row = delta.start.row;\n        var startColumn = delta.start.column;\n        var line = docLines[row] || \"\";\n        switch (delta.action) {\n            case \"insert\":\n                var lines = delta.lines;\n                if (lines.length === 1) {\n                    docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n                } else {\n                    var args = [row, 1].concat(delta.lines);\n                    docLines.splice.apply(docLines, args);\n                    docLines[row] = line.substring(0, startColumn) + docLines[row];\n                    docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n                }\n                break;\n            case \"remove\":\n                var endColumn = delta.end.column;\n                var endRow = delta.end.row;\n                if (row === endRow) {\n                    docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n                } else {\n                    docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn));\n                }\n                break;\n        }\n    };\n});\n\nace.define(\"ace/anchor\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n\n    var Anchor = exports.Anchor = function (doc, row, column) {\n        this.$onChange = this.onChange.bind(this);\n        this.attach(doc);\n\n        if (typeof column == \"undefined\") this.setPosition(row.row, row.column);else this.setPosition(row, column);\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n        this.getPosition = function () {\n            return this.$clipPositionToDocument(this.row, this.column);\n        };\n        this.getDocument = function () {\n            return this.document;\n        };\n        this.$insertRight = false;\n        this.onChange = function (delta) {\n            if (delta.start.row == delta.end.row && delta.start.row != this.row) return;\n\n            if (delta.start.row > this.row) return;\n\n            var point = $getTransformedPoint(delta, { row: this.row, column: this.column }, this.$insertRight);\n            this.setPosition(point.row, point.column, true);\n        };\n\n        function $pointsInOrder(point1, point2, equalPointsInOrder) {\n            var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n            return point1.row < point2.row || point1.row == point2.row && bColIsAfter;\n        }\n\n        function $getTransformedPoint(delta, point, moveIfEqual) {\n            var deltaIsInsert = delta.action == \"insert\";\n            var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row);\n            var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n            var deltaStart = delta.start;\n            var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n            if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n                return {\n                    row: point.row,\n                    column: point.column\n                };\n            }\n            if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n                return {\n                    row: point.row + deltaRowShift,\n                    column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n                };\n            }\n\n            return {\n                row: deltaStart.row,\n                column: deltaStart.column\n            };\n        }\n        this.setPosition = function (row, column, noClip) {\n            var pos;\n            if (noClip) {\n                pos = {\n                    row: row,\n                    column: column\n                };\n            } else {\n                pos = this.$clipPositionToDocument(row, column);\n            }\n\n            if (this.row == pos.row && this.column == pos.column) return;\n\n            var old = {\n                row: this.row,\n                column: this.column\n            };\n\n            this.row = pos.row;\n            this.column = pos.column;\n            this._signal(\"change\", {\n                old: old,\n                value: pos\n            });\n        };\n        this.detach = function () {\n            this.document.removeEventListener(\"change\", this.$onChange);\n        };\n        this.attach = function (doc) {\n            this.document = doc || this.document;\n            this.document.on(\"change\", this.$onChange);\n        };\n        this.$clipPositionToDocument = function (row, column) {\n            var pos = {};\n\n            if (row >= this.document.getLength()) {\n                pos.row = Math.max(0, this.document.getLength() - 1);\n                pos.column = this.document.getLine(pos.row).length;\n            } else if (row < 0) {\n                pos.row = 0;\n                pos.column = 0;\n            } else {\n                pos.row = row;\n                pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n            }\n\n            if (column < 0) pos.column = 0;\n\n            return pos;\n        };\n    }).call(Anchor.prototype);\n});\n\nace.define(\"ace/document\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/apply_delta\", \"ace/lib/event_emitter\", \"ace/range\", \"ace/anchor\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var applyDelta = acequire(\"./apply_delta\").applyDelta;\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var Range = acequire(\"./range\").Range;\n    var Anchor = acequire(\"./anchor\").Anchor;\n\n    var Document = function Document(textOrLines) {\n        this.$lines = [\"\"];\n        if (textOrLines.length === 0) {\n            this.$lines = [\"\"];\n        } else if (Array.isArray(textOrLines)) {\n            this.insertMergedLines({ row: 0, column: 0 }, textOrLines);\n        } else {\n            this.insert({ row: 0, column: 0 }, textOrLines);\n        }\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n        this.setValue = function (text) {\n            var len = this.getLength() - 1;\n            this.remove(new Range(0, 0, len, this.getLine(len).length));\n            this.insert({ row: 0, column: 0 }, text);\n        };\n        this.getValue = function () {\n            return this.getAllLines().join(this.getNewLineCharacter());\n        };\n        this.createAnchor = function (row, column) {\n            return new Anchor(this, row, column);\n        };\n        if (\"aaa\".split(/a/).length === 0) {\n            this.$split = function (text) {\n                return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n            };\n        } else {\n            this.$split = function (text) {\n                return text.split(/\\r\\n|\\r|\\n/);\n            };\n        }\n\n        this.$detectNewLine = function (text) {\n            var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n            this.$autoNewLine = match ? match[1] : \"\\n\";\n            this._signal(\"changeNewLineMode\");\n        };\n        this.getNewLineCharacter = function () {\n            switch (this.$newLineMode) {\n                case \"windows\":\n                    return \"\\r\\n\";\n                case \"unix\":\n                    return \"\\n\";\n                default:\n                    return this.$autoNewLine || \"\\n\";\n            }\n        };\n\n        this.$autoNewLine = \"\";\n        this.$newLineMode = \"auto\";\n        this.setNewLineMode = function (newLineMode) {\n            if (this.$newLineMode === newLineMode) return;\n\n            this.$newLineMode = newLineMode;\n            this._signal(\"changeNewLineMode\");\n        };\n        this.getNewLineMode = function () {\n            return this.$newLineMode;\n        };\n        this.isNewLine = function (text) {\n            return text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\";\n        };\n        this.getLine = function (row) {\n            return this.$lines[row] || \"\";\n        };\n        this.getLines = function (firstRow, lastRow) {\n            return this.$lines.slice(firstRow, lastRow + 1);\n        };\n        this.getAllLines = function () {\n            return this.getLines(0, this.getLength());\n        };\n        this.getLength = function () {\n            return this.$lines.length;\n        };\n        this.getTextRange = function (range) {\n            return this.getLinesForRange(range).join(this.getNewLineCharacter());\n        };\n        this.getLinesForRange = function (range) {\n            var lines;\n            if (range.start.row === range.end.row) {\n                lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n            } else {\n                lines = this.getLines(range.start.row, range.end.row);\n                lines[0] = (lines[0] || \"\").substring(range.start.column);\n                var l = lines.length - 1;\n                if (range.end.row - range.start.row == l) lines[l] = lines[l].substring(0, range.end.column);\n            }\n            return lines;\n        };\n        this.insertLines = function (row, lines) {\n            console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n            return this.insertFullLines(row, lines);\n        };\n        this.removeLines = function (firstRow, lastRow) {\n            console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n            return this.removeFullLines(firstRow, lastRow);\n        };\n        this.insertNewLine = function (position) {\n            console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n            return this.insertMergedLines(position, [\"\", \"\"]);\n        };\n        this.insert = function (position, text) {\n            if (this.getLength() <= 1) this.$detectNewLine(text);\n\n            return this.insertMergedLines(position, this.$split(text));\n        };\n        this.insertInLine = function (position, text) {\n            var start = this.clippedPos(position.row, position.column);\n            var end = this.pos(position.row, position.column + text.length);\n\n            this.applyDelta({\n                start: start,\n                end: end,\n                action: \"insert\",\n                lines: [text]\n            }, true);\n\n            return this.clonePos(end);\n        };\n\n        this.clippedPos = function (row, column) {\n            var length = this.getLength();\n            if (row === undefined) {\n                row = length;\n            } else if (row < 0) {\n                row = 0;\n            } else if (row >= length) {\n                row = length - 1;\n                column = undefined;\n            }\n            var line = this.getLine(row);\n            if (column == undefined) column = line.length;\n            column = Math.min(Math.max(column, 0), line.length);\n            return { row: row, column: column };\n        };\n\n        this.clonePos = function (pos) {\n            return { row: pos.row, column: pos.column };\n        };\n\n        this.pos = function (row, column) {\n            return { row: row, column: column };\n        };\n\n        this.$clipPosition = function (position) {\n            var length = this.getLength();\n            if (position.row >= length) {\n                position.row = Math.max(0, length - 1);\n                position.column = this.getLine(length - 1).length;\n            } else {\n                position.row = Math.max(0, position.row);\n                position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n            }\n            return position;\n        };\n        this.insertFullLines = function (row, lines) {\n            row = Math.min(Math.max(row, 0), this.getLength());\n            var column = 0;\n            if (row < this.getLength()) {\n                lines = lines.concat([\"\"]);\n                column = 0;\n            } else {\n                lines = [\"\"].concat(lines);\n                row--;\n                column = this.$lines[row].length;\n            }\n            this.insertMergedLines({ row: row, column: column }, lines);\n        };\n        this.insertMergedLines = function (position, lines) {\n            var start = this.clippedPos(position.row, position.column);\n            var end = {\n                row: start.row + lines.length - 1,\n                column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n            };\n\n            this.applyDelta({\n                start: start,\n                end: end,\n                action: \"insert\",\n                lines: lines\n            });\n\n            return this.clonePos(end);\n        };\n        this.remove = function (range) {\n            var start = this.clippedPos(range.start.row, range.start.column);\n            var end = this.clippedPos(range.end.row, range.end.column);\n            this.applyDelta({\n                start: start,\n                end: end,\n                action: \"remove\",\n                lines: this.getLinesForRange({ start: start, end: end })\n            });\n            return this.clonePos(start);\n        };\n        this.removeInLine = function (row, startColumn, endColumn) {\n            var start = this.clippedPos(row, startColumn);\n            var end = this.clippedPos(row, endColumn);\n\n            this.applyDelta({\n                start: start,\n                end: end,\n                action: \"remove\",\n                lines: this.getLinesForRange({ start: start, end: end })\n            }, true);\n\n            return this.clonePos(start);\n        };\n        this.removeFullLines = function (firstRow, lastRow) {\n            firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n            lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n            var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n            var deleteLastNewLine = lastRow < this.getLength() - 1;\n            var startRow = deleteFirstNewLine ? firstRow - 1 : firstRow;\n            var startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0;\n            var endRow = deleteLastNewLine ? lastRow + 1 : lastRow;\n            var endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length;\n            var range = new Range(startRow, startCol, endRow, endCol);\n            var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n\n            this.applyDelta({\n                start: range.start,\n                end: range.end,\n                action: \"remove\",\n                lines: this.getLinesForRange(range)\n            });\n            return deletedLines;\n        };\n        this.removeNewLine = function (row) {\n            if (row < this.getLength() - 1 && row >= 0) {\n                this.applyDelta({\n                    start: this.pos(row, this.getLine(row).length),\n                    end: this.pos(row + 1, 0),\n                    action: \"remove\",\n                    lines: [\"\", \"\"]\n                });\n            }\n        };\n        this.replace = function (range, text) {\n            if (!(range instanceof Range)) range = Range.fromPoints(range.start, range.end);\n            if (text.length === 0 && range.isEmpty()) return range.start;\n            if (text == this.getTextRange(range)) return range.end;\n\n            this.remove(range);\n            var end;\n            if (text) {\n                end = this.insert(range.start, text);\n            } else {\n                end = range.start;\n            }\n\n            return end;\n        };\n        this.applyDeltas = function (deltas) {\n            for (var i = 0; i < deltas.length; i++) {\n                this.applyDelta(deltas[i]);\n            }\n        };\n        this.revertDeltas = function (deltas) {\n            for (var i = deltas.length - 1; i >= 0; i--) {\n                this.revertDelta(deltas[i]);\n            }\n        };\n        this.applyDelta = function (delta, doNotValidate) {\n            var isInsert = delta.action == \"insert\";\n            if (isInsert ? delta.lines.length <= 1 && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) {\n                return;\n            }\n\n            if (isInsert && delta.lines.length > 20000) this.$splitAndapplyLargeDelta(delta, 20000);\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        };\n\n        this.$splitAndapplyLargeDelta = function (delta, MAX) {\n            var lines = delta.lines;\n            var l = lines.length;\n            var row = delta.start.row;\n            var column = delta.start.column;\n            var from = 0,\n                to = 0;\n            do {\n                from = to;\n                to += MAX - 1;\n                var chunk = lines.slice(from, to);\n                if (to > l) {\n                    delta.lines = chunk;\n                    delta.start.row = row + from;\n                    delta.start.column = column;\n                    break;\n                }\n                chunk.push(\"\");\n                this.applyDelta({\n                    start: this.pos(row + from, column),\n                    end: this.pos(row + to, column = 0),\n                    action: delta.action,\n                    lines: chunk\n                }, true);\n            } while (true);\n        };\n        this.revertDelta = function (delta) {\n            this.applyDelta({\n                start: this.clonePos(delta.start),\n                end: this.clonePos(delta.end),\n                action: delta.action == \"insert\" ? \"remove\" : \"insert\",\n                lines: delta.lines.slice()\n            });\n        };\n        this.indexToPosition = function (index, startRow) {\n            var lines = this.$lines || this.getAllLines();\n            var newlineLength = this.getNewLineCharacter().length;\n            for (var i = startRow || 0, l = lines.length; i < l; i++) {\n                index -= lines[i].length + newlineLength;\n                if (index < 0) return { row: i, column: index + lines[i].length + newlineLength };\n            }\n            return { row: l - 1, column: lines[l - 1].length };\n        };\n        this.positionToIndex = function (pos, startRow) {\n            var lines = this.$lines || this.getAllLines();\n            var newlineLength = this.getNewLineCharacter().length;\n            var index = 0;\n            var row = Math.min(pos.row, lines.length);\n            for (var i = startRow || 0; i < row; ++i) {\n                index += lines[i].length + newlineLength;\n            }return index + pos.column;\n        };\n    }).call(Document.prototype);\n\n    exports.Document = Document;\n});\n\nace.define(\"ace/background_tokenizer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n\n    var BackgroundTokenizer = function BackgroundTokenizer(tokenizer, editor) {\n        this.running = false;\n        this.lines = [];\n        this.states = [];\n        this.currentLine = 0;\n        this.tokenizer = tokenizer;\n\n        var self = this;\n\n        this.$worker = function () {\n            if (!self.running) {\n                return;\n            }\n\n            var workerStart = new Date();\n            var currentLine = self.currentLine;\n            var endLine = -1;\n            var doc = self.doc;\n\n            var startLine = currentLine;\n            while (self.lines[currentLine]) {\n                currentLine++;\n            }var len = doc.getLength();\n            var processedLines = 0;\n            self.running = false;\n            while (currentLine < len) {\n                self.$tokenizeRow(currentLine);\n                endLine = currentLine;\n                do {\n                    currentLine++;\n                } while (self.lines[currentLine]);\n                processedLines++;\n                if (processedLines % 5 === 0 && new Date() - workerStart > 20) {\n                    self.running = setTimeout(self.$worker, 20);\n                    break;\n                }\n            }\n            self.currentLine = currentLine;\n\n            if (endLine == -1) endLine = currentLine;\n\n            if (startLine <= endLine) self.fireUpdateEvent(startLine, endLine);\n        };\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n        this.setTokenizer = function (tokenizer) {\n            this.tokenizer = tokenizer;\n            this.lines = [];\n            this.states = [];\n\n            this.start(0);\n        };\n        this.setDocument = function (doc) {\n            this.doc = doc;\n            this.lines = [];\n            this.states = [];\n\n            this.stop();\n        };\n        this.fireUpdateEvent = function (firstRow, lastRow) {\n            var data = {\n                first: firstRow,\n                last: lastRow\n            };\n            this._signal(\"update\", { data: data });\n        };\n        this.start = function (startRow) {\n            this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n            this.lines.splice(this.currentLine, this.lines.length);\n            this.states.splice(this.currentLine, this.states.length);\n\n            this.stop();\n            this.running = setTimeout(this.$worker, 700);\n        };\n\n        this.scheduleStart = function () {\n            if (!this.running) this.running = setTimeout(this.$worker, 700);\n        };\n\n        this.$updateOnChange = function (delta) {\n            var startRow = delta.start.row;\n            var len = delta.end.row - startRow;\n\n            if (len === 0) {\n                this.lines[startRow] = null;\n            } else if (delta.action == \"remove\") {\n                this.lines.splice(startRow, len + 1, null);\n                this.states.splice(startRow, len + 1, null);\n            } else {\n                var args = Array(len + 1);\n                args.unshift(startRow, 1);\n                this.lines.splice.apply(this.lines, args);\n                this.states.splice.apply(this.states, args);\n            }\n\n            this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n            this.stop();\n        };\n        this.stop = function () {\n            if (this.running) clearTimeout(this.running);\n            this.running = false;\n        };\n        this.getTokens = function (row) {\n            return this.lines[row] || this.$tokenizeRow(row);\n        };\n        this.getState = function (row) {\n            if (this.currentLine == row) this.$tokenizeRow(row);\n            return this.states[row] || \"start\";\n        };\n\n        this.$tokenizeRow = function (row) {\n            var line = this.doc.getLine(row);\n            var state = this.states[row - 1];\n\n            var data = this.tokenizer.getLineTokens(line, state, row);\n\n            if (this.states[row] + \"\" !== data.state + \"\") {\n                this.states[row] = data.state;\n                this.lines[row + 1] = null;\n                if (this.currentLine > row + 1) this.currentLine = row + 1;\n            } else if (this.currentLine == row) {\n                this.currentLine = row + 1;\n            }\n\n            return this.lines[row] = data.tokens;\n        };\n    }).call(BackgroundTokenizer.prototype);\n\n    exports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\nace.define(\"ace/search_highlight\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var lang = acequire(\"./lib/lang\");\n    var oop = acequire(\"./lib/oop\");\n    var Range = acequire(\"./range\").Range;\n\n    var SearchHighlight = function SearchHighlight(regExp, clazz, type) {\n        this.setRegexp(regExp);\n        this.clazz = clazz;\n        this.type = type || \"text\";\n    };\n\n    (function () {\n        this.MAX_RANGES = 500;\n\n        this.setRegexp = function (regExp) {\n            if (this.regExp + \"\" == regExp + \"\") return;\n            this.regExp = regExp;\n            this.cache = [];\n        };\n\n        this.update = function (html, markerLayer, session, config) {\n            if (!this.regExp) return;\n            var start = config.firstRow,\n                end = config.lastRow;\n\n            for (var i = start; i <= end; i++) {\n                var ranges = this.cache[i];\n                if (ranges == null) {\n                    ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                    if (ranges.length > this.MAX_RANGES) ranges = ranges.slice(0, this.MAX_RANGES);\n                    ranges = ranges.map(function (match) {\n                        return new Range(i, match.offset, i, match.offset + match.length);\n                    });\n                    this.cache[i] = ranges.length ? ranges : \"\";\n                }\n\n                for (var j = ranges.length; j--;) {\n                    markerLayer.drawSingleLineMarker(html, ranges[j].toScreenRange(session), this.clazz, config);\n                }\n            }\n        };\n    }).call(SearchHighlight.prototype);\n\n    exports.SearchHighlight = SearchHighlight;\n});\n\nace.define(\"ace/edit_session/fold_line\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"../range\").Range;\n    function FoldLine(foldData, folds) {\n        this.foldData = foldData;\n        if (Array.isArray(folds)) {\n            this.folds = folds;\n        } else {\n            folds = this.folds = [folds];\n        }\n\n        var last = folds[folds.length - 1];\n        this.range = new Range(folds[0].start.row, folds[0].start.column, last.end.row, last.end.column);\n        this.start = this.range.start;\n        this.end = this.range.end;\n\n        this.folds.forEach(function (fold) {\n            fold.setFoldLine(this);\n        }, this);\n    }\n\n    (function () {\n        this.shiftRow = function (shift) {\n            this.start.row += shift;\n            this.end.row += shift;\n            this.folds.forEach(function (fold) {\n                fold.start.row += shift;\n                fold.end.row += shift;\n            });\n        };\n\n        this.addFold = function (fold) {\n            if (fold.sameRow) {\n                if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                    throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n                }\n                this.folds.push(fold);\n                this.folds.sort(function (a, b) {\n                    return -a.range.compareEnd(b.start.row, b.start.column);\n                });\n                if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                    this.end.row = fold.end.row;\n                    this.end.column = fold.end.column;\n                } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                    this.start.row = fold.start.row;\n                    this.start.column = fold.start.column;\n                }\n            } else if (fold.start.row == this.end.row) {\n                this.folds.push(fold);\n                this.end.row = fold.end.row;\n                this.end.column = fold.end.column;\n            } else if (fold.end.row == this.start.row) {\n                this.folds.unshift(fold);\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            } else {\n                throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n            }\n            fold.foldLine = this;\n        };\n\n        this.containsRow = function (row) {\n            return row >= this.start.row && row <= this.end.row;\n        };\n\n        this.walk = function (callback, endRow, endColumn) {\n            var lastEnd = 0,\n                folds = this.folds,\n                fold,\n                cmp,\n                stop,\n                isNewRow = true;\n\n            if (endRow == null) {\n                endRow = this.end.row;\n                endColumn = this.end.column;\n            }\n\n            for (var i = 0; i < folds.length; i++) {\n                fold = folds[i];\n\n                cmp = fold.range.compareStart(endRow, endColumn);\n                if (cmp == -1) {\n                    callback(null, endRow, endColumn, lastEnd, isNewRow);\n                    return;\n                }\n\n                stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n                stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n                if (stop || cmp === 0) {\n                    return;\n                }\n                isNewRow = !fold.sameRow;\n                lastEnd = fold.end.column;\n            }\n            callback(null, endRow, endColumn, lastEnd, isNewRow);\n        };\n\n        this.getNextFoldTo = function (row, column) {\n            var fold, cmp;\n            for (var i = 0; i < this.folds.length; i++) {\n                fold = this.folds[i];\n                cmp = fold.range.compareEnd(row, column);\n                if (cmp == -1) {\n                    return {\n                        fold: fold,\n                        kind: \"after\"\n                    };\n                } else if (cmp === 0) {\n                    return {\n                        fold: fold,\n                        kind: \"inside\"\n                    };\n                }\n            }\n            return null;\n        };\n\n        this.addRemoveChars = function (row, column, len) {\n            var ret = this.getNextFoldTo(row, column),\n                fold,\n                folds;\n            if (ret) {\n                fold = ret.fold;\n                if (ret.kind == \"inside\" && fold.start.column != column && fold.start.row != row) {\n                    window.console && window.console.log(row, column, fold);\n                } else if (fold.start.row == row) {\n                    folds = this.folds;\n                    var i = folds.indexOf(fold);\n                    if (i === 0) {\n                        this.start.column += len;\n                    }\n                    for (i; i < folds.length; i++) {\n                        fold = folds[i];\n                        fold.start.column += len;\n                        if (!fold.sameRow) {\n                            return;\n                        }\n                        fold.end.column += len;\n                    }\n                    this.end.column += len;\n                }\n            }\n        };\n\n        this.split = function (row, column) {\n            var pos = this.getNextFoldTo(row, column);\n\n            if (!pos || pos.kind == \"inside\") return null;\n\n            var fold = pos.fold;\n            var folds = this.folds;\n            var foldData = this.foldData;\n\n            var i = folds.indexOf(fold);\n            var foldBefore = folds[i - 1];\n            this.end.row = foldBefore.end.row;\n            this.end.column = foldBefore.end.column;\n            folds = folds.splice(i, folds.length - i);\n\n            var newFoldLine = new FoldLine(foldData, folds);\n            foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n            return newFoldLine;\n        };\n\n        this.merge = function (foldLineNext) {\n            var folds = foldLineNext.folds;\n            for (var i = 0; i < folds.length; i++) {\n                this.addFold(folds[i]);\n            }\n            var foldData = this.foldData;\n            foldData.splice(foldData.indexOf(foldLineNext), 1);\n        };\n\n        this.toString = function () {\n            var ret = [this.range.toString() + \": [\"];\n\n            this.folds.forEach(function (fold) {\n                ret.push(\"  \" + fold.toString());\n            });\n            ret.push(\"]\");\n            return ret.join(\"\\n\");\n        };\n\n        this.idxToPosition = function (idx) {\n            var lastFoldEndColumn = 0;\n\n            for (var i = 0; i < this.folds.length; i++) {\n                var fold = this.folds[i];\n\n                idx -= fold.start.column - lastFoldEndColumn;\n                if (idx < 0) {\n                    return {\n                        row: fold.start.row,\n                        column: fold.start.column + idx\n                    };\n                }\n\n                idx -= fold.placeholder.length;\n                if (idx < 0) {\n                    return fold.start;\n                }\n\n                lastFoldEndColumn = fold.end.column;\n            }\n\n            return {\n                row: this.end.row,\n                column: this.end.column + idx\n            };\n        };\n    }).call(FoldLine.prototype);\n\n    exports.FoldLine = FoldLine;\n});\n\nace.define(\"ace/range_list\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"./range\").Range;\n    var comparePoints = Range.comparePoints;\n\n    var RangeList = function RangeList() {\n        this.ranges = [];\n    };\n\n    (function () {\n        this.comparePoints = comparePoints;\n\n        this.pointIndex = function (pos, excludeEdges, startIndex) {\n            var list = this.ranges;\n\n            for (var i = startIndex || 0; i < list.length; i++) {\n                var range = list[i];\n                var cmpEnd = comparePoints(pos, range.end);\n                if (cmpEnd > 0) continue;\n                var cmpStart = comparePoints(pos, range.start);\n                if (cmpEnd === 0) return excludeEdges && cmpStart !== 0 ? -i - 2 : i;\n                if (cmpStart > 0 || cmpStart === 0 && !excludeEdges) return i;\n\n                return -i - 1;\n            }\n            return -i - 1;\n        };\n\n        this.add = function (range) {\n            var excludeEdges = !range.isEmpty();\n            var startIndex = this.pointIndex(range.start, excludeEdges);\n            if (startIndex < 0) startIndex = -startIndex - 1;\n\n            var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n            if (endIndex < 0) endIndex = -endIndex - 1;else endIndex++;\n            return this.ranges.splice(startIndex, endIndex - startIndex, range);\n        };\n\n        this.addList = function (list) {\n            var removed = [];\n            for (var i = list.length; i--;) {\n                removed.push.apply(removed, this.add(list[i]));\n            }\n            return removed;\n        };\n\n        this.substractPoint = function (pos) {\n            var i = this.pointIndex(pos);\n\n            if (i >= 0) return this.ranges.splice(i, 1);\n        };\n        this.merge = function () {\n            var removed = [];\n            var list = this.ranges;\n\n            list = list.sort(function (a, b) {\n                return comparePoints(a.start, b.start);\n            });\n\n            var next = list[0],\n                range;\n            for (var i = 1; i < list.length; i++) {\n                range = next;\n                next = list[i];\n                var cmp = comparePoints(range.end, next.start);\n                if (cmp < 0) continue;\n\n                if (cmp == 0 && !range.isEmpty() && !next.isEmpty()) continue;\n\n                if (comparePoints(range.end, next.end) < 0) {\n                    range.end.row = next.end.row;\n                    range.end.column = next.end.column;\n                }\n\n                list.splice(i, 1);\n                removed.push(next);\n                next = range;\n                i--;\n            }\n\n            this.ranges = list;\n\n            return removed;\n        };\n\n        this.contains = function (row, column) {\n            return this.pointIndex({ row: row, column: column }) >= 0;\n        };\n\n        this.containsPoint = function (pos) {\n            return this.pointIndex(pos) >= 0;\n        };\n\n        this.rangeAtPoint = function (pos) {\n            var i = this.pointIndex(pos);\n            if (i >= 0) return this.ranges[i];\n        };\n\n        this.clipRows = function (startRow, endRow) {\n            var list = this.ranges;\n            if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow) return [];\n\n            var startIndex = this.pointIndex({ row: startRow, column: 0 });\n            if (startIndex < 0) startIndex = -startIndex - 1;\n            var endIndex = this.pointIndex({ row: endRow, column: 0 }, startIndex);\n            if (endIndex < 0) endIndex = -endIndex - 1;\n\n            var clipped = [];\n            for (var i = startIndex; i < endIndex; i++) {\n                clipped.push(list[i]);\n            }\n            return clipped;\n        };\n\n        this.removeAll = function () {\n            return this.ranges.splice(0, this.ranges.length);\n        };\n\n        this.attach = function (session) {\n            if (this.session) this.detach();\n\n            this.session = session;\n            this.onChange = this.$onChange.bind(this);\n\n            this.session.on('change', this.onChange);\n        };\n\n        this.detach = function () {\n            if (!this.session) return;\n            this.session.removeListener('change', this.onChange);\n            this.session = null;\n        };\n\n        this.$onChange = function (delta) {\n            if (delta.action == \"insert\") {\n                var start = delta.start;\n                var end = delta.end;\n            } else {\n                var end = delta.start;\n                var start = delta.end;\n            }\n            var startRow = start.row;\n            var endRow = end.row;\n            var lineDif = endRow - startRow;\n\n            var colDiff = -start.column + end.column;\n            var ranges = this.ranges;\n\n            for (var i = 0, n = ranges.length; i < n; i++) {\n                var r = ranges[i];\n                if (r.end.row < startRow) continue;\n                if (r.start.row > startRow) break;\n\n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$insertRight) {} else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$insertRight) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i + 1].start.column) r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n\n            if (lineDif != 0 && i < n) {\n                for (; i < n; i++) {\n                    var r = ranges[i];\n                    r.start.row += lineDif;\n                    r.end.row += lineDif;\n                }\n            }\n        };\n    }).call(RangeList.prototype);\n\n    exports.RangeList = RangeList;\n});\n\nace.define(\"ace/edit_session/fold\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/range_list\", \"ace/lib/oop\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"../range\").Range;\n    var RangeList = acequire(\"../range_list\").RangeList;\n    var oop = acequire(\"../lib/oop\");\n    var Fold = exports.Fold = function (range, placeholder) {\n        this.foldLine = null;\n        this.placeholder = placeholder;\n        this.range = range;\n        this.start = range.start;\n        this.end = range.end;\n\n        this.sameRow = range.start.row == range.end.row;\n        this.subFolds = this.ranges = [];\n    };\n\n    oop.inherits(Fold, RangeList);\n\n    (function () {\n\n        this.toString = function () {\n            return '\"' + this.placeholder + '\" ' + this.range.toString();\n        };\n\n        this.setFoldLine = function (foldLine) {\n            this.foldLine = foldLine;\n            this.subFolds.forEach(function (fold) {\n                fold.setFoldLine(foldLine);\n            });\n        };\n\n        this.clone = function () {\n            var range = this.range.clone();\n            var fold = new Fold(range, this.placeholder);\n            this.subFolds.forEach(function (subFold) {\n                fold.subFolds.push(subFold.clone());\n            });\n            fold.collapseChildren = this.collapseChildren;\n            return fold;\n        };\n\n        this.addSubFold = function (fold) {\n            if (this.range.isEqual(fold)) return;\n\n            if (!this.range.containsRange(fold)) throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n            consumeRange(fold, this.start);\n\n            var row = fold.start.row,\n                column = fold.start.column;\n            for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n                cmp = this.subFolds[i].range.compare(row, column);\n                if (cmp != 1) break;\n            }\n            var afterStart = this.subFolds[i];\n\n            if (cmp == 0) return afterStart.addSubFold(fold);\n            var row = fold.range.end.row,\n                column = fold.range.end.column;\n            for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n                cmp = this.subFolds[j].range.compare(row, column);\n                if (cmp != 1) break;\n            }\n            var afterEnd = this.subFolds[j];\n\n            if (cmp == 0) throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n\n            var consumedFolds = this.subFolds.splice(i, j - i, fold);\n            fold.setFoldLine(this.foldLine);\n\n            return fold;\n        };\n\n        this.restoreRange = function (range) {\n            return restoreRange(range, this.start);\n        };\n    }).call(Fold.prototype);\n\n    function consumePoint(point, anchor) {\n        point.row -= anchor.row;\n        if (point.row == 0) point.column -= anchor.column;\n    }\n    function consumeRange(range, anchor) {\n        consumePoint(range.start, anchor);\n        consumePoint(range.end, anchor);\n    }\n    function restorePoint(point, anchor) {\n        if (point.row == 0) point.column += anchor.column;\n        point.row += anchor.row;\n    }\n    function restoreRange(range, anchor) {\n        restorePoint(range.start, anchor);\n        restorePoint(range.end, anchor);\n    }\n});\n\nace.define(\"ace/edit_session/folding\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/edit_session/fold_line\", \"ace/edit_session/fold\", \"ace/token_iterator\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"../range\").Range;\n    var FoldLine = acequire(\"./fold_line\").FoldLine;\n    var Fold = acequire(\"./fold\").Fold;\n    var TokenIterator = acequire(\"../token_iterator\").TokenIterator;\n\n    function Folding() {\n        this.getFoldAt = function (row, column, side) {\n            var foldLine = this.getFoldLine(row);\n            if (!foldLine) return null;\n\n            var folds = foldLine.folds;\n            for (var i = 0; i < folds.length; i++) {\n                var fold = folds[i];\n                if (fold.range.contains(row, column)) {\n                    if (side == 1 && fold.range.isEnd(row, column)) {\n                        continue;\n                    } else if (side == -1 && fold.range.isStart(row, column)) {\n                        continue;\n                    }\n                    return fold;\n                }\n            }\n        };\n        this.getFoldsInRange = function (range) {\n            var start = range.start;\n            var end = range.end;\n            var foldLines = this.$foldData;\n            var foundFolds = [];\n\n            start.column += 1;\n            end.column -= 1;\n\n            for (var i = 0; i < foldLines.length; i++) {\n                var cmp = foldLines[i].range.compareRange(range);\n                if (cmp == 2) {\n                    continue;\n                } else if (cmp == -2) {\n                    break;\n                }\n\n                var folds = foldLines[i].folds;\n                for (var j = 0; j < folds.length; j++) {\n                    var fold = folds[j];\n                    cmp = fold.range.compareRange(range);\n                    if (cmp == -2) {\n                        break;\n                    } else if (cmp == 2) {\n                        continue;\n                    } else if (cmp == 42) {\n                        break;\n                    }\n                    foundFolds.push(fold);\n                }\n            }\n            start.column -= 1;\n            end.column += 1;\n\n            return foundFolds;\n        };\n\n        this.getFoldsInRangeList = function (ranges) {\n            if (Array.isArray(ranges)) {\n                var folds = [];\n                ranges.forEach(function (range) {\n                    folds = folds.concat(this.getFoldsInRange(range));\n                }, this);\n            } else {\n                var folds = this.getFoldsInRange(ranges);\n            }\n            return folds;\n        };\n        this.getAllFolds = function () {\n            var folds = [];\n            var foldLines = this.$foldData;\n\n            for (var i = 0; i < foldLines.length; i++) {\n                for (var j = 0; j < foldLines[i].folds.length; j++) {\n                    folds.push(foldLines[i].folds[j]);\n                }\n            }return folds;\n        };\n        this.getFoldStringAt = function (row, column, trim, foldLine) {\n            foldLine = foldLine || this.getFoldLine(row);\n            if (!foldLine) return null;\n\n            var lastFold = {\n                end: { column: 0 }\n            };\n            var str, fold;\n            for (var i = 0; i < foldLine.folds.length; i++) {\n                fold = foldLine.folds[i];\n                var cmp = fold.range.compareEnd(row, column);\n                if (cmp == -1) {\n                    str = this.getLine(fold.start.row).substring(lastFold.end.column, fold.start.column);\n                    break;\n                } else if (cmp === 0) {\n                    return null;\n                }\n                lastFold = fold;\n            }\n            if (!str) str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n            if (trim == -1) return str.substring(0, column - lastFold.end.column);else if (trim == 1) return str.substring(column - lastFold.end.column);else return str;\n        };\n\n        this.getFoldLine = function (docRow, startFoldLine) {\n            var foldData = this.$foldData;\n            var i = 0;\n            if (startFoldLine) i = foldData.indexOf(startFoldLine);\n            if (i == -1) i = 0;\n            for (i; i < foldData.length; i++) {\n                var foldLine = foldData[i];\n                if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                    return foldLine;\n                } else if (foldLine.end.row > docRow) {\n                    return null;\n                }\n            }\n            return null;\n        };\n        this.getNextFoldLine = function (docRow, startFoldLine) {\n            var foldData = this.$foldData;\n            var i = 0;\n            if (startFoldLine) i = foldData.indexOf(startFoldLine);\n            if (i == -1) i = 0;\n            for (i; i < foldData.length; i++) {\n                var foldLine = foldData[i];\n                if (foldLine.end.row >= docRow) {\n                    return foldLine;\n                }\n            }\n            return null;\n        };\n\n        this.getFoldedRowCount = function (first, last) {\n            var foldData = this.$foldData,\n                rowCount = last - first + 1;\n            for (var i = 0; i < foldData.length; i++) {\n                var foldLine = foldData[i],\n                    end = foldLine.end.row,\n                    start = foldLine.start.row;\n                if (end >= last) {\n                    if (start < last) {\n                        if (start >= first) rowCount -= last - start;else rowCount = 0; // in one fold\n                    }\n                    break;\n                } else if (end >= first) {\n                    if (start >= first) // fold inside range\n                        rowCount -= end - start;else rowCount -= end - first + 1;\n                }\n            }\n            return rowCount;\n        };\n\n        this.$addFoldLine = function (foldLine) {\n            this.$foldData.push(foldLine);\n            this.$foldData.sort(function (a, b) {\n                return a.start.row - b.start.row;\n            });\n            return foldLine;\n        };\n        this.addFold = function (placeholder, range) {\n            var foldData = this.$foldData;\n            var added = false;\n            var fold;\n\n            if (placeholder instanceof Fold) fold = placeholder;else {\n                fold = new Fold(range, placeholder);\n                fold.collapseChildren = range.collapseChildren;\n            }\n            this.$clipRangeToDocument(fold.range);\n\n            var startRow = fold.start.row;\n            var startColumn = fold.start.column;\n            var endRow = fold.end.row;\n            var endColumn = fold.end.column;\n            if (!(startRow < endRow || startRow == endRow && startColumn <= endColumn - 2)) throw new Error(\"The range has to be at least 2 characters width\");\n\n            var startFold = this.getFoldAt(startRow, startColumn, 1);\n            var endFold = this.getFoldAt(endRow, endColumn, -1);\n            if (startFold && endFold == startFold) return startFold.addSubFold(fold);\n\n            if (startFold && !startFold.range.isStart(startRow, startColumn)) this.removeFold(startFold);\n\n            if (endFold && !endFold.range.isEnd(endRow, endColumn)) this.removeFold(endFold);\n            var folds = this.getFoldsInRange(fold.range);\n            if (folds.length > 0) {\n                this.removeFolds(folds);\n                folds.forEach(function (subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n\n            for (var i = 0; i < foldData.length; i++) {\n                var foldLine = foldData[i];\n                if (endRow == foldLine.start.row) {\n                    foldLine.addFold(fold);\n                    added = true;\n                    break;\n                } else if (startRow == foldLine.end.row) {\n                    foldLine.addFold(fold);\n                    added = true;\n                    if (!fold.sameRow) {\n                        var foldLineNext = foldData[i + 1];\n                        if (foldLineNext && foldLineNext.start.row == endRow) {\n                            foldLine.merge(foldLineNext);\n                            break;\n                        }\n                    }\n                    break;\n                } else if (endRow <= foldLine.start.row) {\n                    break;\n                }\n            }\n\n            if (!added) foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n            if (this.$useWrapMode) this.$updateWrapData(foldLine.start.row, foldLine.start.row);else this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n            this.$modified = true;\n            this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n            return fold;\n        };\n\n        this.addFolds = function (folds) {\n            folds.forEach(function (fold) {\n                this.addFold(fold);\n            }, this);\n        };\n\n        this.removeFold = function (fold) {\n            var foldLine = fold.foldLine;\n            var startRow = foldLine.start.row;\n            var endRow = foldLine.end.row;\n\n            var foldLines = this.$foldData;\n            var folds = foldLine.folds;\n            if (folds.length == 1) {\n                foldLines.splice(foldLines.indexOf(foldLine), 1);\n            } else if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n                folds.pop();\n                foldLine.end.row = folds[folds.length - 1].end.row;\n                foldLine.end.column = folds[folds.length - 1].end.column;\n            } else if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n                folds.shift();\n                foldLine.start.row = folds[0].start.row;\n                foldLine.start.column = folds[0].start.column;\n            } else if (fold.sameRow) {\n                folds.splice(folds.indexOf(fold), 1);\n            } else {\n                var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n                folds = newFoldLine.folds;\n                folds.shift();\n                newFoldLine.start.row = folds[0].start.row;\n                newFoldLine.start.column = folds[0].start.column;\n            }\n\n            if (!this.$updating) {\n                if (this.$useWrapMode) this.$updateWrapData(startRow, endRow);else this.$updateRowLengthCache(startRow, endRow);\n            }\n            this.$modified = true;\n            this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n        };\n\n        this.removeFolds = function (folds) {\n            var cloneFolds = [];\n            for (var i = 0; i < folds.length; i++) {\n                cloneFolds.push(folds[i]);\n            }\n\n            cloneFolds.forEach(function (fold) {\n                this.removeFold(fold);\n            }, this);\n            this.$modified = true;\n        };\n\n        this.expandFold = function (fold) {\n            this.removeFold(fold);\n            fold.subFolds.forEach(function (subFold) {\n                fold.restoreRange(subFold);\n                this.addFold(subFold);\n            }, this);\n            if (fold.collapseChildren > 0) {\n                this.foldAll(fold.start.row + 1, fold.end.row, fold.collapseChildren - 1);\n            }\n            fold.subFolds = [];\n        };\n\n        this.expandFolds = function (folds) {\n            folds.forEach(function (fold) {\n                this.expandFold(fold);\n            }, this);\n        };\n\n        this.unfold = function (location, expandInner) {\n            var range, folds;\n            if (location == null) {\n                range = new Range(0, 0, this.getLength(), 0);\n                expandInner = true;\n            } else if (typeof location == \"number\") range = new Range(location, 0, location, this.getLine(location).length);else if (\"row\" in location) range = Range.fromPoints(location, location);else range = location;\n\n            folds = this.getFoldsInRangeList(range);\n            if (expandInner) {\n                this.removeFolds(folds);\n            } else {\n                var subFolds = folds;\n                while (subFolds.length) {\n                    this.expandFolds(subFolds);\n                    subFolds = this.getFoldsInRangeList(range);\n                }\n            }\n            if (folds.length) return folds;\n        };\n        this.isRowFolded = function (docRow, startFoldRow) {\n            return !!this.getFoldLine(docRow, startFoldRow);\n        };\n\n        this.getRowFoldEnd = function (docRow, startFoldRow) {\n            var foldLine = this.getFoldLine(docRow, startFoldRow);\n            return foldLine ? foldLine.end.row : docRow;\n        };\n\n        this.getRowFoldStart = function (docRow, startFoldRow) {\n            var foldLine = this.getFoldLine(docRow, startFoldRow);\n            return foldLine ? foldLine.start.row : docRow;\n        };\n\n        this.getFoldDisplayLine = function (foldLine, endRow, endColumn, startRow, startColumn) {\n            if (startRow == null) startRow = foldLine.start.row;\n            if (startColumn == null) startColumn = 0;\n            if (endRow == null) endRow = foldLine.end.row;\n            if (endColumn == null) endColumn = this.getLine(endRow).length;\n            var doc = this.doc;\n            var textLine = \"\";\n\n            foldLine.walk(function (placeholder, row, column, lastColumn) {\n                if (row < startRow) return;\n                if (row == startRow) {\n                    if (column < startColumn) return;\n                    lastColumn = Math.max(startColumn, lastColumn);\n                }\n\n                if (placeholder != null) {\n                    textLine += placeholder;\n                } else {\n                    textLine += doc.getLine(row).substring(lastColumn, column);\n                }\n            }, endRow, endColumn);\n            return textLine;\n        };\n\n        this.getDisplayLine = function (row, endColumn, startRow, startColumn) {\n            var foldLine = this.getFoldLine(row);\n\n            if (!foldLine) {\n                var line;\n                line = this.doc.getLine(row);\n                return line.substring(startColumn || 0, endColumn || line.length);\n            } else {\n                return this.getFoldDisplayLine(foldLine, row, endColumn, startRow, startColumn);\n            }\n        };\n\n        this.$cloneFoldData = function () {\n            var fd = [];\n            fd = this.$foldData.map(function (foldLine) {\n                var folds = foldLine.folds.map(function (fold) {\n                    return fold.clone();\n                });\n                return new FoldLine(fd, folds);\n            });\n\n            return fd;\n        };\n\n        this.toggleFold = function (tryToUnfold) {\n            var selection = this.selection;\n            var range = selection.getRange();\n            var fold;\n            var bracketPos;\n\n            if (range.isEmpty()) {\n                var cursor = range.start;\n                fold = this.getFoldAt(cursor.row, cursor.column);\n\n                if (fold) {\n                    this.expandFold(fold);\n                    return;\n                } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                    if (range.comparePoint(bracketPos) == 1) {\n                        range.end = bracketPos;\n                    } else {\n                        range.start = bracketPos;\n                        range.start.column++;\n                        range.end.column--;\n                    }\n                } else if (bracketPos = this.findMatchingBracket({ row: cursor.row, column: cursor.column + 1 })) {\n                    if (range.comparePoint(bracketPos) == 1) range.end = bracketPos;else range.start = bracketPos;\n\n                    range.start.column++;\n                } else {\n                    range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n                }\n            } else {\n                var folds = this.getFoldsInRange(range);\n                if (tryToUnfold && folds.length) {\n                    this.expandFolds(folds);\n                    return;\n                } else if (folds.length == 1) {\n                    fold = folds[0];\n                }\n            }\n\n            if (!fold) fold = this.getFoldAt(range.start.row, range.start.column);\n\n            if (fold && fold.range.toString() == range.toString()) {\n                this.expandFold(fold);\n                return;\n            }\n\n            var placeholder = \"...\";\n            if (!range.isMultiLine()) {\n                placeholder = this.getTextRange(range);\n                if (placeholder.length < 4) return;\n                placeholder = placeholder.trim().substring(0, 2) + \"..\";\n            }\n\n            this.addFold(placeholder, range);\n        };\n\n        this.getCommentFoldRange = function (row, column, dir) {\n            var iterator = new TokenIterator(this, row, column);\n            var token = iterator.getCurrentToken();\n            var type = token.type;\n            if (token && /^comment|string/.test(type)) {\n                type = type.match(/comment|string/)[0];\n                if (type == \"comment\") type += \"|doc-start\";\n                var re = new RegExp(type);\n                var range = new Range();\n                if (dir != 1) {\n                    do {\n                        token = iterator.stepBackward();\n                    } while (token && re.test(token.type));\n                    iterator.stepForward();\n                }\n\n                range.start.row = iterator.getCurrentTokenRow();\n                range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n                iterator = new TokenIterator(this, row, column);\n\n                if (dir != -1) {\n                    var lastRow = -1;\n                    do {\n                        token = iterator.stepForward();\n                        if (lastRow == -1) {\n                            var state = this.getState(iterator.$row);\n                            if (!re.test(state)) lastRow = iterator.$row;\n                        } else if (iterator.$row > lastRow) {\n                            break;\n                        }\n                    } while (token && re.test(token.type));\n                    token = iterator.stepBackward();\n                } else token = iterator.getCurrentToken();\n\n                range.end.row = iterator.getCurrentTokenRow();\n                range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n                return range;\n            }\n        };\n\n        this.foldAll = function (startRow, endRow, depth) {\n            if (depth == undefined) depth = 100000; // JSON.stringify doesn't hanle Infinity\n            var foldWidgets = this.foldWidgets;\n            if (!foldWidgets) return; // mode doesn't support folding\n            endRow = endRow || this.getLength();\n            startRow = startRow || 0;\n            for (var row = startRow; row < endRow; row++) {\n                if (foldWidgets[row] == null) foldWidgets[row] = this.getFoldWidget(row);\n                if (foldWidgets[row] != \"start\") continue;\n\n                var range = this.getFoldWidgetRange(row);\n                if (range && range.isMultiLine() && range.end.row <= endRow && range.start.row >= startRow) {\n                    row = range.end.row;\n                    try {\n                        var fold = this.addFold(\"...\", range);\n                        if (fold) fold.collapseChildren = depth;\n                    } catch (e) {}\n                }\n            }\n        };\n        this.$foldStyles = {\n            \"manual\": 1,\n            \"markbegin\": 1,\n            \"markbeginend\": 1\n        };\n        this.$foldStyle = \"markbegin\";\n        this.setFoldStyle = function (style) {\n            if (!this.$foldStyles[style]) throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n\n            if (this.$foldStyle == style) return;\n\n            this.$foldStyle = style;\n\n            if (style == \"manual\") this.unfold();\n            var mode = this.$foldMode;\n            this.$setFolding(null);\n            this.$setFolding(mode);\n        };\n\n        this.$setFolding = function (foldMode) {\n            if (this.$foldMode == foldMode) return;\n\n            this.$foldMode = foldMode;\n\n            this.off('change', this.$updateFoldWidgets);\n            this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n            this._signal(\"changeAnnotation\");\n\n            if (!foldMode || this.$foldStyle == \"manual\") {\n                this.foldWidgets = null;\n                return;\n            }\n\n            this.foldWidgets = [];\n            this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n            this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n\n            this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n            this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n            this.on('change', this.$updateFoldWidgets);\n            this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        };\n\n        this.getParentFoldRangeData = function (row, ignoreCurrent) {\n            var fw = this.foldWidgets;\n            if (!fw || ignoreCurrent && fw[row]) return {};\n\n            var i = row - 1,\n                firstRange;\n            while (i >= 0) {\n                var c = fw[i];\n                if (c == null) c = fw[i] = this.getFoldWidget(i);\n\n                if (c == \"start\") {\n                    var range = this.getFoldWidgetRange(i);\n                    if (!firstRange) firstRange = range;\n                    if (range && range.end.row >= row) break;\n                }\n                i--;\n            }\n\n            return {\n                range: i !== -1 && range,\n                firstRange: firstRange\n            };\n        };\n\n        this.onFoldWidgetClick = function (row, e) {\n            e = e.domEvent;\n            var options = {\n                children: e.shiftKey,\n                all: e.ctrlKey || e.metaKey,\n                siblings: e.altKey\n            };\n\n            var range = this.$toggleFoldWidget(row, options);\n            if (!range) {\n                var el = e.target || e.srcElement;\n                if (el && /ace_fold-widget/.test(el.className)) el.className += \" ace_invalid\";\n            }\n        };\n\n        this.$toggleFoldWidget = function (row, options) {\n            if (!this.getFoldWidget) return;\n            var type = this.getFoldWidget(row);\n            var line = this.getLine(row);\n\n            var dir = type === \"end\" ? -1 : 1;\n            var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n            if (fold) {\n                if (options.children || options.all) this.removeFold(fold);else this.expandFold(fold);\n                return fold;\n            }\n\n            var range = this.getFoldWidgetRange(row, true);\n            if (range && !range.isMultiLine()) {\n                fold = this.getFoldAt(range.start.row, range.start.column, 1);\n                if (fold && range.isEqual(fold.range)) {\n                    this.removeFold(fold);\n                    return fold;\n                }\n            }\n\n            if (options.siblings) {\n                var data = this.getParentFoldRangeData(row);\n                if (data.range) {\n                    var startRow = data.range.start.row + 1;\n                    var endRow = data.range.end.row;\n                }\n                this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n            } else if (options.children) {\n                endRow = range ? range.end.row : this.getLength();\n                this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n            } else if (range) {\n                if (options.all) range.collapseChildren = 10000;\n                this.addFold(\"...\", range);\n            }\n\n            return range;\n        };\n\n        this.toggleFoldWidget = function (toggleParent) {\n            var row = this.selection.getCursor().row;\n            row = this.getRowFoldStart(row);\n            var range = this.$toggleFoldWidget(row, {});\n\n            if (range) return;\n            var data = this.getParentFoldRangeData(row, true);\n            range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n                if (fold) {\n                    this.removeFold(fold);\n                } else {\n                    this.addFold(\"...\", range);\n                }\n            }\n        };\n\n        this.updateFoldWidgets = function (delta) {\n            var firstRow = delta.start.row;\n            var len = delta.end.row - firstRow;\n\n            if (len === 0) {\n                this.foldWidgets[firstRow] = null;\n            } else if (delta.action == 'remove') {\n                this.foldWidgets.splice(firstRow, len + 1, null);\n            } else {\n                var args = Array(len + 1);\n                args.unshift(firstRow, 1);\n                this.foldWidgets.splice.apply(this.foldWidgets, args);\n            }\n        };\n        this.tokenizerUpdateFoldWidgets = function (e) {\n            var rows = e.data;\n            if (rows.first != rows.last) {\n                if (this.foldWidgets.length > rows.first) this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n            }\n        };\n    }\n\n    exports.Folding = Folding;\n});\n\nace.define(\"ace/edit_session/bracket_match\", [\"require\", \"exports\", \"module\", \"ace/token_iterator\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var TokenIterator = acequire(\"../token_iterator\").TokenIterator;\n    var Range = acequire(\"../range\").Range;\n\n    function BracketMatch() {\n\n        this.findMatchingBracket = function (position, chr) {\n            if (position.column == 0) return null;\n\n            var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column - 1);\n            if (charBeforeCursor == \"\") return null;\n\n            var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            if (!match) return null;\n\n            if (match[1]) return this.$findClosingBracket(match[1], position);else return this.$findOpeningBracket(match[2], position);\n        };\n\n        this.getBracketRange = function (pos) {\n            var line = this.getLine(pos.row);\n            var before = true,\n                range;\n\n            var chr = line.charAt(pos.column - 1);\n            var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            if (!match) {\n                chr = line.charAt(pos.column);\n                pos = { row: pos.row, column: pos.column + 1 };\n                match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n                before = false;\n            }\n            if (!match) return null;\n\n            if (match[1]) {\n                var bracketPos = this.$findClosingBracket(match[1], pos);\n                if (!bracketPos) return null;\n                range = Range.fromPoints(pos, bracketPos);\n                if (!before) {\n                    range.end.column++;\n                    range.start.column--;\n                }\n                range.cursor = range.end;\n            } else {\n                var bracketPos = this.$findOpeningBracket(match[2], pos);\n                if (!bracketPos) return null;\n                range = Range.fromPoints(bracketPos, pos);\n                if (!before) {\n                    range.start.column++;\n                    range.end.column--;\n                }\n                range.cursor = range.start;\n            }\n\n            return range;\n        };\n\n        this.$brackets = {\n            \")\": \"(\",\n            \"(\": \")\",\n            \"]\": \"[\",\n            \"[\": \"]\",\n            \"{\": \"}\",\n            \"}\": \"{\"\n        };\n\n        this.$findOpeningBracket = function (bracket, position, typeRe) {\n            var openBracket = this.$brackets[bracket];\n            var depth = 1;\n\n            var iterator = new TokenIterator(this, position.row, position.column);\n            var token = iterator.getCurrentToken();\n            if (!token) token = iterator.stepForward();\n            if (!token) return;\n\n            if (!typeRe) {\n                typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\").replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\") + \")+\");\n            }\n            var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n            var value = token.value;\n\n            while (true) {\n\n                while (valueIndex >= 0) {\n                    var chr = value.charAt(valueIndex);\n                    if (chr == openBracket) {\n                        depth -= 1;\n                        if (depth == 0) {\n                            return { row: iterator.getCurrentTokenRow(),\n                                column: valueIndex + iterator.getCurrentTokenColumn() };\n                        }\n                    } else if (chr == bracket) {\n                        depth += 1;\n                    }\n                    valueIndex -= 1;\n                }\n                do {\n                    token = iterator.stepBackward();\n                } while (token && !typeRe.test(token.type));\n\n                if (token == null) break;\n\n                value = token.value;\n                valueIndex = value.length - 1;\n            }\n\n            return null;\n        };\n\n        this.$findClosingBracket = function (bracket, position, typeRe) {\n            var closingBracket = this.$brackets[bracket];\n            var depth = 1;\n\n            var iterator = new TokenIterator(this, position.row, position.column);\n            var token = iterator.getCurrentToken();\n            if (!token) token = iterator.stepForward();\n            if (!token) return;\n\n            if (!typeRe) {\n                typeRe = new RegExp(\"(\\\\.?\" + token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\").replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\") + \")+\");\n            }\n            var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n            while (true) {\n\n                var value = token.value;\n                var valueLength = value.length;\n                while (valueIndex < valueLength) {\n                    var chr = value.charAt(valueIndex);\n                    if (chr == closingBracket) {\n                        depth -= 1;\n                        if (depth == 0) {\n                            return { row: iterator.getCurrentTokenRow(),\n                                column: valueIndex + iterator.getCurrentTokenColumn() };\n                        }\n                    } else if (chr == bracket) {\n                        depth += 1;\n                    }\n                    valueIndex += 1;\n                }\n                do {\n                    token = iterator.stepForward();\n                } while (token && !typeRe.test(token.type));\n\n                if (token == null) break;\n\n                valueIndex = 0;\n            }\n\n            return null;\n        };\n    }\n    exports.BracketMatch = BracketMatch;\n});\n\nace.define(\"ace/edit_session\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/bidihandler\", \"ace/config\", \"ace/lib/event_emitter\", \"ace/selection\", \"ace/mode/text\", \"ace/range\", \"ace/document\", \"ace/background_tokenizer\", \"ace/search_highlight\", \"ace/edit_session/folding\", \"ace/edit_session/bracket_match\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var lang = acequire(\"./lib/lang\");\n    var BidiHandler = acequire(\"./bidihandler\").BidiHandler;\n    var config = acequire(\"./config\");\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var Selection = acequire(\"./selection\").Selection;\n    var TextMode = acequire(\"./mode/text\").Mode;\n    var Range = acequire(\"./range\").Range;\n    var Document = acequire(\"./document\").Document;\n    var BackgroundTokenizer = acequire(\"./background_tokenizer\").BackgroundTokenizer;\n    var SearchHighlight = acequire(\"./search_highlight\").SearchHighlight;\n\n    var EditSession = function EditSession(text, mode) {\n        this.$breakpoints = [];\n        this.$decorations = [];\n        this.$frontMarkers = {};\n        this.$backMarkers = {};\n        this.$markerId = 1;\n        this.$undoSelect = true;\n\n        this.$foldData = [];\n        this.id = \"session\" + ++EditSession.$uid;\n        this.$foldData.toString = function () {\n            return this.join(\"\\n\");\n        };\n        this.on(\"changeFold\", this.onChangeFold.bind(this));\n        this.$onChange = this.onChange.bind(this);\n\n        if ((typeof text === \"undefined\" ? \"undefined\" : _typeof(text)) != \"object\" || !text.getLine) text = new Document(text);\n\n        this.$bidiHandler = new BidiHandler(this);\n        this.setDocument(text);\n        this.selection = new Selection(this);\n\n        config.resetOptions(this);\n        this.setMode(mode);\n        config._signal(\"session\", this);\n    };\n\n    EditSession.$uid = 0;\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n        this.setDocument = function (doc) {\n            if (this.doc) this.doc.removeListener(\"change\", this.$onChange);\n\n            this.doc = doc;\n            doc.on(\"change\", this.$onChange);\n\n            if (this.bgTokenizer) this.bgTokenizer.setDocument(this.getDocument());\n\n            this.resetCaches();\n        };\n        this.getDocument = function () {\n            return this.doc;\n        };\n        this.$resetRowCache = function (docRow) {\n            if (!docRow) {\n                this.$docRowCache = [];\n                this.$screenRowCache = [];\n                return;\n            }\n            var l = this.$docRowCache.length;\n            var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n            if (l > i) {\n                this.$docRowCache.splice(i, l);\n                this.$screenRowCache.splice(i, l);\n            }\n        };\n\n        this.$getRowCacheIndex = function (cacheArray, val) {\n            var low = 0;\n            var hi = cacheArray.length - 1;\n\n            while (low <= hi) {\n                var mid = low + hi >> 1;\n                var c = cacheArray[mid];\n\n                if (val > c) low = mid + 1;else if (val < c) hi = mid - 1;else return mid;\n            }\n\n            return low - 1;\n        };\n\n        this.resetCaches = function () {\n            this.$modified = true;\n            this.$wrapData = [];\n            this.$rowLengthCache = [];\n            this.$resetRowCache(0);\n            if (this.bgTokenizer) this.bgTokenizer.start(0);\n        };\n\n        this.onChangeFold = function (e) {\n            var fold = e.data;\n            this.$resetRowCache(fold.start.row);\n        };\n\n        this.onChange = function (delta) {\n            this.$modified = true;\n            this.$bidiHandler.onChange(delta);\n            this.$resetRowCache(delta.start.row);\n\n            var removedFolds = this.$updateInternalDataOnChange(delta);\n            if (!this.$fromUndo && this.$undoManager && !delta.ignore) {\n                this.$deltasDoc.push(delta);\n                if (removedFolds && removedFolds.length != 0) {\n                    this.$deltasFold.push({\n                        action: \"removeFolds\",\n                        folds: removedFolds\n                    });\n                }\n\n                this.$informUndoManager.schedule();\n            }\n\n            this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n            this._signal(\"change\", delta);\n        };\n        this.setValue = function (text) {\n            this.doc.setValue(text);\n            this.selection.moveTo(0, 0);\n\n            this.$resetRowCache(0);\n            this.$deltas = [];\n            this.$deltasDoc = [];\n            this.$deltasFold = [];\n            this.setUndoManager(this.$undoManager);\n            this.getUndoManager().reset();\n        };\n        this.getValue = this.toString = function () {\n            return this.doc.getValue();\n        };\n        this.getSelection = function () {\n            return this.selection;\n        };\n        this.getState = function (row) {\n            return this.bgTokenizer.getState(row);\n        };\n        this.getTokens = function (row) {\n            return this.bgTokenizer.getTokens(row);\n        };\n        this.getTokenAt = function (row, column) {\n            var tokens = this.bgTokenizer.getTokens(row);\n            var token,\n                c = 0;\n            if (column == null) {\n                var i = tokens.length - 1;\n                c = this.getLine(row).length;\n            } else {\n                for (var i = 0; i < tokens.length; i++) {\n                    c += tokens[i].value.length;\n                    if (c >= column) break;\n                }\n            }\n            token = tokens[i];\n            if (!token) return null;\n            token.index = i;\n            token.start = c - token.value.length;\n            return token;\n        };\n        this.setUndoManager = function (undoManager) {\n            this.$undoManager = undoManager;\n            this.$deltas = [];\n            this.$deltasDoc = [];\n            this.$deltasFold = [];\n\n            if (this.$informUndoManager) this.$informUndoManager.cancel();\n\n            if (undoManager) {\n                var self = this;\n\n                this.$syncInformUndoManager = function () {\n                    self.$informUndoManager.cancel();\n\n                    if (self.$deltasFold.length) {\n                        self.$deltas.push({\n                            group: \"fold\",\n                            deltas: self.$deltasFold\n                        });\n                        self.$deltasFold = [];\n                    }\n\n                    if (self.$deltasDoc.length) {\n                        self.$deltas.push({\n                            group: \"doc\",\n                            deltas: self.$deltasDoc\n                        });\n                        self.$deltasDoc = [];\n                    }\n\n                    if (self.$deltas.length > 0) {\n                        undoManager.execute({\n                            action: \"aceupdate\",\n                            args: [self.$deltas, self],\n                            merge: self.mergeUndoDeltas\n                        });\n                    }\n                    self.mergeUndoDeltas = false;\n                    self.$deltas = [];\n                };\n                this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n            }\n        };\n        this.markUndoGroup = function () {\n            if (this.$syncInformUndoManager) this.$syncInformUndoManager();\n        };\n\n        this.$defaultUndoManager = {\n            undo: function undo() {},\n            redo: function redo() {},\n            reset: function reset() {}\n        };\n        this.getUndoManager = function () {\n            return this.$undoManager || this.$defaultUndoManager;\n        };\n        this.getTabString = function () {\n            if (this.getUseSoftTabs()) {\n                return lang.stringRepeat(\" \", this.getTabSize());\n            } else {\n                return \"\\t\";\n            }\n        };\n        this.setUseSoftTabs = function (val) {\n            this.setOption(\"useSoftTabs\", val);\n        };\n        this.getUseSoftTabs = function () {\n            return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n        };\n        this.setTabSize = function (tabSize) {\n            this.setOption(\"tabSize\", tabSize);\n        };\n        this.getTabSize = function () {\n            return this.$tabSize;\n        };\n        this.isTabStop = function (position) {\n            return this.$useSoftTabs && position.column % this.$tabSize === 0;\n        };\n        this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n            this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n        };\n        this.getNavigateWithinSoftTabs = function () {\n            return this.$navigateWithinSoftTabs;\n        };\n\n        this.$overwrite = false;\n        this.setOverwrite = function (overwrite) {\n            this.setOption(\"overwrite\", overwrite);\n        };\n        this.getOverwrite = function () {\n            return this.$overwrite;\n        };\n        this.toggleOverwrite = function () {\n            this.setOverwrite(!this.$overwrite);\n        };\n        this.addGutterDecoration = function (row, className) {\n            if (!this.$decorations[row]) this.$decorations[row] = \"\";\n            this.$decorations[row] += \" \" + className;\n            this._signal(\"changeBreakpoint\", {});\n        };\n        this.removeGutterDecoration = function (row, className) {\n            this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n            this._signal(\"changeBreakpoint\", {});\n        };\n        this.getBreakpoints = function () {\n            return this.$breakpoints;\n        };\n        this.setBreakpoints = function (rows) {\n            this.$breakpoints = [];\n            for (var i = 0; i < rows.length; i++) {\n                this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n            }\n            this._signal(\"changeBreakpoint\", {});\n        };\n        this.clearBreakpoints = function () {\n            this.$breakpoints = [];\n            this._signal(\"changeBreakpoint\", {});\n        };\n        this.setBreakpoint = function (row, className) {\n            if (className === undefined) className = \"ace_breakpoint\";\n            if (className) this.$breakpoints[row] = className;else delete this.$breakpoints[row];\n            this._signal(\"changeBreakpoint\", {});\n        };\n        this.clearBreakpoint = function (row) {\n            delete this.$breakpoints[row];\n            this._signal(\"changeBreakpoint\", {});\n        };\n        this.addMarker = function (range, clazz, type, inFront) {\n            var id = this.$markerId++;\n\n            var marker = {\n                range: range,\n                type: type || \"line\",\n                renderer: typeof type == \"function\" ? type : null,\n                clazz: clazz,\n                inFront: !!inFront,\n                id: id\n            };\n\n            if (inFront) {\n                this.$frontMarkers[id] = marker;\n                this._signal(\"changeFrontMarker\");\n            } else {\n                this.$backMarkers[id] = marker;\n                this._signal(\"changeBackMarker\");\n            }\n\n            return id;\n        };\n        this.addDynamicMarker = function (marker, inFront) {\n            if (!marker.update) return;\n            var id = this.$markerId++;\n            marker.id = id;\n            marker.inFront = !!inFront;\n\n            if (inFront) {\n                this.$frontMarkers[id] = marker;\n                this._signal(\"changeFrontMarker\");\n            } else {\n                this.$backMarkers[id] = marker;\n                this._signal(\"changeBackMarker\");\n            }\n\n            return marker;\n        };\n        this.removeMarker = function (markerId) {\n            var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n            if (!marker) return;\n\n            var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n            if (marker) {\n                delete markers[markerId];\n                this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n            }\n        };\n        this.getMarkers = function (inFront) {\n            return inFront ? this.$frontMarkers : this.$backMarkers;\n        };\n\n        this.highlight = function (re) {\n            if (!this.$searchHighlight) {\n                var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n                this.$searchHighlight = this.addDynamicMarker(highlight);\n            }\n            this.$searchHighlight.setRegexp(re);\n        };\n        this.highlightLines = function (startRow, endRow, clazz, inFront) {\n            if (typeof endRow != \"number\") {\n                clazz = endRow;\n                endRow = startRow;\n            }\n            if (!clazz) clazz = \"ace_step\";\n\n            var range = new Range(startRow, 0, endRow, Infinity);\n            range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n            return range;\n        };\n        this.setAnnotations = function (annotations) {\n            this.$annotations = annotations;\n            this._signal(\"changeAnnotation\", {});\n        };\n        this.getAnnotations = function () {\n            return this.$annotations || [];\n        };\n        this.clearAnnotations = function () {\n            this.setAnnotations([]);\n        };\n        this.$detectNewLine = function (text) {\n            var match = text.match(/^.*?(\\r?\\n)/m);\n            if (match) {\n                this.$autoNewLine = match[1];\n            } else {\n                this.$autoNewLine = \"\\n\";\n            }\n        };\n        this.getWordRange = function (row, column) {\n            var line = this.getLine(row);\n\n            var inToken = false;\n            if (column > 0) inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n            if (!inToken) inToken = !!line.charAt(column).match(this.tokenRe);\n\n            if (inToken) var re = this.tokenRe;else if (/^\\s+$/.test(line.slice(column - 1, column + 1))) var re = /\\s/;else var re = this.nonTokenRe;\n\n            var start = column;\n            if (start > 0) {\n                do {\n                    start--;\n                } while (start >= 0 && line.charAt(start).match(re));\n                start++;\n            }\n\n            var end = column;\n            while (end < line.length && line.charAt(end).match(re)) {\n                end++;\n            }\n\n            return new Range(row, start, row, end);\n        };\n        this.getAWordRange = function (row, column) {\n            var wordRange = this.getWordRange(row, column);\n            var line = this.getLine(wordRange.end.row);\n\n            while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n                wordRange.end.column += 1;\n            }\n            return wordRange;\n        };\n        this.setNewLineMode = function (newLineMode) {\n            this.doc.setNewLineMode(newLineMode);\n        };\n        this.getNewLineMode = function () {\n            return this.doc.getNewLineMode();\n        };\n        this.setUseWorker = function (useWorker) {\n            this.setOption(\"useWorker\", useWorker);\n        };\n        this.getUseWorker = function () {\n            return this.$useWorker;\n        };\n        this.onReloadTokenizer = function (e) {\n            var rows = e.data;\n            this.bgTokenizer.start(rows.first);\n            this._signal(\"tokenizerUpdate\", e);\n        };\n\n        this.$modes = {};\n        this.$mode = null;\n        this.$modeId = null;\n        this.setMode = function (mode, cb) {\n            if (mode && (typeof mode === \"undefined\" ? \"undefined\" : _typeof(mode)) === \"object\") {\n                if (mode.getTokenizer) return this.$onChangeMode(mode);\n                var options = mode;\n                var path = options.path;\n            } else {\n                path = mode || \"ace/mode/text\";\n            }\n            if (!this.$modes[\"ace/mode/text\"]) this.$modes[\"ace/mode/text\"] = new TextMode();\n\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n                cb && cb();\n                return;\n            }\n            this.$modeId = path;\n            config.loadModule([\"mode\", path], function (m) {\n                if (this.$modeId !== path) return cb && cb();\n                if (this.$modes[path] && !options) {\n                    this.$onChangeMode(this.$modes[path]);\n                } else if (m && m.Mode) {\n                    m = new m.Mode(options);\n                    if (!options) {\n                        this.$modes[path] = m;\n                        m.$id = path;\n                    }\n                    this.$onChangeMode(m);\n                }\n                cb && cb();\n            }.bind(this));\n            if (!this.$mode) this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n        };\n\n        this.$onChangeMode = function (mode, $isPlaceholder) {\n            if (!$isPlaceholder) this.$modeId = mode.$id;\n            if (this.$mode === mode) return;\n\n            this.$mode = mode;\n\n            this.$stopWorker();\n\n            if (this.$useWorker) this.$startWorker();\n\n            var tokenizer = mode.getTokenizer();\n\n            if (tokenizer.addEventListener !== undefined) {\n                var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n                tokenizer.addEventListener(\"update\", onReloadTokenizer);\n            }\n\n            if (!this.bgTokenizer) {\n                this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n                var _self = this;\n                this.bgTokenizer.addEventListener(\"update\", function (e) {\n                    _self._signal(\"tokenizerUpdate\", e);\n                });\n            } else {\n                this.bgTokenizer.setTokenizer(tokenizer);\n            }\n\n            this.bgTokenizer.setDocument(this.getDocument());\n\n            this.tokenRe = mode.tokenRe;\n            this.nonTokenRe = mode.nonTokenRe;\n\n            if (!$isPlaceholder) {\n                if (mode.attachToSession) mode.attachToSession(this);\n                this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n                this.$setFolding(mode.foldingRules);\n                this.bgTokenizer.start(0);\n                this._emit(\"changeMode\");\n            }\n        };\n\n        this.$stopWorker = function () {\n            if (this.$worker) {\n                this.$worker.terminate();\n                this.$worker = null;\n            }\n        };\n\n        this.$startWorker = function () {\n            try {\n                this.$worker = this.$mode.createWorker(this);\n            } catch (e) {\n                config.warn(\"Could not load worker\", e);\n                this.$worker = null;\n            }\n        };\n        this.getMode = function () {\n            return this.$mode;\n        };\n\n        this.$scrollTop = 0;\n        this.setScrollTop = function (scrollTop) {\n            if (this.$scrollTop === scrollTop || isNaN(scrollTop)) return;\n\n            this.$scrollTop = scrollTop;\n            this._signal(\"changeScrollTop\", scrollTop);\n        };\n        this.getScrollTop = function () {\n            return this.$scrollTop;\n        };\n\n        this.$scrollLeft = 0;\n        this.setScrollLeft = function (scrollLeft) {\n            if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft)) return;\n\n            this.$scrollLeft = scrollLeft;\n            this._signal(\"changeScrollLeft\", scrollLeft);\n        };\n        this.getScrollLeft = function () {\n            return this.$scrollLeft;\n        };\n        this.getScreenWidth = function () {\n            this.$computeWidth();\n            if (this.lineWidgets) return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n            return this.screenWidth;\n        };\n\n        this.getLineWidgetMaxWidth = function () {\n            if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n            var width = 0;\n            this.lineWidgets.forEach(function (w) {\n                if (w && w.screenWidth > width) width = w.screenWidth;\n            });\n            return this.lineWidgetWidth = width;\n        };\n\n        this.$computeWidth = function (force) {\n            if (this.$modified || force) {\n                this.$modified = false;\n\n                if (this.$useWrapMode) return this.screenWidth = this.$wrapLimit;\n\n                var lines = this.doc.getAllLines();\n                var cache = this.$rowLengthCache;\n                var longestScreenLine = 0;\n                var foldIndex = 0;\n                var foldLine = this.$foldData[foldIndex];\n                var foldStart = foldLine ? foldLine.start.row : Infinity;\n                var len = lines.length;\n\n                for (var i = 0; i < len; i++) {\n                    if (i > foldStart) {\n                        i = foldLine.end.row + 1;\n                        if (i >= len) break;\n                        foldLine = this.$foldData[foldIndex++];\n                        foldStart = foldLine ? foldLine.start.row : Infinity;\n                    }\n\n                    if (cache[i] == null) cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                    if (cache[i] > longestScreenLine) longestScreenLine = cache[i];\n                }\n                this.screenWidth = longestScreenLine;\n            }\n        };\n        this.getLine = function (row) {\n            return this.doc.getLine(row);\n        };\n        this.getLines = function (firstRow, lastRow) {\n            return this.doc.getLines(firstRow, lastRow);\n        };\n        this.getLength = function () {\n            return this.doc.getLength();\n        };\n        this.getTextRange = function (range) {\n            return this.doc.getTextRange(range || this.selection.getRange());\n        };\n        this.insert = function (position, text) {\n            return this.doc.insert(position, text);\n        };\n        this.remove = function (range) {\n            return this.doc.remove(range);\n        };\n        this.removeFullLines = function (firstRow, lastRow) {\n            return this.doc.removeFullLines(firstRow, lastRow);\n        };\n        this.undoChanges = function (deltas, dontSelect) {\n            if (!deltas.length) return;\n\n            this.$fromUndo = true;\n            var lastUndoRange = null;\n            for (var i = deltas.length - 1; i != -1; i--) {\n                var delta = deltas[i];\n                if (delta.group == \"doc\") {\n                    this.doc.revertDeltas(delta.deltas);\n                    lastUndoRange = this.$getUndoSelection(delta.deltas, true, lastUndoRange);\n                } else {\n                    delta.deltas.forEach(function (foldDelta) {\n                        this.addFolds(foldDelta.folds);\n                    }, this);\n                }\n            }\n            this.$fromUndo = false;\n            lastUndoRange && this.$undoSelect && !dontSelect && this.selection.setSelectionRange(lastUndoRange);\n            return lastUndoRange;\n        };\n        this.redoChanges = function (deltas, dontSelect) {\n            if (!deltas.length) return;\n\n            this.$fromUndo = true;\n            var lastUndoRange = null;\n            for (var i = 0; i < deltas.length; i++) {\n                var delta = deltas[i];\n                if (delta.group == \"doc\") {\n                    this.doc.applyDeltas(delta.deltas);\n                    lastUndoRange = this.$getUndoSelection(delta.deltas, false, lastUndoRange);\n                }\n            }\n            this.$fromUndo = false;\n            lastUndoRange && this.$undoSelect && !dontSelect && this.selection.setSelectionRange(lastUndoRange);\n            return lastUndoRange;\n        };\n        this.setUndoSelect = function (enable) {\n            this.$undoSelect = enable;\n        };\n\n        this.$getUndoSelection = function (deltas, isUndo, lastUndoRange) {\n            function isInsert(delta) {\n                return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n            }\n\n            var delta = deltas[0];\n            var range, point;\n            var lastDeltaIsInsert = false;\n            if (isInsert(delta)) {\n                range = Range.fromPoints(delta.start, delta.end);\n                lastDeltaIsInsert = true;\n            } else {\n                range = Range.fromPoints(delta.start, delta.start);\n                lastDeltaIsInsert = false;\n            }\n\n            for (var i = 1; i < deltas.length; i++) {\n                delta = deltas[i];\n                if (isInsert(delta)) {\n                    point = delta.start;\n                    if (range.compare(point.row, point.column) == -1) {\n                        range.setStart(point);\n                    }\n                    point = delta.end;\n                    if (range.compare(point.row, point.column) == 1) {\n                        range.setEnd(point);\n                    }\n                    lastDeltaIsInsert = true;\n                } else {\n                    point = delta.start;\n                    if (range.compare(point.row, point.column) == -1) {\n                        range = Range.fromPoints(delta.start, delta.start);\n                    }\n                    lastDeltaIsInsert = false;\n                }\n            }\n            if (lastUndoRange != null) {\n                if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {\n                    lastUndoRange.start.column += range.end.column - range.start.column;\n                    lastUndoRange.end.column += range.end.column - range.start.column;\n                }\n\n                var cmp = lastUndoRange.compareRange(range);\n                if (cmp == 1) {\n                    range.setStart(lastUndoRange.start);\n                } else if (cmp == -1) {\n                    range.setEnd(lastUndoRange.end);\n                }\n            }\n\n            return range;\n        };\n        this.replace = function (range, text) {\n            return this.doc.replace(range, text);\n        };\n        this.moveText = function (fromRange, toPosition, copy) {\n            var text = this.getTextRange(fromRange);\n            var folds = this.getFoldsInRange(fromRange);\n\n            var toRange = Range.fromPoints(toPosition, toPosition);\n            if (!copy) {\n                this.remove(fromRange);\n                var rowDiff = fromRange.start.row - fromRange.end.row;\n                var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n                if (collDiff) {\n                    if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column) toRange.start.column += collDiff;\n                    if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column) toRange.end.column += collDiff;\n                }\n                if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                    toRange.start.row += rowDiff;\n                    toRange.end.row += rowDiff;\n                }\n            }\n\n            toRange.end = this.insert(toRange.start, text);\n            if (folds.length) {\n                var oldStart = fromRange.start;\n                var newStart = toRange.start;\n                var rowDiff = newStart.row - oldStart.row;\n                var collDiff = newStart.column - oldStart.column;\n                this.addFolds(folds.map(function (x) {\n                    x = x.clone();\n                    if (x.start.row == oldStart.row) x.start.column += collDiff;\n                    if (x.end.row == oldStart.row) x.end.column += collDiff;\n                    x.start.row += rowDiff;\n                    x.end.row += rowDiff;\n                    return x;\n                }));\n            }\n\n            return toRange;\n        };\n        this.indentRows = function (startRow, endRow, indentString) {\n            indentString = indentString.replace(/\\t/g, this.getTabString());\n            for (var row = startRow; row <= endRow; row++) {\n                this.doc.insertInLine({ row: row, column: 0 }, indentString);\n            }\n        };\n        this.outdentRows = function (range) {\n            var rowRange = range.collapseRows();\n            var deleteRange = new Range(0, 0, 0, 0);\n            var size = this.getTabSize();\n\n            for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n                var line = this.getLine(i);\n\n                deleteRange.start.row = i;\n                deleteRange.end.row = i;\n                for (var j = 0; j < size; ++j) {\n                    if (line.charAt(j) != ' ') break;\n                }if (j < size && line.charAt(j) == '\\t') {\n                    deleteRange.start.column = j;\n                    deleteRange.end.column = j + 1;\n                } else {\n                    deleteRange.start.column = 0;\n                    deleteRange.end.column = j;\n                }\n                this.remove(deleteRange);\n            }\n        };\n\n        this.$moveLines = function (firstRow, lastRow, dir) {\n            firstRow = this.getRowFoldStart(firstRow);\n            lastRow = this.getRowFoldEnd(lastRow);\n            if (dir < 0) {\n                var row = this.getRowFoldStart(firstRow + dir);\n                if (row < 0) return 0;\n                var diff = row - firstRow;\n            } else if (dir > 0) {\n                var row = this.getRowFoldEnd(lastRow + dir);\n                if (row > this.doc.getLength() - 1) return 0;\n                var diff = row - lastRow;\n            } else {\n                firstRow = this.$clipRowToDocument(firstRow);\n                lastRow = this.$clipRowToDocument(lastRow);\n                var diff = lastRow - firstRow + 1;\n            }\n\n            var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n            var folds = this.getFoldsInRange(range).map(function (x) {\n                x = x.clone();\n                x.start.row += diff;\n                x.end.row += diff;\n                return x;\n            });\n\n            var lines = dir == 0 ? this.doc.getLines(firstRow, lastRow) : this.doc.removeFullLines(firstRow, lastRow);\n            this.doc.insertFullLines(firstRow + diff, lines);\n            folds.length && this.addFolds(folds);\n            return diff;\n        };\n        this.moveLinesUp = function (firstRow, lastRow) {\n            return this.$moveLines(firstRow, lastRow, -1);\n        };\n        this.moveLinesDown = function (firstRow, lastRow) {\n            return this.$moveLines(firstRow, lastRow, 1);\n        };\n        this.duplicateLines = function (firstRow, lastRow) {\n            return this.$moveLines(firstRow, lastRow, 0);\n        };\n\n        this.$clipRowToDocument = function (row) {\n            return Math.max(0, Math.min(row, this.doc.getLength() - 1));\n        };\n\n        this.$clipColumnToRow = function (row, column) {\n            if (column < 0) return 0;\n            return Math.min(this.doc.getLine(row).length, column);\n        };\n\n        this.$clipPositionToDocument = function (row, column) {\n            column = Math.max(0, column);\n\n            if (row < 0) {\n                row = 0;\n                column = 0;\n            } else {\n                var len = this.doc.getLength();\n                if (row >= len) {\n                    row = len - 1;\n                    column = this.doc.getLine(len - 1).length;\n                } else {\n                    column = Math.min(this.doc.getLine(row).length, column);\n                }\n            }\n\n            return {\n                row: row,\n                column: column\n            };\n        };\n\n        this.$clipRangeToDocument = function (range) {\n            if (range.start.row < 0) {\n                range.start.row = 0;\n                range.start.column = 0;\n            } else {\n                range.start.column = this.$clipColumnToRow(range.start.row, range.start.column);\n            }\n\n            var len = this.doc.getLength() - 1;\n            if (range.end.row > len) {\n                range.end.row = len;\n                range.end.column = this.doc.getLine(len).length;\n            } else {\n                range.end.column = this.$clipColumnToRow(range.end.row, range.end.column);\n            }\n            return range;\n        };\n        this.$wrapLimit = 80;\n        this.$useWrapMode = false;\n        this.$wrapLimitRange = {\n            min: null,\n            max: null\n        };\n        this.setUseWrapMode = function (useWrapMode) {\n            if (useWrapMode != this.$useWrapMode) {\n                this.$useWrapMode = useWrapMode;\n                this.$modified = true;\n                this.$resetRowCache(0);\n                if (useWrapMode) {\n                    var len = this.getLength();\n                    this.$wrapData = Array(len);\n                    this.$updateWrapData(0, len - 1);\n                }\n\n                this._signal(\"changeWrapMode\");\n            }\n        };\n        this.getUseWrapMode = function () {\n            return this.$useWrapMode;\n        };\n        this.setWrapLimitRange = function (min, max) {\n            if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n                this.$wrapLimitRange = { min: min, max: max };\n                this.$modified = true;\n                this.$bidiHandler.markAsDirty();\n                if (this.$useWrapMode) this._signal(\"changeWrapMode\");\n            }\n        };\n        this.adjustWrapLimit = function (desiredLimit, $printMargin) {\n            var limits = this.$wrapLimitRange;\n            if (limits.max < 0) limits = { min: $printMargin, max: $printMargin };\n            var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n            if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n                this.$wrapLimit = wrapLimit;\n                this.$modified = true;\n                if (this.$useWrapMode) {\n                    this.$updateWrapData(0, this.getLength() - 1);\n                    this.$resetRowCache(0);\n                    this._signal(\"changeWrapLimit\");\n                }\n                return true;\n            }\n            return false;\n        };\n\n        this.$constrainWrapLimit = function (wrapLimit, min, max) {\n            if (min) wrapLimit = Math.max(min, wrapLimit);\n\n            if (max) wrapLimit = Math.min(max, wrapLimit);\n\n            return wrapLimit;\n        };\n        this.getWrapLimit = function () {\n            return this.$wrapLimit;\n        };\n        this.setWrapLimit = function (limit) {\n            this.setWrapLimitRange(limit, limit);\n        };\n        this.getWrapLimitRange = function () {\n            return {\n                min: this.$wrapLimitRange.min,\n                max: this.$wrapLimitRange.max\n            };\n        };\n\n        this.$updateInternalDataOnChange = function (delta) {\n            var useWrapMode = this.$useWrapMode;\n            var action = delta.action;\n            var start = delta.start;\n            var end = delta.end;\n            var firstRow = start.row;\n            var lastRow = end.row;\n            var len = lastRow - firstRow;\n            var removedFolds = null;\n\n            this.$updating = true;\n            if (len != 0) {\n                if (action === \"remove\") {\n                    this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                    var foldLines = this.$foldData;\n                    removedFolds = this.getFoldsInRange(delta);\n                    this.removeFolds(removedFolds);\n\n                    var foldLine = this.getFoldLine(end.row);\n                    var idx = 0;\n                    if (foldLine) {\n                        foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                        foldLine.shiftRow(-len);\n\n                        var foldLineBefore = this.getFoldLine(firstRow);\n                        if (foldLineBefore && foldLineBefore !== foldLine) {\n                            foldLineBefore.merge(foldLine);\n                            foldLine = foldLineBefore;\n                        }\n                        idx = foldLines.indexOf(foldLine) + 1;\n                    }\n\n                    for (idx; idx < foldLines.length; idx++) {\n                        var foldLine = foldLines[idx];\n                        if (foldLine.start.row >= end.row) {\n                            foldLine.shiftRow(-len);\n                        }\n                    }\n\n                    lastRow = firstRow;\n                } else {\n                    var args = Array(len);\n                    args.unshift(firstRow, 0);\n                    var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                    arr.splice.apply(arr, args);\n                    var foldLines = this.$foldData;\n                    var foldLine = this.getFoldLine(firstRow);\n                    var idx = 0;\n                    if (foldLine) {\n                        var cmp = foldLine.range.compareInside(start.row, start.column);\n                        if (cmp == 0) {\n                            foldLine = foldLine.split(start.row, start.column);\n                            if (foldLine) {\n                                foldLine.shiftRow(len);\n                                foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                            }\n                        } else if (cmp == -1) {\n                            foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                            foldLine.shiftRow(len);\n                        }\n                        idx = foldLines.indexOf(foldLine) + 1;\n                    }\n\n                    for (idx; idx < foldLines.length; idx++) {\n                        var foldLine = foldLines[idx];\n                        if (foldLine.start.row >= firstRow) {\n                            foldLine.shiftRow(len);\n                        }\n                    }\n                }\n            } else {\n                len = Math.abs(delta.start.column - delta.end.column);\n                if (action === \"remove\") {\n                    removedFolds = this.getFoldsInRange(delta);\n                    this.removeFolds(removedFolds);\n\n                    len = -len;\n                }\n                var foldLine = this.getFoldLine(firstRow);\n                if (foldLine) {\n                    foldLine.addRemoveChars(firstRow, start.column, len);\n                }\n            }\n\n            if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n                console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n            }\n            this.$updating = false;\n\n            if (useWrapMode) this.$updateWrapData(firstRow, lastRow);else this.$updateRowLengthCache(firstRow, lastRow);\n\n            return removedFolds;\n        };\n\n        this.$updateRowLengthCache = function (firstRow, lastRow, b) {\n            this.$rowLengthCache[firstRow] = null;\n            this.$rowLengthCache[lastRow] = null;\n        };\n\n        this.$updateWrapData = function (firstRow, lastRow) {\n            var lines = this.doc.getAllLines();\n            var tabSize = this.getTabSize();\n            var wrapData = this.$wrapData;\n            var wrapLimit = this.$wrapLimit;\n            var tokens;\n            var foldLine;\n\n            var row = firstRow;\n            lastRow = Math.min(lastRow, lines.length - 1);\n            while (row <= lastRow) {\n                foldLine = this.getFoldLine(row, foldLine);\n                if (!foldLine) {\n                    tokens = this.$getDisplayTokens(lines[row]);\n                    wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                    row++;\n                } else {\n                    tokens = [];\n                    foldLine.walk(function (placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(lines[row].substring(lastColumn, column), tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this), foldLine.end.row, lines[foldLine.end.row].length + 1);\n\n                    wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                    row = foldLine.end.row + 1;\n                }\n            }\n        };\n        var CHAR = 1,\n            CHAR_EXT = 2,\n            PLACEHOLDER_START = 3,\n            PLACEHOLDER_BODY = 4,\n            PUNCTUATION = 9,\n            SPACE = 10,\n            TAB = 11,\n            TAB_SPACE = 12;\n\n        this.$computeWrapSplits = function (tokens, wrapLimit, tabSize) {\n            if (tokens.length == 0) {\n                return [];\n            }\n\n            var splits = [];\n            var displayLength = tokens.length;\n            var lastSplit = 0,\n                lastDocSplit = 0;\n\n            var isCode = this.$wrapAsCode;\n\n            var indentedSoftWrap = this.$indentedSoftWrap;\n            var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8) || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n            function getWrapIndent() {\n                var indentation = 0;\n                if (maxIndent === 0) return indentation;\n                if (indentedSoftWrap) {\n                    for (var i = 0; i < tokens.length; i++) {\n                        var token = tokens[i];\n                        if (token == SPACE) indentation += 1;else if (token == TAB) indentation += tabSize;else if (token == TAB_SPACE) continue;else break;\n                    }\n                }\n                if (isCode && indentedSoftWrap !== false) indentation += tabSize;\n                return Math.min(indentation, maxIndent);\n            }\n            function addSplit(screenPos) {\n                var displayed = tokens.slice(lastSplit, screenPos);\n                var len = displayed.length;\n                displayed.join(\"\").replace(/12/g, function () {\n                    len -= 1;\n                }).replace(/2/g, function () {\n                    len -= 1;\n                });\n\n                if (!splits.length) {\n                    indent = getWrapIndent();\n                    splits.indent = indent;\n                }\n                lastDocSplit += len;\n                splits.push(lastDocSplit);\n                lastSplit = screenPos;\n            }\n            var indent = 0;\n            while (displayLength - lastSplit > wrapLimit - indent) {\n                var split = lastSplit + wrapLimit - indent;\n                if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                    addSplit(split);\n                    continue;\n                }\n                if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                    for (split; split != lastSplit - 1; split--) {\n                        if (tokens[split] == PLACEHOLDER_START) {\n                            break;\n                        }\n                    }\n                    if (split > lastSplit) {\n                        addSplit(split);\n                        continue;\n                    }\n                    split = lastSplit + wrapLimit;\n                    for (split; split < tokens.length; split++) {\n                        if (tokens[split] != PLACEHOLDER_BODY) {\n                            break;\n                        }\n                    }\n                    if (split == tokens.length) {\n                        break; // Breaks the while-loop.\n                    }\n                    addSplit(split);\n                    continue;\n                }\n                var minSplit = Math.max(split - (wrapLimit - (wrapLimit >> 2)), lastSplit - 1);\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split--;\n                }\n                if (isCode) {\n                    while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                        split--;\n                    }\n                    while (split > minSplit && tokens[split] == PUNCTUATION) {\n                        split--;\n                    }\n                } else {\n                    while (split > minSplit && tokens[split] < SPACE) {\n                        split--;\n                    }\n                }\n                if (split > minSplit) {\n                    addSplit(++split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                if (tokens[split] == CHAR_EXT) split--;\n                addSplit(split - indent);\n            }\n            return splits;\n        };\n        this.$getDisplayTokens = function (str, offset) {\n            var arr = [];\n            var tabSize;\n            offset = offset || 0;\n\n            for (var i = 0; i < str.length; i++) {\n                var c = str.charCodeAt(i);\n                if (c == 9) {\n                    tabSize = this.getScreenTabSize(arr.length + offset);\n                    arr.push(TAB);\n                    for (var n = 1; n < tabSize; n++) {\n                        arr.push(TAB_SPACE);\n                    }\n                } else if (c == 32) {\n                    arr.push(SPACE);\n                } else if (c > 39 && c < 48 || c > 57 && c < 64) {\n                    arr.push(PUNCTUATION);\n                } else if (c >= 0x1100 && isFullWidth(c)) {\n                    arr.push(CHAR, CHAR_EXT);\n                } else {\n                    arr.push(CHAR);\n                }\n            }\n            return arr;\n        };\n        this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn == 0) return [0, 0];\n            if (maxScreenColumn == null) maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n\n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charCodeAt(column);\n                if (c == 9) {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else if (c >= 0x1100 && isFullWidth(c)) {\n                    screenColumn += 2;\n                } else {\n                    screenColumn += 1;\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n\n            return [screenColumn, column];\n        };\n\n        this.lineWidgets = null;\n        this.getRowLength = function (row) {\n            if (this.lineWidgets) var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;else h = 0;\n            if (!this.$useWrapMode || !this.$wrapData[row]) {\n                return 1 + h;\n            } else {\n                return this.$wrapData[row].length + 1 + h;\n            }\n        };\n        this.getRowLineCount = function (row) {\n            if (!this.$useWrapMode || !this.$wrapData[row]) {\n                return 1;\n            } else {\n                return this.$wrapData[row].length + 1;\n            }\n        };\n\n        this.getRowWrapIndent = function (screenRow) {\n            if (this.$useWrapMode) {\n                var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n                var splits = this.$wrapData[pos.row];\n                return splits.length && splits[0] < pos.column ? splits.indent : 0;\n            } else {\n                return 0;\n            }\n        };\n        this.getScreenLastRowColumn = function (screenRow) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            return this.documentToScreenColumn(pos.row, pos.column);\n        };\n        this.getDocumentLastRowColumn = function (docRow, docColumn) {\n            var screenRow = this.documentToScreenRow(docRow, docColumn);\n            return this.getScreenLastRowColumn(screenRow);\n        };\n        this.getDocumentLastRowColumnPosition = function (docRow, docColumn) {\n            var screenRow = this.documentToScreenRow(docRow, docColumn);\n            return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n        };\n        this.getRowSplitData = function (row) {\n            if (!this.$useWrapMode) {\n                return undefined;\n            } else {\n                return this.$wrapData[row];\n            }\n        };\n        this.getScreenTabSize = function (screenColumn) {\n            return this.$tabSize - screenColumn % this.$tabSize;\n        };\n\n        this.screenToDocumentRow = function (screenRow, screenColumn) {\n            return this.screenToDocumentPosition(screenRow, screenColumn).row;\n        };\n\n        this.screenToDocumentColumn = function (screenRow, screenColumn) {\n            return this.screenToDocumentPosition(screenRow, screenColumn).column;\n        };\n        this.screenToDocumentPosition = function (screenRow, screenColumn, offsetX) {\n            if (screenRow < 0) return { row: 0, column: 0 };\n\n            var line;\n            var docRow = 0;\n            var docColumn = 0;\n            var column;\n            var row = 0;\n            var rowLength = 0;\n\n            var rowCache = this.$screenRowCache;\n            var i = this.$getRowCacheIndex(rowCache, screenRow);\n            var l = rowCache.length;\n            if (l && i >= 0) {\n                var row = rowCache[i];\n                var docRow = this.$docRowCache[i];\n                var doCache = screenRow > rowCache[l - 1];\n            } else {\n                var doCache = !l;\n            }\n\n            var maxRow = this.getLength() - 1;\n            var foldLine = this.getNextFoldLine(docRow);\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n            while (row <= screenRow) {\n                rowLength = this.getRowLength(docRow);\n                if (row + rowLength > screenRow || docRow >= maxRow) {\n                    break;\n                } else {\n                    row += rowLength;\n                    docRow++;\n                    if (docRow > foldStart) {\n                        docRow = foldLine.end.row + 1;\n                        foldLine = this.getNextFoldLine(docRow, foldLine);\n                        foldStart = foldLine ? foldLine.start.row : Infinity;\n                    }\n                }\n\n                if (doCache) {\n                    this.$docRowCache.push(docRow);\n                    this.$screenRowCache.push(row);\n                }\n            }\n\n            if (foldLine && foldLine.start.row <= docRow) {\n                line = this.getFoldDisplayLine(foldLine);\n                docRow = foldLine.start.row;\n            } else if (row + rowLength <= screenRow || docRow > maxRow) {\n                return {\n                    row: maxRow,\n                    column: this.getLine(maxRow).length\n                };\n            } else {\n                line = this.getLine(docRow);\n                foldLine = null;\n            }\n            var wrapIndent = 0,\n                splitIndex = Math.floor(screenRow - row);\n            if (this.$useWrapMode) {\n                var splits = this.$wrapData[docRow];\n                if (splits) {\n                    column = splits[splitIndex];\n                    if (splitIndex > 0 && splits.length) {\n                        wrapIndent = splits.indent;\n                        docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                        line = line.substring(docColumn);\n                    }\n                }\n            }\n\n            if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex)) screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n            docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n            if (this.$useWrapMode && docColumn >= column) docColumn = column - 1;\n\n            if (foldLine) return foldLine.idxToPosition(docColumn);\n\n            return { row: docRow, column: docColumn };\n        };\n        this.documentToScreenPosition = function (docRow, docColumn) {\n            if (typeof docColumn === \"undefined\") var pos = this.$clipPositionToDocument(docRow.row, docRow.column);else pos = this.$clipPositionToDocument(docRow, docColumn);\n\n            docRow = pos.row;\n            docColumn = pos.column;\n\n            var screenRow = 0;\n            var foldStartRow = null;\n            var fold = null;\n            fold = this.getFoldAt(docRow, docColumn, 1);\n            if (fold) {\n                docRow = fold.start.row;\n                docColumn = fold.start.column;\n            }\n\n            var rowEnd,\n                row = 0;\n\n            var rowCache = this.$docRowCache;\n            var i = this.$getRowCacheIndex(rowCache, docRow);\n            var l = rowCache.length;\n            if (l && i >= 0) {\n                var row = rowCache[i];\n                var screenRow = this.$screenRowCache[i];\n                var doCache = docRow > rowCache[l - 1];\n            } else {\n                var doCache = !l;\n            }\n\n            var foldLine = this.getNextFoldLine(row);\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n            while (row < docRow) {\n                if (row >= foldStart) {\n                    rowEnd = foldLine.end.row + 1;\n                    if (rowEnd > docRow) break;\n                    foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                } else {\n                    rowEnd = row + 1;\n                }\n\n                screenRow += this.getRowLength(row);\n                row = rowEnd;\n\n                if (doCache) {\n                    this.$docRowCache.push(row);\n                    this.$screenRowCache.push(screenRow);\n                }\n            }\n            var textLine = \"\";\n            if (foldLine && row >= foldStart) {\n                textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n                foldStartRow = foldLine.start.row;\n            } else {\n                textLine = this.getLine(docRow).substring(0, docColumn);\n                foldStartRow = docRow;\n            }\n            var wrapIndent = 0;\n            if (this.$useWrapMode) {\n                var wrapRow = this.$wrapData[foldStartRow];\n                if (wrapRow) {\n                    var screenRowOffset = 0;\n                    while (textLine.length >= wrapRow[screenRowOffset]) {\n                        screenRow++;\n                        screenRowOffset++;\n                    }\n                    textLine = textLine.substring(wrapRow[screenRowOffset - 1] || 0, textLine.length);\n                    wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n                }\n            }\n\n            return {\n                row: screenRow,\n                column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n            };\n        };\n        this.documentToScreenColumn = function (row, docColumn) {\n            return this.documentToScreenPosition(row, docColumn).column;\n        };\n        this.documentToScreenRow = function (docRow, docColumn) {\n            return this.documentToScreenPosition(docRow, docColumn).row;\n        };\n        this.getScreenLength = function () {\n            var screenRows = 0;\n            var fold = null;\n            if (!this.$useWrapMode) {\n                screenRows = this.getLength();\n                var foldData = this.$foldData;\n                for (var i = 0; i < foldData.length; i++) {\n                    fold = foldData[i];\n                    screenRows -= fold.end.row - fold.start.row;\n                }\n            } else {\n                var lastRow = this.$wrapData.length;\n                var row = 0,\n                    i = 0;\n                var fold = this.$foldData[i++];\n                var foldStart = fold ? fold.start.row : Infinity;\n\n                while (row < lastRow) {\n                    var splits = this.$wrapData[row];\n                    screenRows += splits ? splits.length + 1 : 1;\n                    row++;\n                    if (row > foldStart) {\n                        row = fold.end.row + 1;\n                        fold = this.$foldData[i++];\n                        foldStart = fold ? fold.start.row : Infinity;\n                    }\n                }\n            }\n            if (this.lineWidgets) screenRows += this.$getWidgetScreenLength();\n\n            return screenRows;\n        };\n        this.$setFontMetrics = function (fm) {\n            if (!this.$enableVarChar) return;\n            this.$getStringScreenWidth = function (str, maxScreenColumn, screenColumn) {\n                if (maxScreenColumn === 0) return [0, 0];\n                if (!maxScreenColumn) maxScreenColumn = Infinity;\n                screenColumn = screenColumn || 0;\n\n                var c, column;\n                for (column = 0; column < str.length; column++) {\n                    c = str.charAt(column);\n                    if (c === \"\\t\") {\n                        screenColumn += this.getScreenTabSize(screenColumn);\n                    } else {\n                        screenColumn += fm.getCharacterWidth(c);\n                    }\n                    if (screenColumn > maxScreenColumn) {\n                        break;\n                    }\n                }\n\n                return [screenColumn, column];\n            };\n        };\n\n        this.destroy = function () {\n            if (this.bgTokenizer) {\n                this.bgTokenizer.setDocument(null);\n                this.bgTokenizer = null;\n            }\n            this.$stopWorker();\n        };\n\n        this.isFullWidth = isFullWidth;\n        function isFullWidth(c) {\n            if (c < 0x1100) return false;\n            return c >= 0x1100 && c <= 0x115F || c >= 0x11A3 && c <= 0x11A7 || c >= 0x11FA && c <= 0x11FF || c >= 0x2329 && c <= 0x232A || c >= 0x2E80 && c <= 0x2E99 || c >= 0x2E9B && c <= 0x2EF3 || c >= 0x2F00 && c <= 0x2FD5 || c >= 0x2FF0 && c <= 0x2FFB || c >= 0x3000 && c <= 0x303E || c >= 0x3041 && c <= 0x3096 || c >= 0x3099 && c <= 0x30FF || c >= 0x3105 && c <= 0x312D || c >= 0x3131 && c <= 0x318E || c >= 0x3190 && c <= 0x31BA || c >= 0x31C0 && c <= 0x31E3 || c >= 0x31F0 && c <= 0x321E || c >= 0x3220 && c <= 0x3247 || c >= 0x3250 && c <= 0x32FE || c >= 0x3300 && c <= 0x4DBF || c >= 0x4E00 && c <= 0xA48C || c >= 0xA490 && c <= 0xA4C6 || c >= 0xA960 && c <= 0xA97C || c >= 0xAC00 && c <= 0xD7A3 || c >= 0xD7B0 && c <= 0xD7C6 || c >= 0xD7CB && c <= 0xD7FB || c >= 0xF900 && c <= 0xFAFF || c >= 0xFE10 && c <= 0xFE19 || c >= 0xFE30 && c <= 0xFE52 || c >= 0xFE54 && c <= 0xFE66 || c >= 0xFE68 && c <= 0xFE6B || c >= 0xFF01 && c <= 0xFF60 || c >= 0xFFE0 && c <= 0xFFE6;\n        }\n    }).call(EditSession.prototype);\n\n    acequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\n    acequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n    config.defineOptions(EditSession.prototype, \"session\", {\n        wrap: {\n            set: function set(value) {\n                if (!value || value == \"off\") value = false;else if (value == \"free\") value = true;else if (value == \"printMargin\") value = -1;else if (typeof value == \"string\") value = parseInt(value, 10) || false;\n\n                if (this.$wrap == value) return;\n                this.$wrap = value;\n                if (!value) {\n                    this.setUseWrapMode(false);\n                } else {\n                    var col = typeof value == \"number\" ? value : null;\n                    this.setWrapLimitRange(col, col);\n                    this.setUseWrapMode(true);\n                }\n            },\n            get: function get() {\n                if (this.getUseWrapMode()) {\n                    if (this.$wrap == -1) return \"printMargin\";\n                    if (!this.getWrapLimitRange().min) return \"free\";\n                    return this.$wrap;\n                }\n                return \"off\";\n            },\n            handlesSet: true\n        },\n        wrapMethod: {\n            set: function set(val) {\n                val = val == \"auto\" ? this.$mode.type != \"text\" : val != \"text\";\n                if (val != this.$wrapAsCode) {\n                    this.$wrapAsCode = val;\n                    if (this.$useWrapMode) {\n                        this.$modified = true;\n                        this.$resetRowCache(0);\n                        this.$updateWrapData(0, this.getLength() - 1);\n                    }\n                }\n            },\n            initialValue: \"auto\"\n        },\n        indentedSoftWrap: { initialValue: true },\n        firstLineNumber: {\n            set: function set() {\n                this._signal(\"changeBreakpoint\");\n            },\n            initialValue: 1\n        },\n        useWorker: {\n            set: function set(useWorker) {\n                this.$useWorker = useWorker;\n\n                this.$stopWorker();\n                if (useWorker) this.$startWorker();\n            },\n            initialValue: true\n        },\n        useSoftTabs: { initialValue: true },\n        tabSize: {\n            set: function set(tabSize) {\n                if (isNaN(tabSize) || this.$tabSize === tabSize) return;\n\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            },\n            initialValue: 4,\n            handlesSet: true\n        },\n        navigateWithinSoftTabs: { initialValue: false },\n        overwrite: {\n            set: function set(val) {\n                this._signal(\"changeOverwrite\");\n            },\n            initialValue: false\n        },\n        newLineMode: {\n            set: function set(val) {\n                this.doc.setNewLineMode(val);\n            },\n            get: function get() {\n                return this.doc.getNewLineMode();\n            },\n            handlesSet: true\n        },\n        mode: {\n            set: function set(val) {\n                this.setMode(val);\n            },\n            get: function get() {\n                return this.$modeId;\n            }\n        }\n    });\n\n    exports.EditSession = EditSession;\n});\n\nace.define(\"ace/search\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/lib/oop\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var lang = acequire(\"./lib/lang\");\n    var oop = acequire(\"./lib/oop\");\n    var Range = acequire(\"./range\").Range;\n\n    var Search = function Search() {\n        this.$options = {};\n    };\n\n    (function () {\n        this.set = function (options) {\n            oop.mixin(this.$options, options);\n            return this;\n        };\n        this.getOptions = function () {\n            return lang.copyObject(this.$options);\n        };\n        this.setOptions = function (options) {\n            this.$options = options;\n        };\n        this.find = function (session) {\n            var options = this.$options;\n            var iterator = this.$matchIterator(session, options);\n            if (!iterator) return false;\n\n            var firstRange = null;\n            iterator.forEach(function (sr, sc, er, ec) {\n                firstRange = new Range(sr, sc, er, ec);\n                if (sc == ec && options.start && options.start.start && options.skipCurrent != false && firstRange.isEqual(options.start)) {\n                    firstRange = null;\n                    return false;\n                }\n\n                return true;\n            });\n\n            return firstRange;\n        };\n        this.findAll = function (session) {\n            var options = this.$options;\n            if (!options.needle) return [];\n            this.$assembleRegExp(options);\n\n            var range = options.range;\n            var lines = range ? session.getLines(range.start.row, range.end.row) : session.doc.getAllLines();\n\n            var ranges = [];\n            var re = options.re;\n            if (options.$isMultiLine) {\n                var len = re.length;\n                var maxRow = lines.length - len;\n                var prevRange;\n                outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                    for (var j = 0; j < len; j++) {\n                        if (lines[row + j].search(re[j]) == -1) continue outer;\n                    }var startLine = lines[row];\n                    var line = lines[row + len - 1];\n                    var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                    var endIndex = line.match(re[len - 1])[0].length;\n\n                    if (prevRange && prevRange.end.row === row && prevRange.end.column > startIndex) {\n                        continue;\n                    }\n                    ranges.push(prevRange = new Range(row, startIndex, row + len - 1, endIndex));\n                    if (len > 2) row = row + len - 2;\n                }\n            } else {\n                for (var i = 0; i < lines.length; i++) {\n                    var matches = lang.getMatchOffsets(lines[i], re);\n                    for (var j = 0; j < matches.length; j++) {\n                        var match = matches[j];\n                        ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                    }\n                }\n            }\n\n            if (range) {\n                var startColumn = range.start.column;\n                var endColumn = range.start.column;\n                var i = 0,\n                    j = ranges.length - 1;\n                while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row) {\n                    i++;\n                }while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row) {\n                    j--;\n                }ranges = ranges.slice(i, j + 1);\n                for (i = 0, j = ranges.length; i < j; i++) {\n                    ranges[i].start.row += range.start.row;\n                    ranges[i].end.row += range.start.row;\n                }\n            }\n\n            return ranges;\n        };\n        this.replace = function (input, replacement) {\n            var options = this.$options;\n\n            var re = this.$assembleRegExp(options);\n            if (options.$isMultiLine) return replacement;\n\n            if (!re) return;\n\n            var match = re.exec(input);\n            if (!match || match[0].length != input.length) return null;\n\n            replacement = input.replace(re, replacement);\n            if (options.preserveCase) {\n                replacement = replacement.split(\"\");\n                for (var i = Math.min(input.length, input.length); i--;) {\n                    var ch = input[i];\n                    if (ch && ch.toLowerCase() != ch) replacement[i] = replacement[i].toUpperCase();else replacement[i] = replacement[i].toLowerCase();\n                }\n                replacement = replacement.join(\"\");\n            }\n\n            return replacement;\n        };\n\n        this.$assembleRegExp = function (options, $disableFakeMultiline) {\n            if (options.needle instanceof RegExp) return options.re = options.needle;\n\n            var needle = options.needle;\n\n            if (!options.needle) return options.re = false;\n\n            if (!options.regExp) needle = lang.escapeRegExp(needle);\n\n            if (options.wholeWord) needle = addWordBoundary(needle, options);\n\n            var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n            options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n            if (options.$isMultiLine) return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n            try {\n                var re = new RegExp(needle, modifier);\n            } catch (e) {\n                re = false;\n            }\n            return options.re = re;\n        };\n\n        this.$assembleMultilineRegExp = function (needle, modifier) {\n            var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n            var re = [];\n            for (var i = 0; i < parts.length; i++) {\n                try {\n                    re.push(new RegExp(parts[i], modifier));\n                } catch (e) {\n                    return false;\n                }\n            }return re;\n        };\n\n        this.$matchIterator = function (session, options) {\n            var re = this.$assembleRegExp(options);\n            if (!re) return false;\n            var backwards = options.backwards == true;\n            var skipCurrent = options.skipCurrent != false;\n\n            var range = options.range;\n            var start = options.start;\n            if (!start) start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n\n            if (start.start) start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n            var firstRow = range ? range.start.row : 0;\n            var lastRow = range ? range.end.row : session.getLength() - 1;\n\n            if (backwards) {\n                var forEach = function forEach(callback) {\n                    var row = start.row;\n                    if (forEachInLine(row, start.column, callback)) return;\n                    for (row--; row >= firstRow; row--) {\n                        if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n                    }if (options.wrap == false) return;\n                    for (row = lastRow, firstRow = start.row; row >= firstRow; row--) {\n                        if (forEachInLine(row, Number.MAX_VALUE, callback)) return;\n                    }\n                };\n            } else {\n                var forEach = function forEach(callback) {\n                    var row = start.row;\n                    if (forEachInLine(row, start.column, callback)) return;\n                    for (row = row + 1; row <= lastRow; row++) {\n                        if (forEachInLine(row, 0, callback)) return;\n                    }if (options.wrap == false) return;\n                    for (row = firstRow, lastRow = start.row; row <= lastRow; row++) {\n                        if (forEachInLine(row, 0, callback)) return;\n                    }\n                };\n            }\n\n            if (options.$isMultiLine) {\n                var len = re.length;\n                var forEachInLine = function forEachInLine(row, offset, callback) {\n                    var startRow = backwards ? row - len + 1 : row;\n                    if (startRow < 0) return;\n                    var line = session.getLine(startRow);\n                    var startIndex = line.search(re[0]);\n                    if (!backwards && startIndex < offset || startIndex === -1) return;\n                    for (var i = 1; i < len; i++) {\n                        line = session.getLine(startRow + i);\n                        if (line.search(re[i]) == -1) return;\n                    }\n                    var endIndex = line.match(re[len - 1])[0].length;\n                    if (backwards && endIndex > offset) return;\n                    if (callback(startRow, startIndex, startRow + len - 1, endIndex)) return true;\n                };\n            } else if (backwards) {\n                var forEachInLine = function forEachInLine(row, endIndex, callback) {\n                    var line = session.getLine(row);\n                    var matches = [];\n                    var m,\n                        last = 0;\n                    re.lastIndex = 0;\n                    while (m = re.exec(line)) {\n                        var length = m[0].length;\n                        last = m.index;\n                        if (!length) {\n                            if (last >= line.length) break;\n                            re.lastIndex = last += 1;\n                        }\n                        if (m.index + length > endIndex) break;\n                        matches.push(m.index, length);\n                    }\n                    for (var i = matches.length - 1; i >= 0; i -= 2) {\n                        var column = matches[i - 1];\n                        var length = matches[i];\n                        if (callback(row, column, row, column + length)) return true;\n                    }\n                };\n            } else {\n                var forEachInLine = function forEachInLine(row, startIndex, callback) {\n                    var line = session.getLine(row);\n                    var m;\n                    var last = startIndex;\n                    re.lastIndex = startIndex;\n                    while (m = re.exec(line)) {\n                        var length = m[0].length;\n                        last = m.index;\n                        if (callback(row, last, row, last + length)) return true;\n                        if (!length) {\n                            re.lastIndex = last += 1;\n                            if (last >= line.length) return false;\n                        }\n                    }\n                };\n            }\n            return { forEach: forEach };\n        };\n    }).call(Search.prototype);\n\n    function addWordBoundary(needle, options) {\n        function wordBoundary(c) {\n            if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n            return \"\";\n        }\n        return wordBoundary(needle[0]) + needle + wordBoundary(needle[needle.length - 1]);\n    }\n\n    exports.Search = Search;\n});\n\nace.define(\"ace/keyboard/hash_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/keys\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var keyUtil = acequire(\"../lib/keys\");\n    var useragent = acequire(\"../lib/useragent\");\n    var KEY_MODS = keyUtil.KEY_MODS;\n\n    function HashHandler(config, platform) {\n        this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n        this.commands = {};\n        this.commandKeyBinding = {};\n        this.addCommands(config);\n        this.$singleCommand = true;\n    }\n\n    function MultiHashHandler(config, platform) {\n        HashHandler.call(this, config, platform);\n        this.$singleCommand = false;\n    }\n\n    MultiHashHandler.prototype = HashHandler.prototype;\n\n    (function () {\n\n        this.addCommand = function (command) {\n            if (this.commands[command.name]) this.removeCommand(command);\n\n            this.commands[command.name] = command;\n\n            if (command.bindKey) this._buildKeyHash(command);\n        };\n\n        this.removeCommand = function (command, keepCommand) {\n            var name = command && (typeof command === 'string' ? command : command.name);\n            command = this.commands[name];\n            if (!keepCommand) delete this.commands[name];\n            var ckb = this.commandKeyBinding;\n            for (var keyId in ckb) {\n                var cmdGroup = ckb[keyId];\n                if (cmdGroup == command) {\n                    delete ckb[keyId];\n                } else if (Array.isArray(cmdGroup)) {\n                    var i = cmdGroup.indexOf(command);\n                    if (i != -1) {\n                        cmdGroup.splice(i, 1);\n                        if (cmdGroup.length == 1) ckb[keyId] = cmdGroup[0];\n                    }\n                }\n            }\n        };\n\n        this.bindKey = function (key, command, position) {\n            if ((typeof key === \"undefined\" ? \"undefined\" : _typeof(key)) == \"object\" && key) {\n                if (position == undefined) position = key.position;\n                key = key[this.platform];\n            }\n            if (!key) return;\n            if (typeof command == \"function\") return this.addCommand({ exec: command, bindKey: key, name: command.name || key });\n\n            key.split(\"|\").forEach(function (keyPart) {\n                var chain = \"\";\n                if (keyPart.indexOf(\" \") != -1) {\n                    var parts = keyPart.split(/\\s+/);\n                    keyPart = parts.pop();\n                    parts.forEach(function (keyPart) {\n                        var binding = this.parseKeys(keyPart);\n                        var id = KEY_MODS[binding.hashId] + binding.key;\n                        chain += (chain ? \" \" : \"\") + id;\n                        this._addCommandToBinding(chain, \"chainKeys\");\n                    }, this);\n                    chain += \" \";\n                }\n                var binding = this.parseKeys(keyPart);\n                var id = KEY_MODS[binding.hashId] + binding.key;\n                this._addCommandToBinding(chain + id, command, position);\n            }, this);\n        };\n\n        function getPosition(command) {\n            return (typeof command === \"undefined\" ? \"undefined\" : _typeof(command)) == \"object\" && command.bindKey && command.bindKey.position || (command.isDefault ? -100 : 0);\n        }\n        this._addCommandToBinding = function (keyId, command, position) {\n            var ckb = this.commandKeyBinding,\n                i;\n            if (!command) {\n                delete ckb[keyId];\n            } else if (!ckb[keyId] || this.$singleCommand) {\n                ckb[keyId] = command;\n            } else {\n                if (!Array.isArray(ckb[keyId])) {\n                    ckb[keyId] = [ckb[keyId]];\n                } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                    ckb[keyId].splice(i, 1);\n                }\n\n                if (typeof position != \"number\") {\n                    position = getPosition(command);\n                }\n\n                var commands = ckb[keyId];\n                for (i = 0; i < commands.length; i++) {\n                    var other = commands[i];\n                    var otherPos = getPosition(other);\n                    if (otherPos > position) break;\n                }\n                commands.splice(i, 0, command);\n            }\n        };\n\n        this.addCommands = function (commands) {\n            commands && Object.keys(commands).forEach(function (name) {\n                var command = commands[name];\n                if (!command) return;\n\n                if (typeof command === \"string\") return this.bindKey(command, name);\n\n                if (typeof command === \"function\") command = { exec: command };\n\n                if ((typeof command === \"undefined\" ? \"undefined\" : _typeof(command)) !== \"object\") return;\n\n                if (!command.name) command.name = name;\n\n                this.addCommand(command);\n            }, this);\n        };\n\n        this.removeCommands = function (commands) {\n            Object.keys(commands).forEach(function (name) {\n                this.removeCommand(commands[name]);\n            }, this);\n        };\n\n        this.bindKeys = function (keyList) {\n            Object.keys(keyList).forEach(function (key) {\n                this.bindKey(key, keyList[key]);\n            }, this);\n        };\n\n        this._buildKeyHash = function (command) {\n            this.bindKey(command.bindKey, command);\n        };\n        this.parseKeys = function (keys) {\n            var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function (x) {\n                return x;\n            });\n            var key = parts.pop();\n\n            var keyCode = keyUtil[key];\n            if (keyUtil.FUNCTION_KEYS[keyCode]) key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();else if (!parts.length) return { key: key, hashId: -1 };else if (parts.length == 1 && parts[0] == \"shift\") return { key: key.toUpperCase(), hashId: -1 };\n\n            var hashId = 0;\n            for (var i = parts.length; i--;) {\n                var modifier = keyUtil.KEY_MODS[parts[i]];\n                if (modifier == null) {\n                    if (typeof console != \"undefined\") console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                    return false;\n                }\n                hashId |= modifier;\n            }\n            return { key: key, hashId: hashId };\n        };\n\n        this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n            var key = KEY_MODS[hashId] + keyString;\n            return this.commandKeyBinding[key];\n        };\n\n        this.handleKeyboard = function (data, hashId, keyString, keyCode) {\n            if (keyCode < 0) return;\n            var key = KEY_MODS[hashId] + keyString;\n            var command = this.commandKeyBinding[key];\n            if (data.$keyChain) {\n                data.$keyChain += \" \" + key;\n                command = this.commandKeyBinding[data.$keyChain] || command;\n            }\n\n            if (command) {\n                if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                    data.$keyChain = data.$keyChain || key;\n                    return { command: \"null\" };\n                }\n            }\n\n            if (data.$keyChain) {\n                if ((!hashId || hashId == 4) && keyString.length == 1) data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n                else if (hashId == -1 || keyCode > 0) data.$keyChain = \"\"; // reset keyChain\n            }\n            return { command: command };\n        };\n\n        this.getStatusText = function (editor, data) {\n            return data.$keyChain || \"\";\n        };\n    }).call(HashHandler.prototype);\n\n    exports.HashHandler = HashHandler;\n    exports.MultiHashHandler = MultiHashHandler;\n});\n\nace.define(\"ace/commands/command_manager\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/keyboard/hash_handler\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"../lib/oop\");\n    var MultiHashHandler = acequire(\"../keyboard/hash_handler\").MultiHashHandler;\n    var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\n    var CommandManager = function CommandManager(platform, commands) {\n        MultiHashHandler.call(this, commands, platform);\n        this.byName = this.commands;\n        this.setDefaultHandler(\"exec\", function (e) {\n            return e.command.exec(e.editor, e.args || {});\n        });\n    };\n\n    oop.inherits(CommandManager, MultiHashHandler);\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n\n        this.exec = function (command, editor, args) {\n            if (Array.isArray(command)) {\n                for (var i = command.length; i--;) {\n                    if (this.exec(command[i], editor, args)) return true;\n                }\n                return false;\n            }\n\n            if (typeof command === \"string\") command = this.commands[command];\n\n            if (!command) return false;\n\n            if (editor && editor.$readOnly && !command.readOnly) return false;\n\n            if (command.isAvailable && !command.isAvailable(editor)) return false;\n\n            var e = { editor: editor, command: command, args: args };\n            e.returnValue = this._emit(\"exec\", e);\n            this._signal(\"afterExec\", e);\n\n            return e.returnValue === false ? false : true;\n        };\n\n        this.toggleRecording = function (editor) {\n            if (this.$inReplay) return;\n\n            editor && editor._emit(\"changeStatus\");\n            if (this.recording) {\n                this.macro.pop();\n                this.removeEventListener(\"exec\", this.$addCommandToMacro);\n\n                if (!this.macro.length) this.macro = this.oldMacro;\n\n                return this.recording = false;\n            }\n            if (!this.$addCommandToMacro) {\n                this.$addCommandToMacro = function (e) {\n                    this.macro.push([e.command, e.args]);\n                }.bind(this);\n            }\n\n            this.oldMacro = this.macro;\n            this.macro = [];\n            this.on(\"exec\", this.$addCommandToMacro);\n            return this.recording = true;\n        };\n\n        this.replay = function (editor) {\n            if (this.$inReplay || !this.macro) return;\n\n            if (this.recording) return this.toggleRecording(editor);\n\n            try {\n                this.$inReplay = true;\n                this.macro.forEach(function (x) {\n                    if (typeof x == \"string\") this.exec(x, editor);else this.exec(x[0], editor, x[1]);\n                }, this);\n            } finally {\n                this.$inReplay = false;\n            }\n        };\n\n        this.trimMacro = function (m) {\n            return m.map(function (x) {\n                if (typeof x[0] != \"string\") x[0] = x[0].name;\n                if (!x[1]) x = x[0];\n                return x;\n            });\n        };\n    }).call(CommandManager.prototype);\n\n    exports.CommandManager = CommandManager;\n});\n\nace.define(\"ace/commands/default_commands\", [\"require\", \"exports\", \"module\", \"ace/lib/lang\", \"ace/config\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var lang = acequire(\"../lib/lang\");\n    var config = acequire(\"../config\");\n    var Range = acequire(\"../range\").Range;\n\n    function bindKey(win, mac) {\n        return { win: win, mac: mac };\n    }\n    exports.commands = [{\n        name: \"showSettingsMenu\",\n        bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n        exec: function exec(editor) {\n            config.loadModule(\"ace/ext/settings_menu\", function (module) {\n                module.init(editor);\n                editor.showSettingsMenu();\n            });\n        },\n        readOnly: true\n    }, {\n        name: \"goToNextError\",\n        bindKey: bindKey(\"Alt-E\", \"F4\"),\n        exec: function exec(editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, 1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"goToPreviousError\",\n        bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n        exec: function exec(editor) {\n            config.loadModule(\"ace/ext/error_marker\", function (module) {\n                module.showErrorMarker(editor, -1);\n            });\n        },\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selectall\",\n        bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n        exec: function exec(editor) {\n            editor.selectAll();\n        },\n        readOnly: true\n    }, {\n        name: \"centerselection\",\n        bindKey: bindKey(null, \"Ctrl-L\"),\n        exec: function exec(editor) {\n            editor.centerSelection();\n        },\n        readOnly: true\n    }, {\n        name: \"gotoline\",\n        bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n        exec: function exec(editor) {\n            var line = parseInt(prompt(\"Enter line number:\"), 10);\n            if (!isNaN(line)) {\n                editor.gotoLine(line);\n            }\n        },\n        readOnly: true\n    }, {\n        name: \"fold\",\n        bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n        exec: function exec(editor) {\n            editor.session.toggleFold(false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfold\",\n        bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n        exec: function exec(editor) {\n            editor.session.toggleFold(true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleFoldWidget\",\n        bindKey: bindKey(\"F2\", \"F2\"),\n        exec: function exec(editor) {\n            editor.session.toggleFoldWidget();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"toggleParentFoldWidget\",\n        bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n        exec: function exec(editor) {\n            editor.session.toggleFoldWidget(true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldall\",\n        bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n        exec: function exec(editor) {\n            editor.session.foldAll();\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"foldOther\",\n        bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n        exec: function exec(editor) {\n            editor.session.foldAll();\n            editor.session.unfold(editor.selection.getAllRanges());\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"unfoldall\",\n        bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n        exec: function exec(editor) {\n            editor.session.unfold();\n        },\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findnext\",\n        bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n        exec: function exec(editor) {\n            editor.findNext();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"findprevious\",\n        bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n        exec: function exec(editor) {\n            editor.findPrevious();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"center\",\n        readOnly: true\n    }, {\n        name: \"selectOrFindNext\",\n        bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n        exec: function exec(editor) {\n            if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findNext();\n        },\n        readOnly: true\n    }, {\n        name: \"selectOrFindPrevious\",\n        bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n        exec: function exec(editor) {\n            if (editor.selection.isEmpty()) editor.selection.selectWord();else editor.findPrevious();\n        },\n        readOnly: true\n    }, {\n        name: \"find\",\n        bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n        exec: function exec(editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) {\n                e.Search(editor);\n            });\n        },\n        readOnly: true\n    }, {\n        name: \"overwrite\",\n        bindKey: \"Insert\",\n        exec: function exec(editor) {\n            editor.toggleOverwrite();\n        },\n        readOnly: true\n    }, {\n        name: \"selecttostart\",\n        bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectFileStart();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotostart\",\n        bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n        exec: function exec(editor) {\n            editor.navigateFileStart();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectup\",\n        bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectUp();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golineup\",\n        bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n        exec: function exec(editor, args) {\n            editor.navigateUp(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttoend\",\n        bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectFileEnd();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"gotoend\",\n        bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n        exec: function exec(editor) {\n            editor.navigateFileEnd();\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true,\n        scrollIntoView: \"animate\",\n        aceCommandGroup: \"fileJump\"\n    }, {\n        name: \"selectdown\",\n        bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectDown();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"golinedown\",\n        bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n        exec: function exec(editor, args) {\n            editor.navigateDown(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordleft\",\n        bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectWordLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordleft\",\n        bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n        exec: function exec(editor) {\n            editor.navigateWordLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolinestart\",\n        bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolinestart\",\n        bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n        exec: function exec(editor) {\n            editor.navigateLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectleft\",\n        bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoleft\",\n        bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n        exec: function exec(editor, args) {\n            editor.navigateLeft(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectwordright\",\n        bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectWordRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotowordright\",\n        bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n        exec: function exec(editor) {\n            editor.navigateWordRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selecttolineend\",\n        bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotolineend\",\n        bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n        exec: function exec(editor) {\n            editor.navigateLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectright\",\n        bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n        exec: function exec(editor) {\n            editor.getSelection().selectRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"gotoright\",\n        bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n        exec: function exec(editor, args) {\n            editor.navigateRight(args.times);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectpagedown\",\n        bindKey: \"Shift-PageDown\",\n        exec: function exec(editor) {\n            editor.selectPageDown();\n        },\n        readOnly: true\n    }, {\n        name: \"pagedown\",\n        bindKey: bindKey(null, \"Option-PageDown\"),\n        exec: function exec(editor) {\n            editor.scrollPageDown();\n        },\n        readOnly: true\n    }, {\n        name: \"gotopagedown\",\n        bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n        exec: function exec(editor) {\n            editor.gotoPageDown();\n        },\n        readOnly: true\n    }, {\n        name: \"selectpageup\",\n        bindKey: \"Shift-PageUp\",\n        exec: function exec(editor) {\n            editor.selectPageUp();\n        },\n        readOnly: true\n    }, {\n        name: \"pageup\",\n        bindKey: bindKey(null, \"Option-PageUp\"),\n        exec: function exec(editor) {\n            editor.scrollPageUp();\n        },\n        readOnly: true\n    }, {\n        name: \"gotopageup\",\n        bindKey: \"PageUp\",\n        exec: function exec(editor) {\n            editor.gotoPageUp();\n        },\n        readOnly: true\n    }, {\n        name: \"scrollup\",\n        bindKey: bindKey(\"Ctrl-Up\", null),\n        exec: function exec(e) {\n            e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight);\n        },\n        readOnly: true\n    }, {\n        name: \"scrolldown\",\n        bindKey: bindKey(\"Ctrl-Down\", null),\n        exec: function exec(e) {\n            e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight);\n        },\n        readOnly: true\n    }, {\n        name: \"selectlinestart\",\n        bindKey: \"Shift-Home\",\n        exec: function exec(editor) {\n            editor.getSelection().selectLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectlineend\",\n        bindKey: \"Shift-End\",\n        exec: function exec(editor) {\n            editor.getSelection().selectLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"togglerecording\",\n        bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n        exec: function exec(editor) {\n            editor.commands.toggleRecording(editor);\n        },\n        readOnly: true\n    }, {\n        name: \"replaymacro\",\n        bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n        exec: function exec(editor) {\n            editor.commands.replay(editor);\n        },\n        readOnly: true\n    }, {\n        name: \"jumptomatching\",\n        bindKey: bindKey(\"Ctrl-P\", \"Ctrl-P\"),\n        exec: function exec(editor) {\n            editor.jumpToMatching();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"selecttomatching\",\n        bindKey: bindKey(\"Ctrl-Shift-P\", \"Ctrl-Shift-P\"),\n        exec: function exec(editor) {\n            editor.jumpToMatching(true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"expandToMatching\",\n        bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n        exec: function exec(editor) {\n            editor.jumpToMatching(true, true);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"animate\",\n        readOnly: true\n    }, {\n        name: \"passKeysToBrowser\",\n        bindKey: bindKey(null, null),\n        exec: function exec() {},\n        passEvent: true,\n        readOnly: true\n    }, {\n        name: \"copy\",\n        exec: function exec(editor) {},\n        readOnly: true\n    }, {\n        name: \"cut\",\n        exec: function exec(editor) {\n            var range = editor.getSelectionRange();\n            editor._emit(\"cut\", range);\n\n            if (!editor.selection.isEmpty()) {\n                editor.session.remove(range);\n                editor.clearSelection();\n            }\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"paste\",\n        exec: function exec(editor, args) {\n            editor.$handlePaste(args);\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removeline\",\n        bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n        exec: function exec(editor) {\n            editor.removeLines();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"duplicateSelection\",\n        bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n        exec: function exec(editor) {\n            editor.duplicateSelection();\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"sortlines\",\n        bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n        exec: function exec(editor) {\n            editor.sortLines();\n        },\n        scrollIntoView: \"selection\",\n        multiSelectAction: \"forEachLine\"\n    }, {\n        name: \"togglecomment\",\n        bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n        exec: function exec(editor) {\n            editor.toggleCommentLines();\n        },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"toggleBlockComment\",\n        bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n        exec: function exec(editor) {\n            editor.toggleBlockComment();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"modifyNumberUp\",\n        bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n        exec: function exec(editor) {\n            editor.modifyNumber(1);\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"modifyNumberDown\",\n        bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n        exec: function exec(editor) {\n            editor.modifyNumber(-1);\n        },\n        scrollIntoView: \"cursor\",\n        multiSelectAction: \"forEach\"\n    }, {\n        name: \"replace\",\n        bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n        exec: function exec(editor) {\n            config.loadModule(\"ace/ext/searchbox\", function (e) {\n                e.Search(editor, true);\n            });\n        }\n    }, {\n        name: \"undo\",\n        bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n        exec: function exec(editor) {\n            editor.undo();\n        }\n    }, {\n        name: \"redo\",\n        bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n        exec: function exec(editor) {\n            editor.redo();\n        }\n    }, {\n        name: \"copylinesup\",\n        bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n        exec: function exec(editor) {\n            editor.copyLinesUp();\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesup\",\n        bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n        exec: function exec(editor) {\n            editor.moveLinesUp();\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"copylinesdown\",\n        bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n        exec: function exec(editor) {\n            editor.copyLinesDown();\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"movelinesdown\",\n        bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n        exec: function exec(editor) {\n            editor.moveLinesDown();\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"del\",\n        bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n        exec: function exec(editor) {\n            editor.remove(\"right\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"backspace\",\n        bindKey: bindKey(\"Shift-Backspace|Backspace\", \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"),\n        exec: function exec(editor) {\n            editor.remove(\"left\");\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"cut_or_delete\",\n        bindKey: bindKey(\"Shift-Delete\", null),\n        exec: function exec(editor) {\n            if (editor.selection.isEmpty()) {\n                editor.remove(\"left\");\n            } else {\n                return false;\n            }\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestart\",\n        bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n        exec: function exec(editor) {\n            editor.removeToLineStart();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineend\",\n        bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n        exec: function exec(editor) {\n            editor.removeToLineEnd();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolinestarthard\",\n        bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n        exec: function exec(editor) {\n            var range = editor.selection.getRange();\n            range.start.column = 0;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removetolineendhard\",\n        bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n        exec: function exec(editor) {\n            var range = editor.selection.getRange();\n            range.end.column = Number.MAX_VALUE;\n            editor.session.remove(range);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordleft\",\n        bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n        exec: function exec(editor) {\n            editor.removeWordLeft();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"removewordright\",\n        bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n        exec: function exec(editor) {\n            editor.removeWordRight();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"outdent\",\n        bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n        exec: function exec(editor) {\n            editor.blockOutdent();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"indent\",\n        bindKey: bindKey(\"Tab\", \"Tab\"),\n        exec: function exec(editor) {\n            editor.indent();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockoutdent\",\n        bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n        exec: function exec(editor) {\n            editor.blockOutdent();\n        },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"blockindent\",\n        bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n        exec: function exec(editor) {\n            editor.blockIndent();\n        },\n        multiSelectAction: \"forEachLine\",\n        scrollIntoView: \"selectionPart\"\n    }, {\n        name: \"insertstring\",\n        exec: function exec(editor, str) {\n            editor.insert(str);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"inserttext\",\n        exec: function exec(editor, args) {\n            editor.insert(lang.stringRepeat(args.text || \"\", args.times || 1));\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"splitline\",\n        bindKey: bindKey(null, \"Ctrl-O\"),\n        exec: function exec(editor) {\n            editor.splitLine();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"transposeletters\",\n        bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n        exec: function exec(editor) {\n            editor.transposeLetters();\n        },\n        multiSelectAction: function multiSelectAction(editor) {\n            editor.transposeSelections(1);\n        },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"touppercase\",\n        bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n        exec: function exec(editor) {\n            editor.toUpperCase();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"tolowercase\",\n        bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n        exec: function exec(editor) {\n            editor.toLowerCase();\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"expandtoline\",\n        bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n        exec: function exec(editor) {\n            var range = editor.selection.getRange();\n\n            range.start.column = range.end.column = 0;\n            range.end.row++;\n            editor.selection.setRange(range, false);\n        },\n        multiSelectAction: \"forEach\",\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"joinlines\",\n        bindKey: bindKey(null, null),\n        exec: function exec(editor) {\n            var isBackwards = editor.selection.isBackwards();\n            var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n            var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n            var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n            var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n            var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n            var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n            for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n                var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n                if (curLine.length !== 0) {\n                    curLine = \" \" + curLine;\n                }\n                insertLine += curLine;\n            }\n\n            if (selectionEnd.row + 1 < editor.session.doc.getLength() - 1) {\n                insertLine += editor.session.doc.getNewLineCharacter();\n            }\n\n            editor.clearSelection();\n            editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n            if (selectedCount > 0) {\n                editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n                editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n            } else {\n                firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? firstLineEndCol + 1 : firstLineEndCol;\n                editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n            }\n        },\n        multiSelectAction: \"forEach\",\n        readOnly: true\n    }, {\n        name: \"invertSelection\",\n        bindKey: bindKey(null, null),\n        exec: function exec(editor) {\n            var endRow = editor.session.doc.getLength() - 1;\n            var endCol = editor.session.doc.getLine(endRow).length;\n            var ranges = editor.selection.rangeList.ranges;\n            var newRanges = [];\n            if (ranges.length < 1) {\n                ranges = [editor.selection.getRange()];\n            }\n\n            for (var i = 0; i < ranges.length; i++) {\n                if (i == ranges.length - 1) {\n                    if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                        newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                    }\n                }\n\n                if (i === 0) {\n                    if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                        newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                    }\n                } else {\n                    newRanges.push(new Range(ranges[i - 1].end.row, ranges[i - 1].end.column, ranges[i].start.row, ranges[i].start.column));\n                }\n            }\n\n            editor.exitMultiSelectMode();\n            editor.clearSelection();\n\n            for (var i = 0; i < newRanges.length; i++) {\n                editor.selection.addRange(newRanges[i], false);\n            }\n        },\n        readOnly: true,\n        scrollIntoView: \"none\"\n    }];\n});\n\nace.define(\"ace/editor\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/keyboard/textinput\", \"ace/mouse/mouse_handler\", \"ace/mouse/fold_handler\", \"ace/keyboard/keybinding\", \"ace/edit_session\", \"ace/search\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/commands/command_manager\", \"ace/commands/default_commands\", \"ace/config\", \"ace/token_iterator\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    acequire(\"./lib/fixoldbrowsers\");\n\n    var oop = acequire(\"./lib/oop\");\n    var dom = acequire(\"./lib/dom\");\n    var lang = acequire(\"./lib/lang\");\n    var useragent = acequire(\"./lib/useragent\");\n    var TextInput = acequire(\"./keyboard/textinput\").TextInput;\n    var MouseHandler = acequire(\"./mouse/mouse_handler\").MouseHandler;\n    var FoldHandler = acequire(\"./mouse/fold_handler\").FoldHandler;\n    var KeyBinding = acequire(\"./keyboard/keybinding\").KeyBinding;\n    var EditSession = acequire(\"./edit_session\").EditSession;\n    var Search = acequire(\"./search\").Search;\n    var Range = acequire(\"./range\").Range;\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var CommandManager = acequire(\"./commands/command_manager\").CommandManager;\n    var defaultCommands = acequire(\"./commands/default_commands\").commands;\n    var config = acequire(\"./config\");\n    var TokenIterator = acequire(\"./token_iterator\").TokenIterator;\n    var Editor = function Editor(renderer, session) {\n        var container = renderer.getContainerElement();\n        this.container = container;\n        this.renderer = renderer;\n        this.id = \"editor\" + ++Editor.$uid;\n\n        this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n        if ((typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) == \"object\") {\n            this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n            this.renderer.textarea = this.textInput.getElement();\n            this.$mouseHandler = new MouseHandler(this);\n            new FoldHandler(this);\n        }\n\n        this.keyBinding = new KeyBinding(this);\n\n        this.$blockScrolling = 0;\n        this.$search = new Search().set({\n            wrap: true\n        });\n\n        this.$historyTracker = this.$historyTracker.bind(this);\n        this.commands.on(\"exec\", this.$historyTracker);\n\n        this.$initOperationListeners();\n\n        this._$emitInputEvent = lang.delayedCall(function () {\n            this._signal(\"input\", {});\n            if (this.session && this.session.bgTokenizer) this.session.bgTokenizer.scheduleStart();\n        }.bind(this));\n\n        this.on(\"change\", function (_, _self) {\n            _self._$emitInputEvent.schedule(31);\n        });\n\n        this.setSession(session || new EditSession(\"\"));\n        config.resetOptions(this);\n        config._signal(\"editor\", this);\n    };\n\n    Editor.$uid = 0;\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n\n        this.$initOperationListeners = function () {\n            function last(a) {\n                return a[a.length - 1];\n            }\n\n            this.selections = [];\n            this.commands.on(\"exec\", this.startOperation.bind(this), true);\n            this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n            this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));\n\n            this.on(\"change\", function () {\n                this.curOp || this.startOperation();\n                this.curOp.docChanged = true;\n            }.bind(this), true);\n\n            this.on(\"changeSelection\", function () {\n                this.curOp || this.startOperation();\n                this.curOp.selectionChanged = true;\n            }.bind(this), true);\n        };\n\n        this.curOp = null;\n        this.prevOp = {};\n        this.startOperation = function (commadEvent) {\n            if (this.curOp) {\n                if (!commadEvent || this.curOp.command) return;\n                this.prevOp = this.curOp;\n            }\n            if (!commadEvent) {\n                this.previousCommand = null;\n                commadEvent = {};\n            }\n\n            this.$opResetTimer.schedule();\n            this.curOp = {\n                command: commadEvent.command || {},\n                args: commadEvent.args,\n                scrollTop: this.renderer.scrollTop\n            };\n            if (this.curOp.command.name && this.curOp.command.scrollIntoView !== undefined) this.$blockScrolling++;\n        };\n\n        this.endOperation = function (e) {\n            if (this.curOp) {\n                if (e && e.returnValue === false) return this.curOp = null;\n                this._signal(\"beforeEndOperation\");\n                var command = this.curOp.command;\n                if (command.name && this.$blockScrolling > 0) this.$blockScrolling--;\n                var scrollIntoView = command && command.scrollIntoView;\n                if (scrollIntoView) {\n                    switch (scrollIntoView) {\n                        case \"center-animate\":\n                            scrollIntoView = \"animate\";\n                        case \"center\":\n                            this.renderer.scrollCursorIntoView(null, 0.5);\n                            break;\n                        case \"animate\":\n                        case \"cursor\":\n                            this.renderer.scrollCursorIntoView();\n                            break;\n                        case \"selectionPart\":\n                            var range = this.selection.getRange();\n                            var config = this.renderer.layerConfig;\n                            if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                                this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                    if (scrollIntoView == \"animate\") this.renderer.animateScrolling(this.curOp.scrollTop);\n                }\n\n                this.prevOp = this.curOp;\n                this.curOp = null;\n            }\n        };\n        this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n        this.$historyTracker = function (e) {\n            if (!this.$mergeUndoDeltas) return;\n\n            var prev = this.prevOp;\n            var mergeableCommands = this.$mergeableCommands;\n            var shouldMerge = prev.command && e.command.name == prev.command.name;\n            if (e.command.name == \"insertstring\") {\n                var text = e.args;\n                if (this.mergeNextCommand === undefined) this.mergeNextCommand = true;\n\n                shouldMerge = shouldMerge && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n                this.mergeNextCommand = true;\n            } else {\n                shouldMerge = shouldMerge && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n            }\n\n            if (this.$mergeUndoDeltas != \"always\" && Date.now() - this.sequenceStartTime > 2000) {\n                shouldMerge = false; // the sequence is too long\n            }\n\n            if (shouldMerge) this.session.mergeUndoDeltas = true;else if (mergeableCommands.indexOf(e.command.name) !== -1) this.sequenceStartTime = Date.now();\n        };\n        this.setKeyboardHandler = function (keyboardHandler, cb) {\n            if (keyboardHandler && typeof keyboardHandler === \"string\") {\n                this.$keybindingId = keyboardHandler;\n                var _self = this;\n                config.loadModule([\"keybinding\", keyboardHandler], function (module) {\n                    if (_self.$keybindingId == keyboardHandler) _self.keyBinding.setKeyboardHandler(module && module.handler);\n                    cb && cb();\n                });\n            } else {\n                this.$keybindingId = null;\n                this.keyBinding.setKeyboardHandler(keyboardHandler);\n                cb && cb();\n            }\n        };\n        this.getKeyboardHandler = function () {\n            return this.keyBinding.getKeyboardHandler();\n        };\n        this.setSession = function (session) {\n            if (this.session == session) return;\n            if (this.curOp) this.endOperation();\n            this.curOp = {};\n\n            var oldSession = this.session;\n            if (oldSession) {\n                this.session.off(\"change\", this.$onDocumentChange);\n                this.session.off(\"changeMode\", this.$onChangeMode);\n                this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n                this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n                this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n                this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n                this.session.off(\"changeFold\", this.$onChangeFold);\n                this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n                this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n                this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n                this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n                this.session.off(\"changeOverwrite\", this.$onCursorChange);\n                this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n                this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n                var selection = this.session.getSelection();\n                selection.off(\"changeCursor\", this.$onCursorChange);\n                selection.off(\"changeSelection\", this.$onSelectionChange);\n            }\n\n            this.session = session;\n            if (session) {\n                this.$onDocumentChange = this.onDocumentChange.bind(this);\n                session.on(\"change\", this.$onDocumentChange);\n                this.renderer.setSession(session);\n\n                this.$onChangeMode = this.onChangeMode.bind(this);\n                session.on(\"changeMode\", this.$onChangeMode);\n\n                this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n                session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n\n                this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n                session.on(\"changeTabSize\", this.$onChangeTabSize);\n\n                this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n                session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n\n                this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n                session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n\n                this.$onChangeFold = this.onChangeFold.bind(this);\n                session.on(\"changeFold\", this.$onChangeFold);\n\n                this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n                this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n\n                this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n                this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n\n                this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n                this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n\n                this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n                this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n\n                this.$onCursorChange = this.onCursorChange.bind(this);\n                this.session.on(\"changeOverwrite\", this.$onCursorChange);\n\n                this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n                this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n\n                this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n                this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n                this.selection = session.getSelection();\n                this.selection.on(\"changeCursor\", this.$onCursorChange);\n\n                this.$onSelectionChange = this.onSelectionChange.bind(this);\n                this.selection.on(\"changeSelection\", this.$onSelectionChange);\n\n                this.onChangeMode();\n\n                this.$blockScrolling += 1;\n                this.onCursorChange();\n                this.$blockScrolling -= 1;\n\n                this.onScrollTopChange();\n                this.onScrollLeftChange();\n                this.onSelectionChange();\n                this.onChangeFrontMarker();\n                this.onChangeBackMarker();\n                this.onChangeBreakpoint();\n                this.onChangeAnnotation();\n                this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n                this.renderer.updateFull();\n            } else {\n                this.selection = null;\n                this.renderer.setSession(session);\n            }\n\n            this._signal(\"changeSession\", {\n                session: session,\n                oldSession: oldSession\n            });\n\n            this.curOp = null;\n\n            oldSession && oldSession._signal(\"changeEditor\", { oldEditor: this });\n            session && session._signal(\"changeEditor\", { editor: this });\n\n            if (session && session.bgTokenizer) session.bgTokenizer.scheduleStart();\n        };\n        this.getSession = function () {\n            return this.session;\n        };\n        this.setValue = function (val, cursorPos) {\n            this.session.doc.setValue(val);\n\n            if (!cursorPos) this.selectAll();else if (cursorPos == 1) this.navigateFileEnd();else if (cursorPos == -1) this.navigateFileStart();\n\n            return val;\n        };\n        this.getValue = function () {\n            return this.session.getValue();\n        };\n        this.getSelection = function () {\n            return this.selection;\n        };\n        this.resize = function (force) {\n            this.renderer.onResize(force);\n        };\n        this.setTheme = function (theme, cb) {\n            this.renderer.setTheme(theme, cb);\n        };\n        this.getTheme = function () {\n            return this.renderer.getTheme();\n        };\n        this.setStyle = function (style) {\n            this.renderer.setStyle(style);\n        };\n        this.unsetStyle = function (style) {\n            this.renderer.unsetStyle(style);\n        };\n        this.getFontSize = function () {\n            return this.getOption(\"fontSize\") || dom.computedStyle(this.container, \"fontSize\");\n        };\n        this.setFontSize = function (size) {\n            this.setOption(\"fontSize\", size);\n        };\n\n        this.$highlightBrackets = function () {\n            if (this.session.$bracketHighlight) {\n                this.session.removeMarker(this.session.$bracketHighlight);\n                this.session.$bracketHighlight = null;\n            }\n\n            if (this.$highlightPending) {\n                return;\n            }\n            var self = this;\n            this.$highlightPending = true;\n            setTimeout(function () {\n                self.$highlightPending = false;\n                var session = self.session;\n                if (!session || !session.bgTokenizer) return;\n                var pos = session.findMatchingBracket(self.getCursorPosition());\n                if (pos) {\n                    var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);\n                } else if (session.$mode.getMatching) {\n                    var range = session.$mode.getMatching(self.session);\n                }\n                if (range) session.$bracketHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n            }, 50);\n        };\n        this.$highlightTags = function () {\n            if (this.$highlightTagPending) return;\n            var self = this;\n            this.$highlightTagPending = true;\n            setTimeout(function () {\n                self.$highlightTagPending = false;\n\n                var session = self.session;\n                if (!session || !session.bgTokenizer) return;\n\n                var pos = self.getCursorPosition();\n                var iterator = new TokenIterator(self.session, pos.row, pos.column);\n                var token = iterator.getCurrentToken();\n\n                if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                    session.removeMarker(session.$tagHighlight);\n                    session.$tagHighlight = null;\n                    return;\n                }\n\n                if (token.type.indexOf(\"tag-open\") != -1) {\n                    token = iterator.stepForward();\n                    if (!token) return;\n                }\n\n                var tag = token.value;\n                var depth = 0;\n                var prevToken = iterator.stepBackward();\n\n                if (prevToken.value == '<') {\n                    do {\n                        prevToken = token;\n                        token = iterator.stepForward();\n\n                        if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth++;\n                            } else if (prevToken.value === '</') {\n                                depth--;\n                            }\n                        }\n                    } while (token && depth >= 0);\n                } else {\n                    do {\n                        token = prevToken;\n                        prevToken = iterator.stepBackward();\n\n                        if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth++;\n                            } else if (prevToken.value === '</') {\n                                depth--;\n                            }\n                        }\n                    } while (prevToken && depth <= 0);\n                    iterator.stepForward();\n                }\n\n                if (!token) {\n                    session.removeMarker(session.$tagHighlight);\n                    session.$tagHighlight = null;\n                    return;\n                }\n\n                var row = iterator.getCurrentTokenRow();\n                var column = iterator.getCurrentTokenColumn();\n                var range = new Range(row, column, row, column + token.value.length);\n                var sbm = session.$backMarkers[session.$tagHighlight];\n                if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                    session.removeMarker(session.$tagHighlight);\n                    session.$tagHighlight = null;\n                }\n\n                if (range && !session.$tagHighlight) session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n            }, 50);\n        };\n        this.focus = function () {\n            var _self = this;\n            setTimeout(function () {\n                _self.textInput.focus();\n            });\n            this.textInput.focus();\n        };\n        this.isFocused = function () {\n            return this.textInput.isFocused();\n        };\n        this.blur = function () {\n            this.textInput.blur();\n        };\n        this.onFocus = function (e) {\n            if (this.$isFocused) return;\n            this.$isFocused = true;\n            this.renderer.showCursor();\n            this.renderer.visualizeFocus();\n            this._emit(\"focus\", e);\n        };\n        this.onBlur = function (e) {\n            if (!this.$isFocused) return;\n            this.$isFocused = false;\n            this.renderer.hideCursor();\n            this.renderer.visualizeBlur();\n            this._emit(\"blur\", e);\n        };\n\n        this.$cursorChange = function () {\n            this.renderer.updateCursor();\n        };\n        this.onDocumentChange = function (delta) {\n            var wrap = this.session.$useWrapMode;\n            var lastRow = delta.start.row == delta.end.row ? delta.end.row : Infinity;\n            this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n            this._signal(\"change\", delta);\n            this.$cursorChange();\n            this.$updateHighlightActiveLine();\n        };\n\n        this.onTokenizerUpdate = function (e) {\n            var rows = e.data;\n            this.renderer.updateLines(rows.first, rows.last);\n        };\n\n        this.onScrollTopChange = function () {\n            this.renderer.scrollToY(this.session.getScrollTop());\n        };\n\n        this.onScrollLeftChange = function () {\n            this.renderer.scrollToX(this.session.getScrollLeft());\n        };\n        this.onCursorChange = function () {\n            this.$cursorChange();\n\n            if (!this.$blockScrolling) {\n                config.warn(\"Automatically scrolling cursor into view after selection change\", \"this will be disabled in the next version\", \"set editor.$blockScrolling = Infinity to disable this message\");\n                this.renderer.scrollCursorIntoView();\n            }\n\n            this.$highlightBrackets();\n            this.$highlightTags();\n            this.$updateHighlightActiveLine();\n            this._signal(\"changeSelection\");\n        };\n\n        this.$updateHighlightActiveLine = function () {\n            var session = this.getSession();\n\n            var highlight;\n            if (this.$highlightActiveLine) {\n                if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine()) highlight = this.getCursorPosition();\n                if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1)) highlight = false;\n            }\n\n            if (session.$highlightLineMarker && !highlight) {\n                session.removeMarker(session.$highlightLineMarker.id);\n                session.$highlightLineMarker = null;\n            } else if (!session.$highlightLineMarker && highlight) {\n                var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n                range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n                session.$highlightLineMarker = range;\n            } else if (highlight) {\n                session.$highlightLineMarker.start.row = highlight.row;\n                session.$highlightLineMarker.end.row = highlight.row;\n                session.$highlightLineMarker.start.column = highlight.column;\n                session._signal(\"changeBackMarker\");\n            }\n        };\n\n        this.onSelectionChange = function (e) {\n            var session = this.session;\n\n            if (session.$selectionMarker) {\n                session.removeMarker(session.$selectionMarker);\n            }\n            session.$selectionMarker = null;\n\n            if (!this.selection.isEmpty()) {\n                var range = this.selection.getRange();\n                var style = this.getSelectionStyle();\n                session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n            } else {\n                this.$updateHighlightActiveLine();\n            }\n\n            var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n            this.session.highlight(re);\n\n            this._signal(\"changeSelection\");\n        };\n\n        this.$getSelectionHighLightRegexp = function () {\n            var session = this.session;\n\n            var selection = this.getSelectionRange();\n            if (selection.isEmpty() || selection.isMultiLine()) return;\n\n            var startOuter = selection.start.column - 1;\n            var endOuter = selection.end.column + 1;\n            var line = session.getLine(selection.start.row);\n            var lineCols = line.length;\n            var needle = line.substring(Math.max(startOuter, 0), Math.min(endOuter, lineCols));\n            if (startOuter >= 0 && /^[\\w\\d]/.test(needle) || endOuter <= lineCols && /[\\w\\d]$/.test(needle)) return;\n\n            needle = line.substring(selection.start.column, selection.end.column);\n            if (!/^[\\w\\d]+$/.test(needle)) return;\n\n            var re = this.$search.$assembleRegExp({\n                wholeWord: true,\n                caseSensitive: true,\n                needle: needle\n            });\n\n            return re;\n        };\n\n        this.onChangeFrontMarker = function () {\n            this.renderer.updateFrontMarkers();\n        };\n\n        this.onChangeBackMarker = function () {\n            this.renderer.updateBackMarkers();\n        };\n\n        this.onChangeBreakpoint = function () {\n            this.renderer.updateBreakpoints();\n        };\n\n        this.onChangeAnnotation = function () {\n            this.renderer.setAnnotations(this.session.getAnnotations());\n        };\n\n        this.onChangeMode = function (e) {\n            this.renderer.updateText();\n            this._emit(\"changeMode\", e);\n        };\n\n        this.onChangeWrapLimit = function () {\n            this.renderer.updateFull();\n        };\n\n        this.onChangeWrapMode = function () {\n            this.renderer.onResize(true);\n        };\n\n        this.onChangeFold = function () {\n            this.$updateHighlightActiveLine();\n            this.renderer.updateFull();\n        };\n        this.getSelectedText = function () {\n            return this.session.getTextRange(this.getSelectionRange());\n        };\n        this.getCopyText = function () {\n            var text = this.getSelectedText();\n            this._signal(\"copy\", text);\n            return text;\n        };\n        this.onCopy = function () {\n            this.commands.exec(\"copy\", this);\n        };\n        this.onCut = function () {\n            this.commands.exec(\"cut\", this);\n        };\n        this.onPaste = function (text, event) {\n            var e = { text: text, event: event };\n            this.commands.exec(\"paste\", this, e);\n        };\n\n        this.$handlePaste = function (e) {\n            if (typeof e == \"string\") e = { text: e };\n            this._signal(\"paste\", e);\n            var text = e.text;\n            if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n                this.insert(text);\n            } else {\n                var lines = text.split(/\\r\\n|\\r|\\n/);\n                var ranges = this.selection.rangeList.ranges;\n\n                if (lines.length > ranges.length || lines.length < 2 || !lines[1]) return this.commands.exec(\"insertstring\", this, text);\n\n                for (var i = ranges.length; i--;) {\n                    var range = ranges[i];\n                    if (!range.isEmpty()) this.session.remove(range);\n\n                    this.session.insert(range.start, lines[i]);\n                }\n            }\n        };\n\n        this.execCommand = function (command, args) {\n            return this.commands.exec(command, this, args);\n        };\n        this.insert = function (text, pasted) {\n            var session = this.session;\n            var mode = session.getMode();\n            var cursor = this.getCursorPosition();\n\n            if (this.getBehavioursEnabled() && !pasted) {\n                var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n                if (transform) {\n                    if (text !== transform.text) {\n                        this.session.mergeUndoDeltas = false;\n                        this.$mergeNextCommand = false;\n                    }\n                    text = transform.text;\n                }\n            }\n\n            if (text == \"\\t\") text = this.session.getTabString();\n            if (!this.selection.isEmpty()) {\n                var range = this.getSelectionRange();\n                cursor = this.session.remove(range);\n                this.clearSelection();\n            } else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n                var range = new Range.fromPoints(cursor, cursor);\n                range.end.column += text.length;\n                this.session.remove(range);\n            }\n\n            if (text == \"\\n\" || text == \"\\r\\n\") {\n                var line = session.getLine(cursor.row);\n                if (cursor.column > line.search(/\\S|$/)) {\n                    var d = line.substr(cursor.column).search(/\\S|$/);\n                    session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n                }\n            }\n            this.clearSelection();\n\n            var start = cursor.column;\n            var lineState = session.getState(cursor.row);\n            var line = session.getLine(cursor.row);\n            var shouldOutdent = mode.checkOutdent(lineState, line, text);\n            var end = session.insert(cursor, text);\n\n            if (transform && transform.selection) {\n                if (transform.selection.length == 2) {\n                    // Transform relative to the current column\n                    this.selection.setSelectionRange(new Range(cursor.row, start + transform.selection[0], cursor.row, start + transform.selection[1]));\n                } else {\n                    // Transform relative to the current row.\n                    this.selection.setSelectionRange(new Range(cursor.row + transform.selection[0], transform.selection[1], cursor.row + transform.selection[2], transform.selection[3]));\n                }\n            }\n\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n                session.insert({ row: cursor.row + 1, column: 0 }, lineIndent);\n            }\n            if (shouldOutdent) mode.autoOutdent(lineState, session, cursor.row);\n        };\n\n        this.onTextInput = function (text) {\n            this.keyBinding.onTextInput(text);\n        };\n\n        this.onCommandKey = function (e, hashId, keyCode) {\n            this.keyBinding.onCommandKey(e, hashId, keyCode);\n        };\n        this.setOverwrite = function (overwrite) {\n            this.session.setOverwrite(overwrite);\n        };\n        this.getOverwrite = function () {\n            return this.session.getOverwrite();\n        };\n        this.toggleOverwrite = function () {\n            this.session.toggleOverwrite();\n        };\n        this.setScrollSpeed = function (speed) {\n            this.setOption(\"scrollSpeed\", speed);\n        };\n        this.getScrollSpeed = function () {\n            return this.getOption(\"scrollSpeed\");\n        };\n        this.setDragDelay = function (dragDelay) {\n            this.setOption(\"dragDelay\", dragDelay);\n        };\n        this.getDragDelay = function () {\n            return this.getOption(\"dragDelay\");\n        };\n        this.setSelectionStyle = function (val) {\n            this.setOption(\"selectionStyle\", val);\n        };\n        this.getSelectionStyle = function () {\n            return this.getOption(\"selectionStyle\");\n        };\n        this.setHighlightActiveLine = function (shouldHighlight) {\n            this.setOption(\"highlightActiveLine\", shouldHighlight);\n        };\n        this.getHighlightActiveLine = function () {\n            return this.getOption(\"highlightActiveLine\");\n        };\n        this.setHighlightGutterLine = function (shouldHighlight) {\n            this.setOption(\"highlightGutterLine\", shouldHighlight);\n        };\n\n        this.getHighlightGutterLine = function () {\n            return this.getOption(\"highlightGutterLine\");\n        };\n        this.setHighlightSelectedWord = function (shouldHighlight) {\n            this.setOption(\"highlightSelectedWord\", shouldHighlight);\n        };\n        this.getHighlightSelectedWord = function () {\n            return this.$highlightSelectedWord;\n        };\n\n        this.setAnimatedScroll = function (shouldAnimate) {\n            this.renderer.setAnimatedScroll(shouldAnimate);\n        };\n\n        this.getAnimatedScroll = function () {\n            return this.renderer.getAnimatedScroll();\n        };\n        this.setShowInvisibles = function (showInvisibles) {\n            this.renderer.setShowInvisibles(showInvisibles);\n        };\n        this.getShowInvisibles = function () {\n            return this.renderer.getShowInvisibles();\n        };\n\n        this.setDisplayIndentGuides = function (display) {\n            this.renderer.setDisplayIndentGuides(display);\n        };\n\n        this.getDisplayIndentGuides = function () {\n            return this.renderer.getDisplayIndentGuides();\n        };\n        this.setShowPrintMargin = function (showPrintMargin) {\n            this.renderer.setShowPrintMargin(showPrintMargin);\n        };\n        this.getShowPrintMargin = function () {\n            return this.renderer.getShowPrintMargin();\n        };\n        this.setPrintMarginColumn = function (showPrintMargin) {\n            this.renderer.setPrintMarginColumn(showPrintMargin);\n        };\n        this.getPrintMarginColumn = function () {\n            return this.renderer.getPrintMarginColumn();\n        };\n        this.setReadOnly = function (readOnly) {\n            this.setOption(\"readOnly\", readOnly);\n        };\n        this.getReadOnly = function () {\n            return this.getOption(\"readOnly\");\n        };\n        this.setBehavioursEnabled = function (enabled) {\n            this.setOption(\"behavioursEnabled\", enabled);\n        };\n        this.getBehavioursEnabled = function () {\n            return this.getOption(\"behavioursEnabled\");\n        };\n        this.setWrapBehavioursEnabled = function (enabled) {\n            this.setOption(\"wrapBehavioursEnabled\", enabled);\n        };\n        this.getWrapBehavioursEnabled = function () {\n            return this.getOption(\"wrapBehavioursEnabled\");\n        };\n        this.setShowFoldWidgets = function (show) {\n            this.setOption(\"showFoldWidgets\", show);\n        };\n        this.getShowFoldWidgets = function () {\n            return this.getOption(\"showFoldWidgets\");\n        };\n\n        this.setFadeFoldWidgets = function (fade) {\n            this.setOption(\"fadeFoldWidgets\", fade);\n        };\n\n        this.getFadeFoldWidgets = function () {\n            return this.getOption(\"fadeFoldWidgets\");\n        };\n        this.remove = function (dir) {\n            if (this.selection.isEmpty()) {\n                if (dir == \"left\") this.selection.selectLeft();else this.selection.selectRight();\n            }\n\n            var range = this.getSelectionRange();\n            if (this.getBehavioursEnabled()) {\n                var session = this.session;\n                var state = session.getState(range.start.row);\n                var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n                if (range.end.column === 0) {\n                    var text = session.getTextRange(range);\n                    if (text[text.length - 1] == \"\\n\") {\n                        var line = session.getLine(range.end.row);\n                        if (/^\\s+$/.test(line)) {\n                            range.end.column = line.length;\n                        }\n                    }\n                }\n                if (new_range) range = new_range;\n            }\n\n            this.session.remove(range);\n            this.clearSelection();\n        };\n        this.removeWordRight = function () {\n            if (this.selection.isEmpty()) this.selection.selectWordRight();\n\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        };\n        this.removeWordLeft = function () {\n            if (this.selection.isEmpty()) this.selection.selectWordLeft();\n\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        };\n        this.removeToLineStart = function () {\n            if (this.selection.isEmpty()) this.selection.selectLineStart();\n\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        };\n        this.removeToLineEnd = function () {\n            if (this.selection.isEmpty()) this.selection.selectLineEnd();\n\n            var range = this.getSelectionRange();\n            if (range.start.column == range.end.column && range.start.row == range.end.row) {\n                range.end.column = 0;\n                range.end.row++;\n            }\n\n            this.session.remove(range);\n            this.clearSelection();\n        };\n        this.splitLine = function () {\n            if (!this.selection.isEmpty()) {\n                this.session.remove(this.getSelectionRange());\n                this.clearSelection();\n            }\n\n            var cursor = this.getCursorPosition();\n            this.insert(\"\\n\");\n            this.moveCursorToPosition(cursor);\n        };\n        this.transposeLetters = function () {\n            if (!this.selection.isEmpty()) {\n                return;\n            }\n\n            var cursor = this.getCursorPosition();\n            var column = cursor.column;\n            if (column === 0) return;\n\n            var line = this.session.getLine(cursor.row);\n            var swap, range;\n            if (column < line.length) {\n                swap = line.charAt(column) + line.charAt(column - 1);\n                range = new Range(cursor.row, column - 1, cursor.row, column + 1);\n            } else {\n                swap = line.charAt(column - 1) + line.charAt(column - 2);\n                range = new Range(cursor.row, column - 2, cursor.row, column);\n            }\n            this.session.replace(range, swap);\n            this.session.selection.moveToPosition(range.end);\n        };\n        this.toLowerCase = function () {\n            var originalRange = this.getSelectionRange();\n            if (this.selection.isEmpty()) {\n                this.selection.selectWord();\n            }\n\n            var range = this.getSelectionRange();\n            var text = this.session.getTextRange(range);\n            this.session.replace(range, text.toLowerCase());\n            this.selection.setSelectionRange(originalRange);\n        };\n        this.toUpperCase = function () {\n            var originalRange = this.getSelectionRange();\n            if (this.selection.isEmpty()) {\n                this.selection.selectWord();\n            }\n\n            var range = this.getSelectionRange();\n            var text = this.session.getTextRange(range);\n            this.session.replace(range, text.toUpperCase());\n            this.selection.setSelectionRange(originalRange);\n        };\n        this.indent = function () {\n            var session = this.session;\n            var range = this.getSelectionRange();\n\n            if (range.start.row < range.end.row) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            } else if (range.start.column < range.end.column) {\n                var text = session.getTextRange(range);\n                if (!/^\\s+$/.test(text)) {\n                    var rows = this.$getSelectedRows();\n                    session.indentRows(rows.first, rows.last, \"\\t\");\n                    return;\n                }\n            }\n\n            var line = session.getLine(range.start.row);\n            var position = range.start;\n            var size = session.getTabSize();\n            var column = session.documentToScreenColumn(position.row, position.column);\n\n            if (this.session.getUseSoftTabs()) {\n                var count = size - column % size;\n                var indentString = lang.stringRepeat(\" \", count);\n            } else {\n                var count = column % size;\n                while (line[range.start.column - 1] == \" \" && count) {\n                    range.start.column--;\n                    count--;\n                }\n                this.selection.setSelectionRange(range);\n                indentString = \"\\t\";\n            }\n            return this.insert(indentString);\n        };\n        this.blockIndent = function () {\n            var rows = this.$getSelectedRows();\n            this.session.indentRows(rows.first, rows.last, \"\\t\");\n        };\n        this.blockOutdent = function () {\n            var selection = this.session.getSelection();\n            this.session.outdentRows(selection.getRange());\n        };\n        this.sortLines = function () {\n            var rows = this.$getSelectedRows();\n            var session = this.session;\n\n            var lines = [];\n            for (var i = rows.first; i <= rows.last; i++) {\n                lines.push(session.getLine(i));\n            }lines.sort(function (a, b) {\n                if (a.toLowerCase() < b.toLowerCase()) return -1;\n                if (a.toLowerCase() > b.toLowerCase()) return 1;\n                return 0;\n            });\n\n            var deleteRange = new Range(0, 0, 0, 0);\n            for (var i = rows.first; i <= rows.last; i++) {\n                var line = session.getLine(i);\n                deleteRange.start.row = i;\n                deleteRange.end.row = i;\n                deleteRange.end.column = line.length;\n                session.replace(deleteRange, lines[i - rows.first]);\n            }\n        };\n        this.toggleCommentLines = function () {\n            var state = this.session.getState(this.getCursorPosition().row);\n            var rows = this.$getSelectedRows();\n            this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n        };\n\n        this.toggleBlockComment = function () {\n            var cursor = this.getCursorPosition();\n            var state = this.session.getState(cursor.row);\n            var range = this.getSelectionRange();\n            this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n        };\n        this.getNumberAt = function (row, column) {\n            var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n            _numberRx.lastIndex = 0;\n\n            var s = this.session.getLine(row);\n            while (_numberRx.lastIndex < column) {\n                var m = _numberRx.exec(s);\n                if (m.index <= column && m.index + m[0].length >= column) {\n                    var number = {\n                        value: m[0],\n                        start: m.index,\n                        end: m.index + m[0].length\n                    };\n                    return number;\n                }\n            }\n            return null;\n        };\n        this.modifyNumber = function (amount) {\n            var row = this.selection.getCursor().row;\n            var column = this.selection.getCursor().column;\n            var charRange = new Range(row, column - 1, row, column);\n\n            var c = this.session.getTextRange(charRange);\n            if (!isNaN(parseFloat(c)) && isFinite(c)) {\n                var nr = this.getNumberAt(row, column);\n                if (nr) {\n                    var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                    var decimals = nr.start + nr.value.length - fp;\n\n                    var t = parseFloat(nr.value);\n                    t *= Math.pow(10, decimals);\n\n                    if (fp !== nr.end && column < fp) {\n                        amount *= Math.pow(10, nr.end - column - 1);\n                    } else {\n                        amount *= Math.pow(10, nr.end - column);\n                    }\n\n                    t += amount;\n                    t /= Math.pow(10, decimals);\n                    var nnr = t.toFixed(decimals);\n                    var replaceRange = new Range(row, nr.start, row, nr.end);\n                    this.session.replace(replaceRange, nnr);\n                    this.moveCursorTo(row, Math.max(nr.start + 1, column + nnr.length - nr.value.length));\n                }\n            }\n        };\n        this.removeLines = function () {\n            var rows = this.$getSelectedRows();\n            this.session.removeFullLines(rows.first, rows.last);\n            this.clearSelection();\n        };\n\n        this.duplicateSelection = function () {\n            var sel = this.selection;\n            var doc = this.session;\n            var range = sel.getRange();\n            var reverse = sel.isBackwards();\n            if (range.isEmpty()) {\n                var row = range.start.row;\n                doc.duplicateLines(row, row);\n            } else {\n                var point = reverse ? range.start : range.end;\n                var endPoint = doc.insert(point, doc.getTextRange(range), false);\n                range.start = point;\n                range.end = endPoint;\n\n                sel.setSelectionRange(range, reverse);\n            }\n        };\n        this.moveLinesDown = function () {\n            this.$moveLines(1, false);\n        };\n        this.moveLinesUp = function () {\n            this.$moveLines(-1, false);\n        };\n        this.moveText = function (range, toPosition, copy) {\n            return this.session.moveText(range, toPosition, copy);\n        };\n        this.copyLinesUp = function () {\n            this.$moveLines(-1, true);\n        };\n        this.copyLinesDown = function () {\n            this.$moveLines(1, true);\n        };\n        this.$moveLines = function (dir, copy) {\n            var rows, moved;\n            var selection = this.selection;\n            if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n                var range = selection.toOrientedRange();\n                rows = this.$getSelectedRows(range);\n                moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n                if (copy && dir == -1) moved = 0;\n                range.moveBy(moved, 0);\n                selection.fromOrientedRange(range);\n            } else {\n                var ranges = selection.rangeList.ranges;\n                selection.rangeList.detach(this.session);\n                this.inVirtualSelectionMode = true;\n\n                var diff = 0;\n                var totalDiff = 0;\n                var l = ranges.length;\n                for (var i = 0; i < l; i++) {\n                    var rangeIndex = i;\n                    ranges[i].moveBy(diff, 0);\n                    rows = this.$getSelectedRows(ranges[i]);\n                    var first = rows.first;\n                    var last = rows.last;\n                    while (++i < l) {\n                        if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                        var subRows = this.$getSelectedRows(ranges[i]);\n                        if (copy && subRows.first != last) break;else if (!copy && subRows.first > last + 1) break;\n                        last = subRows.last;\n                    }\n                    i--;\n                    diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                    if (copy && dir == -1) rangeIndex = i + 1;\n                    while (rangeIndex <= i) {\n                        ranges[rangeIndex].moveBy(diff, 0);\n                        rangeIndex++;\n                    }\n                    if (!copy) diff = 0;\n                    totalDiff += diff;\n                }\n\n                selection.fromOrientedRange(selection.ranges[0]);\n                selection.rangeList.attach(this.session);\n                this.inVirtualSelectionMode = false;\n            }\n        };\n        this.$getSelectedRows = function (range) {\n            range = (range || this.getSelectionRange()).collapseRows();\n\n            return {\n                first: this.session.getRowFoldStart(range.start.row),\n                last: this.session.getRowFoldEnd(range.end.row)\n            };\n        };\n\n        this.onCompositionStart = function (text) {\n            this.renderer.showComposition(this.getCursorPosition());\n        };\n\n        this.onCompositionUpdate = function (text) {\n            this.renderer.setCompositionText(text);\n        };\n\n        this.onCompositionEnd = function () {\n            this.renderer.hideComposition();\n        };\n        this.getFirstVisibleRow = function () {\n            return this.renderer.getFirstVisibleRow();\n        };\n        this.getLastVisibleRow = function () {\n            return this.renderer.getLastVisibleRow();\n        };\n        this.isRowVisible = function (row) {\n            return row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow();\n        };\n        this.isRowFullyVisible = function (row) {\n            return row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow();\n        };\n        this.$getVisibleRowCount = function () {\n            return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n        };\n\n        this.$moveByPage = function (dir, select) {\n            var renderer = this.renderer;\n            var config = this.renderer.layerConfig;\n            var rows = dir * Math.floor(config.height / config.lineHeight);\n\n            this.$blockScrolling++;\n            if (select === true) {\n                this.selection.$moveSelection(function () {\n                    this.moveCursorBy(rows, 0);\n                });\n            } else if (select === false) {\n                this.selection.moveCursorBy(rows, 0);\n                this.selection.clearSelection();\n            }\n            this.$blockScrolling--;\n\n            var scrollTop = renderer.scrollTop;\n\n            renderer.scrollBy(0, rows * config.lineHeight);\n            if (select != null) renderer.scrollCursorIntoView(null, 0.5);\n\n            renderer.animateScrolling(scrollTop);\n        };\n        this.selectPageDown = function () {\n            this.$moveByPage(1, true);\n        };\n        this.selectPageUp = function () {\n            this.$moveByPage(-1, true);\n        };\n        this.gotoPageDown = function () {\n            this.$moveByPage(1, false);\n        };\n        this.gotoPageUp = function () {\n            this.$moveByPage(-1, false);\n        };\n        this.scrollPageDown = function () {\n            this.$moveByPage(1);\n        };\n        this.scrollPageUp = function () {\n            this.$moveByPage(-1);\n        };\n        this.scrollToRow = function (row) {\n            this.renderer.scrollToRow(row);\n        };\n        this.scrollToLine = function (line, center, animate, callback) {\n            this.renderer.scrollToLine(line, center, animate, callback);\n        };\n        this.centerSelection = function () {\n            var range = this.getSelectionRange();\n            var pos = {\n                row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n                column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n            };\n            this.renderer.alignCursor(pos, 0.5);\n        };\n        this.getCursorPosition = function () {\n            return this.selection.getCursor();\n        };\n        this.getCursorPositionScreen = function () {\n            return this.session.documentToScreenPosition(this.getCursorPosition());\n        };\n        this.getSelectionRange = function () {\n            return this.selection.getRange();\n        };\n        this.selectAll = function () {\n            this.$blockScrolling += 1;\n            this.selection.selectAll();\n            this.$blockScrolling -= 1;\n        };\n        this.clearSelection = function () {\n            this.selection.clearSelection();\n        };\n        this.moveCursorTo = function (row, column) {\n            this.selection.moveCursorTo(row, column);\n        };\n        this.moveCursorToPosition = function (pos) {\n            this.selection.moveCursorToPosition(pos);\n        };\n        this.jumpToMatching = function (select, expand) {\n            var cursor = this.getCursorPosition();\n            var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n            var prevToken = iterator.getCurrentToken();\n            var token = prevToken || iterator.stepForward();\n\n            if (!token) return;\n            var matchType;\n            var found = false;\n            var depth = {};\n            var i = cursor.column - token.start;\n            var bracketType;\n            var brackets = {\n                \")\": \"(\",\n                \"(\": \"(\",\n                \"]\": \"[\",\n                \"[\": \"[\",\n                \"{\": \"{\",\n                \"}\": \"{\"\n            };\n\n            do {\n                if (token.value.match(/[{}()\\[\\]]/g)) {\n                    for (; i < token.value.length && !found; i++) {\n                        if (!brackets[token.value[i]]) {\n                            continue;\n                        }\n\n                        bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                        if (isNaN(depth[bracketType])) {\n                            depth[bracketType] = 0;\n                        }\n\n                        switch (token.value[i]) {\n                            case '(':\n                            case '[':\n                            case '{':\n                                depth[bracketType]++;\n                                break;\n                            case ')':\n                            case ']':\n                            case '}':\n                                depth[bracketType]--;\n\n                                if (depth[bracketType] === -1) {\n                                    matchType = 'bracket';\n                                    found = true;\n                                }\n                                break;\n                        }\n                    }\n                } else if (token && token.type.indexOf('tag-name') !== -1) {\n                    if (isNaN(depth[token.value])) {\n                        depth[token.value] = 0;\n                    }\n\n                    if (prevToken.value === '<') {\n                        depth[token.value]++;\n                    } else if (prevToken.value === '</') {\n                        depth[token.value]--;\n                    }\n\n                    if (depth[token.value] === -1) {\n                        matchType = 'tag';\n                        found = true;\n                    }\n                }\n\n                if (!found) {\n                    prevToken = token;\n                    token = iterator.stepForward();\n                    i = 0;\n                }\n            } while (token && !found);\n            if (!matchType) return;\n\n            var range, pos;\n            if (matchType === 'bracket') {\n                range = this.session.getBracketRange(cursor);\n                if (!range) {\n                    range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + i - 1);\n                    pos = range.start;\n                    if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2) range = this.session.getBracketRange(pos);\n                }\n            } else if (matchType === 'tag') {\n                if (token && token.type.indexOf('tag-name') !== -1) var tag = token.value;else return;\n\n                range = new Range(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2, iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() - 2);\n                if (range.compare(cursor.row, cursor.column) === 0) {\n                    found = false;\n                    do {\n                        token = prevToken;\n                        prevToken = iterator.stepBackward();\n\n                        if (prevToken) {\n                            if (prevToken.type.indexOf('tag-close') !== -1) {\n                                range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                            }\n\n                            if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                                if (prevToken.value === '<') {\n                                    depth[tag]++;\n                                } else if (prevToken.value === '</') {\n                                    depth[tag]--;\n                                }\n\n                                if (depth[tag] === 0) found = true;\n                            }\n                        }\n                    } while (prevToken && !found);\n                }\n                if (token && token.type.indexOf('tag-name')) {\n                    pos = range.start;\n                    if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2) pos = range.end;\n                }\n            }\n\n            pos = range && range.cursor || pos;\n            if (pos) {\n                if (select) {\n                    if (range && expand) {\n                        this.selection.setRange(range);\n                    } else if (range && range.isEqual(this.getSelectionRange())) {\n                        this.clearSelection();\n                    } else {\n                        this.selection.selectTo(pos.row, pos.column);\n                    }\n                } else {\n                    this.selection.moveTo(pos.row, pos.column);\n                }\n            }\n        };\n        this.gotoLine = function (lineNumber, column, animate) {\n            this.selection.clearSelection();\n            this.session.unfold({ row: lineNumber - 1, column: column || 0 });\n\n            this.$blockScrolling += 1;\n            this.exitMultiSelectMode && this.exitMultiSelectMode();\n            this.moveCursorTo(lineNumber - 1, column || 0);\n            this.$blockScrolling -= 1;\n\n            if (!this.isRowFullyVisible(lineNumber - 1)) this.scrollToLine(lineNumber - 1, true, animate);\n        };\n        this.navigateTo = function (row, column) {\n            this.selection.moveTo(row, column);\n        };\n        this.navigateUp = function (times) {\n            if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n                var selectionStart = this.selection.anchor.getPosition();\n                return this.moveCursorToPosition(selectionStart);\n            }\n            this.selection.clearSelection();\n            this.selection.moveCursorBy(-times || -1, 0);\n        };\n        this.navigateDown = function (times) {\n            if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n                var selectionEnd = this.selection.anchor.getPosition();\n                return this.moveCursorToPosition(selectionEnd);\n            }\n            this.selection.clearSelection();\n            this.selection.moveCursorBy(times || 1, 0);\n        };\n        this.navigateLeft = function (times) {\n            if (!this.selection.isEmpty()) {\n                var selectionStart = this.getSelectionRange().start;\n                this.moveCursorToPosition(selectionStart);\n            } else {\n                times = times || 1;\n                while (times--) {\n                    this.selection.moveCursorLeft();\n                }\n            }\n            this.clearSelection();\n        };\n        this.navigateRight = function (times) {\n            if (!this.selection.isEmpty()) {\n                var selectionEnd = this.getSelectionRange().end;\n                this.moveCursorToPosition(selectionEnd);\n            } else {\n                times = times || 1;\n                while (times--) {\n                    this.selection.moveCursorRight();\n                }\n            }\n            this.clearSelection();\n        };\n        this.navigateLineStart = function () {\n            this.selection.moveCursorLineStart();\n            this.clearSelection();\n        };\n        this.navigateLineEnd = function () {\n            this.selection.moveCursorLineEnd();\n            this.clearSelection();\n        };\n        this.navigateFileEnd = function () {\n            this.selection.moveCursorFileEnd();\n            this.clearSelection();\n        };\n        this.navigateFileStart = function () {\n            this.selection.moveCursorFileStart();\n            this.clearSelection();\n        };\n        this.navigateWordRight = function () {\n            this.selection.moveCursorWordRight();\n            this.clearSelection();\n        };\n        this.navigateWordLeft = function () {\n            this.selection.moveCursorWordLeft();\n            this.clearSelection();\n        };\n        this.replace = function (replacement, options) {\n            if (options) this.$search.set(options);\n\n            var range = this.$search.find(this.session);\n            var replaced = 0;\n            if (!range) return replaced;\n\n            if (this.$tryReplace(range, replacement)) {\n                replaced = 1;\n            }\n            if (range !== null) {\n                this.selection.setSelectionRange(range);\n                this.renderer.scrollSelectionIntoView(range.start, range.end);\n            }\n\n            return replaced;\n        };\n        this.replaceAll = function (replacement, options) {\n            if (options) {\n                this.$search.set(options);\n            }\n\n            var ranges = this.$search.findAll(this.session);\n            var replaced = 0;\n            if (!ranges.length) return replaced;\n\n            this.$blockScrolling += 1;\n\n            var selection = this.getSelectionRange();\n            this.selection.moveTo(0, 0);\n\n            for (var i = ranges.length - 1; i >= 0; --i) {\n                if (this.$tryReplace(ranges[i], replacement)) {\n                    replaced++;\n                }\n            }\n\n            this.selection.setSelectionRange(selection);\n            this.$blockScrolling -= 1;\n\n            return replaced;\n        };\n\n        this.$tryReplace = function (range, replacement) {\n            var input = this.session.getTextRange(range);\n            replacement = this.$search.replace(input, replacement);\n            if (replacement !== null) {\n                range.end = this.session.replace(range, replacement);\n                return range;\n            } else {\n                return null;\n            }\n        };\n        this.getLastSearchOptions = function () {\n            return this.$search.getOptions();\n        };\n        this.find = function (needle, options, animate) {\n            if (!options) options = {};\n\n            if (typeof needle == \"string\" || needle instanceof RegExp) options.needle = needle;else if ((typeof needle === \"undefined\" ? \"undefined\" : _typeof(needle)) == \"object\") oop.mixin(options, needle);\n\n            var range = this.selection.getRange();\n            if (options.needle == null) {\n                needle = this.session.getTextRange(range) || this.$search.$options.needle;\n                if (!needle) {\n                    range = this.session.getWordRange(range.start.row, range.start.column);\n                    needle = this.session.getTextRange(range);\n                }\n                this.$search.set({ needle: needle });\n            }\n\n            this.$search.set(options);\n            if (!options.start) this.$search.set({ start: range });\n\n            var newRange = this.$search.find(this.session);\n            if (options.preventScroll) return newRange;\n            if (newRange) {\n                this.revealRange(newRange, animate);\n                return newRange;\n            }\n            if (options.backwards) range.start = range.end;else range.end = range.start;\n            this.selection.setRange(range);\n        };\n        this.findNext = function (options, animate) {\n            this.find({ skipCurrent: true, backwards: false }, options, animate);\n        };\n        this.findPrevious = function (options, animate) {\n            this.find(options, { skipCurrent: true, backwards: true }, animate);\n        };\n\n        this.revealRange = function (range, animate) {\n            this.$blockScrolling += 1;\n            this.session.unfold(range);\n            this.selection.setSelectionRange(range);\n            this.$blockScrolling -= 1;\n\n            var scrollTop = this.renderer.scrollTop;\n            this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n            if (animate !== false) this.renderer.animateScrolling(scrollTop);\n        };\n        this.undo = function () {\n            this.$blockScrolling++;\n            this.session.getUndoManager().undo();\n            this.$blockScrolling--;\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        };\n        this.redo = function () {\n            this.$blockScrolling++;\n            this.session.getUndoManager().redo();\n            this.$blockScrolling--;\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        };\n        this.destroy = function () {\n            this.renderer.destroy();\n            this._signal(\"destroy\", this);\n            if (this.session) {\n                this.session.destroy();\n            }\n        };\n        this.setAutoScrollEditorIntoView = function (enable) {\n            if (!enable) return;\n            var rect;\n            var self = this;\n            var shouldScroll = false;\n            if (!this.$scrollAnchor) this.$scrollAnchor = document.createElement(\"div\");\n            var scrollAnchor = this.$scrollAnchor;\n            scrollAnchor.style.cssText = \"position:absolute\";\n            this.container.insertBefore(scrollAnchor, this.container.firstChild);\n            var onChangeSelection = this.on(\"changeSelection\", function () {\n                shouldScroll = true;\n            });\n            var onBeforeRender = this.renderer.on(\"beforeRender\", function () {\n                if (shouldScroll) rect = self.renderer.container.getBoundingClientRect();\n            });\n            var onAfterRender = this.renderer.on(\"afterRender\", function () {\n                if (shouldScroll && rect && (self.isFocused() || self.searchBox && self.searchBox.isFocused())) {\n                    var renderer = self.renderer;\n                    var pos = renderer.$cursorLayer.$pixelPos;\n                    var config = renderer.layerConfig;\n                    var top = pos.top - config.offset;\n                    if (pos.top >= 0 && top + rect.top < 0) {\n                        shouldScroll = true;\n                    } else if (pos.top < config.height && pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                        shouldScroll = false;\n                    } else {\n                        shouldScroll = null;\n                    }\n                    if (shouldScroll != null) {\n                        scrollAnchor.style.top = top + \"px\";\n                        scrollAnchor.style.left = pos.left + \"px\";\n                        scrollAnchor.style.height = config.lineHeight + \"px\";\n                        scrollAnchor.scrollIntoView(shouldScroll);\n                    }\n                    shouldScroll = rect = null;\n                }\n            });\n            this.setAutoScrollEditorIntoView = function (enable) {\n                if (enable) return;\n                delete this.setAutoScrollEditorIntoView;\n                this.off(\"changeSelection\", onChangeSelection);\n                this.renderer.off(\"afterRender\", onAfterRender);\n                this.renderer.off(\"beforeRender\", onBeforeRender);\n            };\n        };\n\n        this.$resetCursorStyle = function () {\n            var style = this.$cursorStyle || \"ace\";\n            var cursorLayer = this.renderer.$cursorLayer;\n            if (!cursorLayer) return;\n            cursorLayer.setSmoothBlinking(/smooth/.test(style));\n            cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n            dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n        };\n    }).call(Editor.prototype);\n\n    config.defineOptions(Editor.prototype, \"editor\", {\n        selectionStyle: {\n            set: function set(style) {\n                this.onSelectionChange();\n                this._signal(\"changeSelectionStyle\", { data: style });\n            },\n            initialValue: \"line\"\n        },\n        highlightActiveLine: {\n            set: function set() {\n                this.$updateHighlightActiveLine();\n            },\n            initialValue: true\n        },\n        highlightSelectedWord: {\n            set: function set(shouldHighlight) {\n                this.$onSelectionChange();\n            },\n            initialValue: true\n        },\n        readOnly: {\n            set: function set(readOnly) {\n                this.$resetCursorStyle();\n            },\n            initialValue: false\n        },\n        cursorStyle: {\n            set: function set(val) {\n                this.$resetCursorStyle();\n            },\n            values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n            initialValue: \"ace\"\n        },\n        mergeUndoDeltas: {\n            values: [false, true, \"always\"],\n            initialValue: true\n        },\n        behavioursEnabled: { initialValue: true },\n        wrapBehavioursEnabled: { initialValue: true },\n        autoScrollEditorIntoView: {\n            set: function set(val) {\n                this.setAutoScrollEditorIntoView(val);\n            }\n        },\n        keyboardHandler: {\n            set: function set(val) {\n                this.setKeyboardHandler(val);\n            },\n            get: function get() {\n                return this.keybindingId;\n            },\n            handlesSet: true\n        },\n\n        hScrollBarAlwaysVisible: \"renderer\",\n        vScrollBarAlwaysVisible: \"renderer\",\n        highlightGutterLine: \"renderer\",\n        animatedScroll: \"renderer\",\n        showInvisibles: \"renderer\",\n        showPrintMargin: \"renderer\",\n        printMarginColumn: \"renderer\",\n        printMargin: \"renderer\",\n        fadeFoldWidgets: \"renderer\",\n        showFoldWidgets: \"renderer\",\n        showLineNumbers: \"renderer\",\n        showGutter: \"renderer\",\n        displayIndentGuides: \"renderer\",\n        fontSize: \"renderer\",\n        fontFamily: \"renderer\",\n        maxLines: \"renderer\",\n        minLines: \"renderer\",\n        scrollPastEnd: \"renderer\",\n        fixedWidthGutter: \"renderer\",\n        theme: \"renderer\",\n\n        scrollSpeed: \"$mouseHandler\",\n        dragDelay: \"$mouseHandler\",\n        dragEnabled: \"$mouseHandler\",\n        focusTimout: \"$mouseHandler\",\n        tooltipFollowsMouse: \"$mouseHandler\",\n\n        firstLineNumber: \"session\",\n        overwrite: \"session\",\n        newLineMode: \"session\",\n        useWorker: \"session\",\n        useSoftTabs: \"session\",\n        tabSize: \"session\",\n        wrap: \"session\",\n        indentedSoftWrap: \"session\",\n        foldStyle: \"session\",\n        mode: \"session\"\n    });\n\n    exports.Editor = Editor;\n});\n\nace.define(\"ace/undomanager\", [\"require\", \"exports\", \"module\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var UndoManager = function UndoManager() {\n        this.reset();\n    };\n\n    (function () {\n        this.execute = function (options) {\n            var deltaSets = options.args[0];\n            this.$doc = options.args[1];\n            if (options.merge && this.hasUndo()) {\n                this.dirtyCounter--;\n                deltaSets = this.$undoStack.pop().concat(deltaSets);\n            }\n            this.$undoStack.push(deltaSets);\n            this.$redoStack = [];\n            if (this.dirtyCounter < 0) {\n                this.dirtyCounter = NaN;\n            }\n            this.dirtyCounter++;\n        };\n        this.undo = function (dontSelect) {\n            var deltaSets = this.$undoStack.pop();\n            var undoSelectionRange = null;\n            if (deltaSets) {\n                undoSelectionRange = this.$doc.undoChanges(deltaSets, dontSelect);\n                this.$redoStack.push(deltaSets);\n                this.dirtyCounter--;\n            }\n\n            return undoSelectionRange;\n        };\n        this.redo = function (dontSelect) {\n            var deltaSets = this.$redoStack.pop();\n            var redoSelectionRange = null;\n            if (deltaSets) {\n                redoSelectionRange = this.$doc.redoChanges(this.$deserializeDeltas(deltaSets), dontSelect);\n                this.$undoStack.push(deltaSets);\n                this.dirtyCounter++;\n            }\n            return redoSelectionRange;\n        };\n        this.reset = function () {\n            this.$undoStack = [];\n            this.$redoStack = [];\n            this.dirtyCounter = 0;\n        };\n        this.hasUndo = function () {\n            return this.$undoStack.length > 0;\n        };\n        this.hasRedo = function () {\n            return this.$redoStack.length > 0;\n        };\n        this.markClean = function () {\n            this.dirtyCounter = 0;\n        };\n        this.isClean = function () {\n            return this.dirtyCounter === 0;\n        };\n        this.$serializeDeltas = function (deltaSets) {\n            return cloneDeltaSetsObj(deltaSets, $serializeDelta);\n        };\n        this.$deserializeDeltas = function (deltaSets) {\n            return cloneDeltaSetsObj(deltaSets, $deserializeDelta);\n        };\n\n        function $serializeDelta(delta) {\n            return {\n                action: delta.action,\n                start: delta.start,\n                end: delta.end,\n                lines: delta.lines.length == 1 ? null : delta.lines,\n                text: delta.lines.length == 1 ? delta.lines[0] : null\n            };\n        }\n\n        function $deserializeDelta(delta) {\n            return {\n                action: delta.action,\n                start: delta.start,\n                end: delta.end,\n                lines: delta.lines || [delta.text]\n            };\n        }\n\n        function cloneDeltaSetsObj(deltaSets_old, fnGetModifiedDelta) {\n            var deltaSets_new = new Array(deltaSets_old.length);\n            for (var i = 0; i < deltaSets_old.length; i++) {\n                var deltaSet_old = deltaSets_old[i];\n                var deltaSet_new = { group: deltaSet_old.group, deltas: new Array(deltaSet_old.length) };\n\n                for (var j = 0; j < deltaSet_old.deltas.length; j++) {\n                    var delta_old = deltaSet_old.deltas[j];\n                    deltaSet_new.deltas[j] = fnGetModifiedDelta(delta_old);\n                }\n\n                deltaSets_new[i] = deltaSet_new;\n            }\n            return deltaSets_new;\n        }\n    }).call(UndoManager.prototype);\n\n    exports.UndoManager = UndoManager;\n});\n\nace.define(\"ace/layer/gutter\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var dom = acequire(\"../lib/dom\");\n    var oop = acequire(\"../lib/oop\");\n    var lang = acequire(\"../lib/lang\");\n    var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\n    var Gutter = function Gutter(parentEl) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_gutter-layer\";\n        parentEl.appendChild(this.element);\n        this.setShowFoldWidgets(this.$showFoldWidgets);\n\n        this.gutterWidth = 0;\n\n        this.$annotations = [];\n        this.$updateAnnotations = this.$updateAnnotations.bind(this);\n\n        this.$cells = [];\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n\n        this.setSession = function (session) {\n            if (this.session) this.session.removeEventListener(\"change\", this.$updateAnnotations);\n            this.session = session;\n            if (session) session.on(\"change\", this.$updateAnnotations);\n        };\n\n        this.addGutterDecoration = function (row, className) {\n            if (window.console) console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n            this.session.addGutterDecoration(row, className);\n        };\n\n        this.removeGutterDecoration = function (row, className) {\n            if (window.console) console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n            this.session.removeGutterDecoration(row, className);\n        };\n\n        this.setAnnotations = function (annotations) {\n            this.$annotations = [];\n            for (var i = 0; i < annotations.length; i++) {\n                var annotation = annotations[i];\n                var row = annotation.row;\n                var rowInfo = this.$annotations[row];\n                if (!rowInfo) rowInfo = this.$annotations[row] = { text: [] };\n\n                var annoText = annotation.text;\n                annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n                if (rowInfo.text.indexOf(annoText) === -1) rowInfo.text.push(annoText);\n\n                var type = annotation.type;\n                if (type == \"error\") rowInfo.className = \" ace_error\";else if (type == \"warning\" && rowInfo.className != \" ace_error\") rowInfo.className = \" ace_warning\";else if (type == \"info\" && !rowInfo.className) rowInfo.className = \" ace_info\";\n            }\n        };\n\n        this.$updateAnnotations = function (delta) {\n            if (!this.$annotations.length) return;\n            var firstRow = delta.start.row;\n            var len = delta.end.row - firstRow;\n            if (len === 0) {} else if (delta.action == 'remove') {\n                this.$annotations.splice(firstRow, len + 1, null);\n            } else {\n                var args = new Array(len + 1);\n                args.unshift(firstRow, 1);\n                this.$annotations.splice.apply(this.$annotations, args);\n            }\n        };\n\n        this.update = function (config) {\n            var session = this.session;\n            var firstRow = config.firstRow;\n            var lastRow = Math.min(config.lastRow + config.gutterOffset, // needed to compensate for hor scollbar\n            session.getLength() - 1);\n            var fold = session.getNextFoldLine(firstRow);\n            var foldStart = fold ? fold.start.row : Infinity;\n            var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n            var breakpoints = session.$breakpoints;\n            var decorations = session.$decorations;\n            var firstLineNumber = session.$firstLineNumber;\n            var lastLineNumber = 0;\n\n            var gutterRenderer = session.gutterRenderer || this.$renderer;\n\n            var cell = null;\n            var index = -1;\n            var row = firstRow;\n            while (true) {\n                if (row > foldStart) {\n                    row = fold.end.row + 1;\n                    fold = session.getNextFoldLine(row, fold);\n                    foldStart = fold ? fold.start.row : Infinity;\n                }\n                if (row > lastRow) {\n                    while (this.$cells.length > index + 1) {\n                        cell = this.$cells.pop();\n                        this.element.removeChild(cell.element);\n                    }\n                    break;\n                }\n\n                cell = this.$cells[++index];\n                if (!cell) {\n                    cell = { element: null, textNode: null, foldWidget: null };\n                    cell.element = dom.createElement(\"div\");\n                    cell.textNode = document.createTextNode('');\n                    cell.element.appendChild(cell.textNode);\n                    this.element.appendChild(cell.element);\n                    this.$cells[index] = cell;\n                }\n\n                var className = \"ace_gutter-cell \";\n                if (breakpoints[row]) className += breakpoints[row];\n                if (decorations[row]) className += decorations[row];\n                if (this.$annotations[row]) className += this.$annotations[row].className;\n                if (cell.element.className != className) cell.element.className = className;\n\n                var height = session.getRowLength(row) * config.lineHeight + \"px\";\n                if (height != cell.element.style.height) cell.element.style.height = height;\n\n                if (foldWidgets) {\n                    var c = foldWidgets[row];\n                    if (c == null) c = foldWidgets[row] = session.getFoldWidget(row);\n                }\n\n                if (c) {\n                    if (!cell.foldWidget) {\n                        cell.foldWidget = dom.createElement(\"span\");\n                        cell.element.appendChild(cell.foldWidget);\n                    }\n                    var className = \"ace_fold-widget ace_\" + c;\n                    if (c == \"start\" && row == foldStart && row < fold.end.row) className += \" ace_closed\";else className += \" ace_open\";\n                    if (cell.foldWidget.className != className) cell.foldWidget.className = className;\n\n                    var height = config.lineHeight + \"px\";\n                    if (cell.foldWidget.style.height != height) cell.foldWidget.style.height = height;\n                } else {\n                    if (cell.foldWidget) {\n                        cell.element.removeChild(cell.foldWidget);\n                        cell.foldWidget = null;\n                    }\n                }\n\n                var text = lastLineNumber = gutterRenderer ? gutterRenderer.getText(session, row) : row + firstLineNumber;\n                if (text !== cell.textNode.data) cell.textNode.data = text;\n\n                row++;\n            }\n\n            this.element.style.height = config.minHeight + \"px\";\n\n            if (this.$fixedWidth || session.$useWrapMode) lastLineNumber = session.getLength() + firstLineNumber;\n\n            var gutterWidth = gutterRenderer ? gutterRenderer.getWidth(session, lastLineNumber, config) : lastLineNumber.toString().length * config.characterWidth;\n\n            var padding = this.$padding || this.$computePadding();\n            gutterWidth += padding.left + padding.right;\n            if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n                this.gutterWidth = gutterWidth;\n                this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n                this._emit(\"changeGutterWidth\", gutterWidth);\n            }\n        };\n\n        this.$fixedWidth = false;\n\n        this.$showLineNumbers = true;\n        this.$renderer = \"\";\n        this.setShowLineNumbers = function (show) {\n            this.$renderer = !show && {\n                getWidth: function getWidth() {\n                    return \"\";\n                },\n                getText: function getText() {\n                    return \"\";\n                }\n            };\n        };\n\n        this.getShowLineNumbers = function () {\n            return this.$showLineNumbers;\n        };\n\n        this.$showFoldWidgets = true;\n        this.setShowFoldWidgets = function (show) {\n            if (show) dom.addCssClass(this.element, \"ace_folding-enabled\");else dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n            this.$showFoldWidgets = show;\n            this.$padding = null;\n        };\n\n        this.getShowFoldWidgets = function () {\n            return this.$showFoldWidgets;\n        };\n\n        this.$computePadding = function () {\n            if (!this.element.firstChild) return { left: 0, right: 0 };\n            var style = dom.computedStyle(this.element.firstChild);\n            this.$padding = {};\n            this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;\n            this.$padding.right = parseInt(style.paddingRight) || 0;\n            return this.$padding;\n        };\n\n        this.getRegion = function (point) {\n            var padding = this.$padding || this.$computePadding();\n            var rect = this.element.getBoundingClientRect();\n            if (point.x < padding.left + rect.left) return \"markers\";\n            if (this.$showFoldWidgets && point.x > rect.right - padding.right) return \"foldWidgets\";\n        };\n    }).call(Gutter.prototype);\n\n    exports.Gutter = Gutter;\n});\n\nace.define(\"ace/layer/marker\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/dom\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"../range\").Range;\n    var dom = acequire(\"../lib/dom\");\n\n    var Marker = function Marker(parentEl) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_marker-layer\";\n        parentEl.appendChild(this.element);\n    };\n\n    (function () {\n\n        this.$padding = 0;\n\n        this.setPadding = function (padding) {\n            this.$padding = padding;\n        };\n        this.setSession = function (session) {\n            this.session = session;\n        };\n\n        this.setMarkers = function (markers) {\n            this.markers = markers;\n        };\n\n        this.update = function (config) {\n            if (!config) return;\n\n            this.config = config;\n\n            var html = [];\n            for (var key in this.markers) {\n                var marker = this.markers[key];\n\n                if (!marker.range) {\n                    marker.update(html, this, this.session, config);\n                    continue;\n                }\n\n                var range = marker.range.clipRows(config.firstRow, config.lastRow);\n                if (range.isEmpty()) continue;\n\n                range = range.toScreenRange(this.session);\n                if (marker.renderer) {\n                    var top = this.$getTop(range.start.row, config);\n                    var left = this.$padding + (this.session.$bidiHandler.isBidiRow(range.start.row) ? this.session.$bidiHandler.getPosLeft(range.start.column) : range.start.column * config.characterWidth);\n                    marker.renderer(html, range, left, top, config);\n                } else if (marker.type == \"fullLine\") {\n                    this.drawFullLineMarker(html, range, marker.clazz, config);\n                } else if (marker.type == \"screenLine\") {\n                    this.drawScreenLineMarker(html, range, marker.clazz, config);\n                } else if (range.isMultiLine()) {\n                    if (marker.type == \"text\") this.drawTextMarker(html, range, marker.clazz, config);else this.drawMultiLineMarker(html, range, marker.clazz, config);\n                } else {\n                    if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n                        this.drawBidiSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n                    } else {\n                        this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n                    }\n                }\n            }\n            this.element.innerHTML = html.join(\"\");\n        };\n\n        this.$getTop = function (row, layerConfig) {\n            return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n        };\n\n        function getBorderClass(tl, tr, br, bl) {\n            return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n        }\n        this.drawTextMarker = function (stringBuilder, range, clazz, layerConfig, extraStyle) {\n            var session = this.session;\n            var start = range.start.row;\n            var end = range.end.row;\n            var row = start;\n            var prev = 0;\n            var curr = 0;\n            var next = session.getScreenLastRowColumn(row);\n            var clazzModified = null;\n            var lineRange = new Range(row, range.start.column, row, curr);\n            for (; row <= end; row++) {\n                lineRange.start.row = lineRange.end.row = row;\n                lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n                lineRange.end.column = next;\n                prev = curr;\n                curr = next;\n                next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n                clazzModified = clazz + (row == start ? \" ace_start\" : \"\") + \" ace_br\" + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end);\n\n                if (this.session.$bidiHandler.isBidiRow(row)) {\n                    this.drawBidiSingleLineMarker(stringBuilder, lineRange, clazzModified, layerConfig, row == end ? 0 : 1, extraStyle);\n                } else {\n                    this.drawSingleLineMarker(stringBuilder, lineRange, clazzModified, layerConfig, row == end ? 0 : 1, extraStyle);\n                }\n            }\n        };\n        this.drawMultiLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n            var padding = this.$padding;\n            var height, top, left;\n            extraStyle = extraStyle || \"\";\n            if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n                var range1 = range.clone();\n                range1.end.row = range1.start.row;\n                range1.end.column = this.session.getLine(range1.start.row).length;\n                this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n            } else {\n                height = config.lineHeight;\n                top = this.$getTop(range.start.row, config);\n                left = padding + range.start.column * config.characterWidth;\n                stringBuilder.push(\"<div class='\", clazz, \" ace_br1 ace_start' style='\", \"height:\", height, \"px;\", \"right:0;\", \"top:\", top, \"px;\", \"left:\", left, \"px;\", extraStyle, \"'></div>\");\n            }\n            if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n                var range1 = range.clone();\n                range1.start.row = range1.end.row;\n                range1.start.column = 0;\n                this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n            } else {\n                var width = range.end.column * config.characterWidth;\n                height = config.lineHeight;\n                top = this.$getTop(range.end.row, config);\n                stringBuilder.push(\"<div class='\", clazz, \" ace_br12' style='\", \"height:\", height, \"px;\", \"width:\", width, \"px;\", \"top:\", top, \"px;\", \"left:\", padding, \"px;\", extraStyle, \"'></div>\");\n            }\n            height = (range.end.row - range.start.row - 1) * config.lineHeight;\n            if (height <= 0) return;\n            top = this.$getTop(range.start.row + 1, config);\n\n            var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n            stringBuilder.push(\"<div class='\", clazz, radiusClass ? \" ace_br\" + radiusClass : \"\", \"' style='\", \"height:\", height, \"px;\", \"right:0;\", \"top:\", top, \"px;\", \"left:\", padding, \"px;\", extraStyle, \"'></div>\");\n        };\n        this.drawSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n            var height = config.lineHeight;\n            var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n            var top = this.$getTop(range.start.row, config);\n            var left = this.$padding + range.start.column * config.characterWidth;\n\n            stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"width:\", width, \"px;\", \"top:\", top, \"px;\", \"left:\", left, \"px;\", extraStyle || \"\", \"'></div>\");\n        };\n        this.drawBidiSingleLineMarker = function (stringBuilder, range, clazz, config, extraLength, extraStyle) {\n            var height = config.lineHeight,\n                top = this.$getTop(range.start.row, config),\n                padding = this.$padding;\n            var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n            selections.forEach(function (selection) {\n                stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"width:\", selection.width + (extraLength || 0), \"px;\", \"top:\", top, \"px;\", \"left:\", padding + selection.left, \"px;\", extraStyle || \"\", \"'></div>\");\n            });\n        };\n\n        this.drawFullLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n            var top = this.$getTop(range.start.row, config);\n            var height = config.lineHeight;\n            if (range.start.row != range.end.row) height += this.$getTop(range.end.row, config) - top;\n\n            stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"top:\", top, \"px;\", \"left:0;right:0;\", extraStyle || \"\", \"'></div>\");\n        };\n\n        this.drawScreenLineMarker = function (stringBuilder, range, clazz, config, extraStyle) {\n            var top = this.$getTop(range.start.row, config);\n            var height = config.lineHeight;\n\n            stringBuilder.push(\"<div class='\", clazz, \"' style='\", \"height:\", height, \"px;\", \"top:\", top, \"px;\", \"left:0;right:0;\", extraStyle || \"\", \"'></div>\");\n        };\n    }).call(Marker.prototype);\n\n    exports.Marker = Marker;\n});\n\nace.define(\"ace/layer/text\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"../lib/oop\");\n    var dom = acequire(\"../lib/dom\");\n    var lang = acequire(\"../lib/lang\");\n    var useragent = acequire(\"../lib/useragent\");\n    var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\n    var Text = function Text(parentEl) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_text-layer\";\n        parentEl.appendChild(this.element);\n        this.$updateEolChar = this.$updateEolChar.bind(this);\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n\n        this.EOF_CHAR = \"\\xB6\";\n        this.EOL_CHAR_LF = \"\\xAC\";\n        this.EOL_CHAR_CRLF = \"\\xa4\";\n        this.EOL_CHAR = this.EOL_CHAR_LF;\n        this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n        this.SPACE_CHAR = \"\\xB7\";\n        this.$padding = 0;\n\n        this.$updateEolChar = function () {\n            var EOL_CHAR = this.session.doc.getNewLineCharacter() == \"\\n\" ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n            if (this.EOL_CHAR != EOL_CHAR) {\n                this.EOL_CHAR = EOL_CHAR;\n                return true;\n            }\n        };\n\n        this.setPadding = function (padding) {\n            this.$padding = padding;\n            this.element.style.padding = \"0 \" + padding + \"px\";\n        };\n\n        this.getLineHeight = function () {\n            return this.$fontMetrics.$characterSize.height || 0;\n        };\n\n        this.getCharacterWidth = function () {\n            return this.$fontMetrics.$characterSize.width || 0;\n        };\n\n        this.$setFontMetrics = function (measure) {\n            this.$fontMetrics = measure;\n            this.$fontMetrics.on(\"changeCharacterSize\", function (e) {\n                this._signal(\"changeCharacterSize\", e);\n            }.bind(this));\n            this.$pollSizeChanges();\n        };\n\n        this.checkForSizeChanges = function () {\n            this.$fontMetrics.checkForSizeChanges();\n        };\n        this.$pollSizeChanges = function () {\n            return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n        };\n        this.setSession = function (session) {\n            this.session = session;\n            if (session) this.$computeTabString();\n        };\n\n        this.showInvisibles = false;\n        this.setShowInvisibles = function (showInvisibles) {\n            if (this.showInvisibles == showInvisibles) return false;\n\n            this.showInvisibles = showInvisibles;\n            this.$computeTabString();\n            return true;\n        };\n\n        this.displayIndentGuides = true;\n        this.setDisplayIndentGuides = function (display) {\n            if (this.displayIndentGuides == display) return false;\n\n            this.displayIndentGuides = display;\n            this.$computeTabString();\n            return true;\n        };\n\n        this.$tabStrings = [];\n        this.onChangeTabSize = this.$computeTabString = function () {\n            var tabSize = this.session.getTabSize();\n            this.tabSize = tabSize;\n            var tabStr = this.$tabStrings = [0];\n            for (var i = 1; i < tabSize + 1; i++) {\n                if (this.showInvisibles) {\n                    tabStr.push(\"<span class='ace_invisible ace_invisible_tab'>\" + lang.stringRepeat(this.TAB_CHAR, i) + \"</span>\");\n                } else {\n                    tabStr.push(lang.stringRepeat(\" \", i));\n                }\n            }\n            if (this.displayIndentGuides) {\n                this.$indentGuideRe = /\\s\\S| \\t|\\t |\\s$/;\n                var className = \"ace_indent-guide\";\n                var spaceClass = \"\";\n                var tabClass = \"\";\n                if (this.showInvisibles) {\n                    className += \" ace_invisible\";\n                    spaceClass = \" ace_invisible_space\";\n                    tabClass = \" ace_invisible_tab\";\n                    var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n                    var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);\n                } else {\n                    var spaceContent = lang.stringRepeat(\" \", this.tabSize);\n                    var tabContent = spaceContent;\n                }\n\n                this.$tabStrings[\" \"] = \"<span class='\" + className + spaceClass + \"'>\" + spaceContent + \"</span>\";\n                this.$tabStrings[\"\\t\"] = \"<span class='\" + className + tabClass + \"'>\" + tabContent + \"</span>\";\n            }\n        };\n\n        this.updateLines = function (config, firstRow, lastRow) {\n            if (this.config.lastRow != config.lastRow || this.config.firstRow != config.firstRow) {\n                this.scrollLines(config);\n            }\n            this.config = config;\n\n            var first = Math.max(firstRow, config.firstRow);\n            var last = Math.min(lastRow, config.lastRow);\n\n            var lineElements = this.element.childNodes;\n            var lineElementsIdx = 0;\n\n            for (var row = config.firstRow; row < first; row++) {\n                var foldLine = this.session.getFoldLine(row);\n                if (foldLine) {\n                    if (foldLine.containsRow(first)) {\n                        first = foldLine.start.row;\n                        break;\n                    } else {\n                        row = foldLine.end.row;\n                    }\n                }\n                lineElementsIdx++;\n            }\n\n            var row = first;\n            var foldLine = this.session.getNextFoldLine(row);\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n            while (true) {\n                if (row > foldStart) {\n                    row = foldLine.end.row + 1;\n                    foldLine = this.session.getNextFoldLine(row, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (row > last) break;\n\n                var lineElement = lineElements[lineElementsIdx++];\n                if (lineElement) {\n                    var html = [];\n                    this.$renderLine(html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false);\n                    lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n                    lineElement.innerHTML = html.join(\"\");\n                }\n                row++;\n            }\n        };\n\n        this.scrollLines = function (config) {\n            var oldConfig = this.config;\n            this.config = config;\n\n            if (!oldConfig || oldConfig.lastRow < config.firstRow) return this.update(config);\n\n            if (config.lastRow < oldConfig.firstRow) return this.update(config);\n\n            var el = this.element;\n            if (oldConfig.firstRow < config.firstRow) for (var row = this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row > 0; row--) {\n                el.removeChild(el.firstChild);\n            }if (oldConfig.lastRow > config.lastRow) for (var row = this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row > 0; row--) {\n                el.removeChild(el.lastChild);\n            }if (config.firstRow < oldConfig.firstRow) {\n                var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);\n                if (el.firstChild) el.insertBefore(fragment, el.firstChild);else el.appendChild(fragment);\n            }\n\n            if (config.lastRow > oldConfig.lastRow) {\n                var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);\n                el.appendChild(fragment);\n            }\n        };\n\n        this.$renderLinesFragment = function (config, firstRow, lastRow) {\n            var fragment = this.element.ownerDocument.createDocumentFragment();\n            var row = firstRow;\n            var foldLine = this.session.getNextFoldLine(row);\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n            while (true) {\n                if (row > foldStart) {\n                    row = foldLine.end.row + 1;\n                    foldLine = this.session.getNextFoldLine(row, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (row > lastRow) break;\n\n                var container = dom.createElement(\"div\");\n\n                var html = [];\n                this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n                container.innerHTML = html.join(\"\");\n                if (this.$useLineGroups()) {\n                    container.className = 'ace_line_group';\n                    fragment.appendChild(container);\n                    container.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n                } else {\n                    while (container.firstChild) {\n                        fragment.appendChild(container.firstChild);\n                    }\n                }\n\n                row++;\n            }\n            return fragment;\n        };\n\n        this.update = function (config) {\n            this.config = config;\n\n            var html = [];\n            var firstRow = config.firstRow,\n                lastRow = config.lastRow;\n\n            var row = firstRow;\n            var foldLine = this.session.getNextFoldLine(row);\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n            while (true) {\n                if (row > foldStart) {\n                    row = foldLine.end.row + 1;\n                    foldLine = this.session.getNextFoldLine(row, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n                if (row > lastRow) break;\n\n                if (this.$useLineGroups()) html.push(\"<div class='ace_line_group' style='height:\", config.lineHeight * this.session.getRowLength(row), \"px'>\");\n\n                this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n\n                if (this.$useLineGroups()) html.push(\"</div>\"); // end the line group\n\n                row++;\n            }\n            this.element.innerHTML = html.join(\"\");\n        };\n\n        this.$textToken = {\n            \"text\": true,\n            \"rparen\": true,\n            \"lparen\": true\n        };\n\n        this.$renderToken = function (stringBuilder, screenColumn, token, value) {\n            var self = this;\n            var replaceReg = /\\t|&|<|>|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\uFFF9-\\uFFFC])|[\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3000-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n            var replaceFunc = function replaceFunc(c, a, b, tabIdx, idx4) {\n                if (a) {\n                    return self.showInvisibles ? \"<span class='ace_invisible ace_invisible_space'>\" + lang.stringRepeat(self.SPACE_CHAR, c.length) + \"</span>\" : c;\n                } else if (c == \"&\") {\n                    return \"&#38;\";\n                } else if (c == \"<\") {\n                    return \"&#60;\";\n                } else if (c == \">\") {\n                    return \"&#62;\";\n                } else if (c == \"\\t\") {\n                    var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);\n                    screenColumn += tabSize - 1;\n                    return self.$tabStrings[tabSize];\n                } else if (c == \"\\u3000\") {\n                    var classToUse = self.showInvisibles ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                    var space = self.showInvisibles ? self.SPACE_CHAR : \"\";\n                    screenColumn += 1;\n                    return \"<span class='\" + classToUse + \"' style='width:\" + self.config.characterWidth * 2 + \"px'>\" + space + \"</span>\";\n                } else if (b) {\n                    return \"<span class='ace_invisible ace_invisible_space ace_invalid'>\" + self.SPACE_CHAR + \"</span>\";\n                } else {\n                    screenColumn += 1;\n                    return \"<span class='ace_cjk' style='width:\" + self.config.characterWidth * 2 + \"px'>\" + c + \"</span>\";\n                }\n            };\n\n            var output = value.replace(replaceReg, replaceFunc);\n\n            if (!this.$textToken[token.type]) {\n                var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n                var style = \"\";\n                if (token.type == \"fold\") style = \" style='width:\" + token.value.length * this.config.characterWidth + \"px;' \";\n                stringBuilder.push(\"<span class='\", classes, \"'\", style, \">\", output, \"</span>\");\n            } else {\n                stringBuilder.push(output);\n            }\n            return screenColumn + value.length;\n        };\n\n        this.renderIndentGuide = function (stringBuilder, value, max) {\n            var cols = value.search(this.$indentGuideRe);\n            if (cols <= 0 || cols >= max) return value;\n            if (value[0] == \" \") {\n                cols -= cols % this.tabSize;\n                stringBuilder.push(lang.stringRepeat(this.$tabStrings[\" \"], cols / this.tabSize));\n                return value.substr(cols);\n            } else if (value[0] == \"\\t\") {\n                stringBuilder.push(lang.stringRepeat(this.$tabStrings[\"\\t\"], cols));\n                return value.substr(cols);\n            }\n            return value;\n        };\n\n        this.$renderWrappedLine = function (stringBuilder, tokens, splits, onlyContents) {\n            var chars = 0;\n            var split = 0;\n            var splitChars = splits[0];\n            var screenColumn = 0;\n\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                var value = token.value;\n                if (i == 0 && this.displayIndentGuides) {\n                    chars = value.length;\n                    value = this.renderIndentGuide(stringBuilder, value, splitChars);\n                    if (!value) continue;\n                    chars -= value.length;\n                }\n\n                if (chars + value.length < splitChars) {\n                    screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n                    chars += value.length;\n                } else {\n                    while (chars + value.length >= splitChars) {\n                        screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value.substring(0, splitChars - chars));\n                        value = value.substring(splitChars - chars);\n                        chars = splitChars;\n\n                        if (!onlyContents) {\n                            stringBuilder.push(\"</div>\", \"<div class='ace_line' style='height:\", this.config.lineHeight, \"px'>\");\n                        }\n\n                        stringBuilder.push(lang.stringRepeat(\"\\xa0\", splits.indent));\n\n                        split++;\n                        screenColumn = 0;\n                        splitChars = splits[split] || Number.MAX_VALUE;\n                    }\n                    if (value.length != 0) {\n                        chars += value.length;\n                        screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n                    }\n                }\n            }\n        };\n\n        this.$renderSimpleLine = function (stringBuilder, tokens) {\n            var screenColumn = 0;\n            var token = tokens[0];\n            var value = token.value;\n            if (this.displayIndentGuides) value = this.renderIndentGuide(stringBuilder, value);\n            if (value) screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n            for (var i = 1; i < tokens.length; i++) {\n                token = tokens[i];\n                value = token.value;\n                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n            }\n        };\n        this.$renderLine = function (stringBuilder, row, onlyContents, foldLine) {\n            if (!foldLine && foldLine != false) foldLine = this.session.getFoldLine(row);\n\n            if (foldLine) var tokens = this.$getFoldLineTokens(row, foldLine);else var tokens = this.session.getTokens(row);\n\n            if (!onlyContents) {\n                stringBuilder.push(\"<div class='ace_line' style='height:\", this.config.lineHeight * (this.$useLineGroups() ? 1 : this.session.getRowLength(row)), \"px'>\");\n            }\n\n            if (tokens.length) {\n                var splits = this.session.getRowSplitData(row);\n                if (splits && splits.length) this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);else this.$renderSimpleLine(stringBuilder, tokens);\n            }\n\n            if (this.showInvisibles) {\n                if (foldLine) row = foldLine.end.row;\n\n                stringBuilder.push(\"<span class='ace_invisible ace_invisible_eol'>\", row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, \"</span>\");\n            }\n            if (!onlyContents) stringBuilder.push(\"</div>\");\n        };\n\n        this.$getFoldLineTokens = function (row, foldLine) {\n            var session = this.session;\n            var renderTokens = [];\n\n            function addTokens(tokens, from, to) {\n                var idx = 0,\n                    col = 0;\n                while (col + tokens[idx].value.length < from) {\n                    col += tokens[idx].value.length;\n                    idx++;\n\n                    if (idx == tokens.length) return;\n                }\n                if (col != from) {\n                    var value = tokens[idx].value.substring(from - col);\n                    if (value.length > to - from) value = value.substring(0, to - from);\n\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value\n                    });\n\n                    col = from + value.length;\n                    idx += 1;\n                }\n\n                while (col < to && idx < tokens.length) {\n                    var value = tokens[idx].value;\n                    if (value.length + col > to) {\n                        renderTokens.push({\n                            type: tokens[idx].type,\n                            value: value.substring(0, to - col)\n                        });\n                    } else renderTokens.push(tokens[idx]);\n                    col += value.length;\n                    idx += 1;\n                }\n            }\n\n            var tokens = session.getTokens(row);\n            foldLine.walk(function (placeholder, row, column, lastColumn, isNewRow) {\n                if (placeholder != null) {\n                    renderTokens.push({\n                        type: \"fold\",\n                        value: placeholder\n                    });\n                } else {\n                    if (isNewRow) tokens = session.getTokens(row);\n\n                    if (tokens.length) addTokens(tokens, lastColumn, column);\n                }\n            }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n            return renderTokens;\n        };\n\n        this.$useLineGroups = function () {\n            return this.session.getUseWrapMode();\n        };\n\n        this.destroy = function () {\n            clearInterval(this.$pollSizeChangesTimer);\n            if (this.$measureNode) this.$measureNode.parentNode.removeChild(this.$measureNode);\n            delete this.$measureNode;\n        };\n    }).call(Text.prototype);\n\n    exports.Text = Text;\n});\n\nace.define(\"ace/layer/cursor\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var dom = acequire(\"../lib/dom\");\n    var isIE8;\n\n    var Cursor = function Cursor(parentEl) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_layer ace_cursor-layer\";\n        parentEl.appendChild(this.element);\n\n        if (isIE8 === undefined) isIE8 = !(\"opacity\" in this.element.style);\n\n        this.isVisible = false;\n        this.isBlinking = true;\n        this.blinkInterval = 1000;\n        this.smoothBlinking = false;\n\n        this.cursors = [];\n        this.cursor = this.addCursor();\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.$updateCursors = (isIE8 ? this.$updateVisibility : this.$updateOpacity).bind(this);\n    };\n\n    (function () {\n\n        this.$updateVisibility = function (val) {\n            var cursors = this.cursors;\n            for (var i = cursors.length; i--;) {\n                cursors[i].style.visibility = val ? \"\" : \"hidden\";\n            }\n        };\n        this.$updateOpacity = function (val) {\n            var cursors = this.cursors;\n            for (var i = cursors.length; i--;) {\n                cursors[i].style.opacity = val ? \"\" : \"0\";\n            }\n        };\n\n        this.$padding = 0;\n        this.setPadding = function (padding) {\n            this.$padding = padding;\n        };\n\n        this.setSession = function (session) {\n            this.session = session;\n        };\n\n        this.setBlinking = function (blinking) {\n            if (blinking != this.isBlinking) {\n                this.isBlinking = blinking;\n                this.restartTimer();\n            }\n        };\n\n        this.setBlinkInterval = function (blinkInterval) {\n            if (blinkInterval != this.blinkInterval) {\n                this.blinkInterval = blinkInterval;\n                this.restartTimer();\n            }\n        };\n\n        this.setSmoothBlinking = function (smoothBlinking) {\n            if (smoothBlinking != this.smoothBlinking && !isIE8) {\n                this.smoothBlinking = smoothBlinking;\n                dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n                this.$updateCursors(true);\n                this.$updateCursors = this.$updateOpacity.bind(this);\n                this.restartTimer();\n            }\n        };\n\n        this.addCursor = function () {\n            var el = dom.createElement(\"div\");\n            el.className = \"ace_cursor\";\n            this.element.appendChild(el);\n            this.cursors.push(el);\n            return el;\n        };\n\n        this.removeCursor = function () {\n            if (this.cursors.length > 1) {\n                var el = this.cursors.pop();\n                el.parentNode.removeChild(el);\n                return el;\n            }\n        };\n\n        this.hideCursor = function () {\n            this.isVisible = false;\n            dom.addCssClass(this.element, \"ace_hidden-cursors\");\n            this.restartTimer();\n        };\n\n        this.showCursor = function () {\n            this.isVisible = true;\n            dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n            this.restartTimer();\n        };\n\n        this.restartTimer = function () {\n            var update = this.$updateCursors;\n            clearInterval(this.intervalId);\n            clearTimeout(this.timeoutId);\n            if (this.smoothBlinking) {\n                dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n            }\n\n            update(true);\n\n            if (!this.isBlinking || !this.blinkInterval || !this.isVisible) return;\n\n            if (this.smoothBlinking) {\n                setTimeout(function () {\n                    dom.addCssClass(this.element, \"ace_smooth-blinking\");\n                }.bind(this));\n            }\n\n            var blink = function () {\n                this.timeoutId = setTimeout(function () {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n\n            this.intervalId = setInterval(function () {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n\n            blink();\n        };\n\n        this.getPixelPosition = function (position, onScreen) {\n            if (!this.config || !this.session) return { left: 0, top: 0 };\n\n            if (!position) position = this.session.selection.getCursor();\n            var pos = this.session.documentToScreenPosition(position);\n            var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row) ? this.session.$bidiHandler.getPosLeft(pos.column) : pos.column * this.config.characterWidth);\n\n            var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) * this.config.lineHeight;\n\n            return { left: cursorLeft, top: cursorTop };\n        };\n\n        this.update = function (config) {\n            this.config = config;\n\n            var selections = this.session.$selectionMarkers;\n            var i = 0,\n                cursorIndex = 0;\n\n            if (selections === undefined || selections.length === 0) {\n                selections = [{ cursor: null }];\n            }\n\n            for (var i = 0, n = selections.length; i < n; i++) {\n                var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n                if ((pixelPos.top > config.height + config.offset || pixelPos.top < 0) && i > 1) {\n                    continue;\n                }\n\n                var style = (this.cursors[cursorIndex++] || this.addCursor()).style;\n\n                if (!this.drawCursor) {\n                    style.left = pixelPos.left + \"px\";\n                    style.top = pixelPos.top + \"px\";\n                    style.width = config.characterWidth + \"px\";\n                    style.height = config.lineHeight + \"px\";\n                } else {\n                    this.drawCursor(style, pixelPos, config, selections[i], this.session);\n                }\n            }\n            while (this.cursors.length > cursorIndex) {\n                this.removeCursor();\n            }var overwrite = this.session.getOverwrite();\n            this.$setOverwrite(overwrite);\n            this.$pixelPos = pixelPos;\n            this.restartTimer();\n        };\n\n        this.drawCursor = null;\n\n        this.$setOverwrite = function (overwrite) {\n            if (overwrite != this.overwrite) {\n                this.overwrite = overwrite;\n                if (overwrite) dom.addCssClass(this.element, \"ace_overwrite-cursors\");else dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n            }\n        };\n\n        this.destroy = function () {\n            clearInterval(this.intervalId);\n            clearTimeout(this.timeoutId);\n        };\n    }).call(Cursor.prototype);\n\n    exports.Cursor = Cursor;\n});\n\nace.define(\"ace/scrollbar\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var dom = acequire(\"./lib/dom\");\n    var event = acequire(\"./lib/event\");\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var MAX_SCROLL_H = 0x8000;\n    var ScrollBar = function ScrollBar(parent) {\n        this.element = dom.createElement(\"div\");\n        this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n        this.inner = dom.createElement(\"div\");\n        this.inner.className = \"ace_scrollbar-inner\";\n        this.element.appendChild(this.inner);\n\n        parent.appendChild(this.element);\n\n        this.setVisible(false);\n        this.skipEvent = false;\n\n        event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n        event.addListener(this.element, \"mousedown\", event.preventDefault);\n    };\n\n    (function () {\n        oop.implement(this, EventEmitter);\n\n        this.setVisible = function (isVisible) {\n            this.element.style.display = isVisible ? \"\" : \"none\";\n            this.isVisible = isVisible;\n            this.coeff = 1;\n        };\n    }).call(ScrollBar.prototype);\n    var VScrollBar = function VScrollBar(parent, renderer) {\n        ScrollBar.call(this, parent);\n        this.scrollTop = 0;\n        this.scrollHeight = 0;\n        renderer.$scrollbarWidth = this.width = dom.scrollbarWidth(parent.ownerDocument);\n        this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + \"px\";\n        this.$minWidth = 0;\n    };\n\n    oop.inherits(VScrollBar, ScrollBar);\n\n    (function () {\n\n        this.classSuffix = '-v';\n        this.onScroll = function () {\n            if (!this.skipEvent) {\n                this.scrollTop = this.element.scrollTop;\n                if (this.coeff != 1) {\n                    var h = this.element.clientHeight / this.scrollHeight;\n                    this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n                }\n                this._emit(\"scroll\", { data: this.scrollTop });\n            }\n            this.skipEvent = false;\n        };\n        this.getWidth = function () {\n            return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n        };\n        this.setHeight = function (height) {\n            this.element.style.height = height + \"px\";\n        };\n        this.setInnerHeight = this.setScrollHeight = function (height) {\n            this.scrollHeight = height;\n            if (height > MAX_SCROLL_H) {\n                this.coeff = MAX_SCROLL_H / height;\n                height = MAX_SCROLL_H;\n            } else if (this.coeff != 1) {\n                this.coeff = 1;\n            }\n            this.inner.style.height = height + \"px\";\n        };\n        this.setScrollTop = function (scrollTop) {\n            if (this.scrollTop != scrollTop) {\n                this.skipEvent = true;\n                this.scrollTop = scrollTop;\n                this.element.scrollTop = scrollTop * this.coeff;\n            }\n        };\n    }).call(VScrollBar.prototype);\n    var HScrollBar = function HScrollBar(parent, renderer) {\n        ScrollBar.call(this, parent);\n        this.scrollLeft = 0;\n        this.height = renderer.$scrollbarWidth;\n        this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + \"px\";\n    };\n\n    oop.inherits(HScrollBar, ScrollBar);\n\n    (function () {\n\n        this.classSuffix = '-h';\n        this.onScroll = function () {\n            if (!this.skipEvent) {\n                this.scrollLeft = this.element.scrollLeft;\n                this._emit(\"scroll\", { data: this.scrollLeft });\n            }\n            this.skipEvent = false;\n        };\n        this.getHeight = function () {\n            return this.isVisible ? this.height : 0;\n        };\n        this.setWidth = function (width) {\n            this.element.style.width = width + \"px\";\n        };\n        this.setInnerWidth = function (width) {\n            this.inner.style.width = width + \"px\";\n        };\n        this.setScrollWidth = function (width) {\n            this.inner.style.width = width + \"px\";\n        };\n        this.setScrollLeft = function (scrollLeft) {\n            if (this.scrollLeft != scrollLeft) {\n                this.skipEvent = true;\n                this.scrollLeft = this.element.scrollLeft = scrollLeft;\n            }\n        };\n    }).call(HScrollBar.prototype);\n\n    exports.ScrollBar = VScrollBar; // backward compatibility\n    exports.ScrollBarV = VScrollBar; // backward compatibility\n    exports.ScrollBarH = HScrollBar; // backward compatibility\n\n    exports.VScrollBar = VScrollBar;\n    exports.HScrollBar = HScrollBar;\n});\n\nace.define(\"ace/renderloop\", [\"require\", \"exports\", \"module\", \"ace/lib/event\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var event = acequire(\"./lib/event\");\n\n    var RenderLoop = function RenderLoop(onRender, win) {\n        this.onRender = onRender;\n        this.pending = false;\n        this.changes = 0;\n        this.window = win || window;\n    };\n\n    (function () {\n\n        this.schedule = function (change) {\n            this.changes = this.changes | change;\n            if (!this.pending && this.changes) {\n                this.pending = true;\n                var _self = this;\n                event.nextFrame(function () {\n                    _self.pending = false;\n                    var changes;\n                    while (changes = _self.changes) {\n                        _self.changes = 0;\n                        _self.onRender(changes);\n                    }\n                }, this.window);\n            }\n        };\n    }).call(RenderLoop.prototype);\n\n    exports.RenderLoop = RenderLoop;\n});\n\nace.define(\"ace/layer/font_metrics\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/lib/lang\", \"ace/lib/useragent\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n\n    var oop = acequire(\"../lib/oop\");\n    var dom = acequire(\"../lib/dom\");\n    var lang = acequire(\"../lib/lang\");\n    var useragent = acequire(\"../lib/useragent\");\n    var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\n    var CHAR_COUNT = 0;\n\n    var FontMetrics = exports.FontMetrics = function (parentEl) {\n        this.el = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(this.el.style, true);\n\n        this.$main = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(this.$main.style);\n\n        this.$measureNode = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(this.$measureNode.style);\n\n        this.el.appendChild(this.$main);\n        this.el.appendChild(this.$measureNode);\n        parentEl.appendChild(this.el);\n\n        if (!CHAR_COUNT) this.$testFractionalRect();\n        this.$measureNode.innerHTML = lang.stringRepeat(\"X\", CHAR_COUNT);\n\n        this.$characterSize = { width: 0, height: 0 };\n        this.checkForSizeChanges();\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n\n        this.$characterSize = { width: 0, height: 0 };\n\n        this.$testFractionalRect = function () {\n            var el = dom.createElement(\"div\");\n            this.$setMeasureNodeStyles(el.style);\n            el.style.width = \"0.2px\";\n            document.documentElement.appendChild(el);\n            var w = el.getBoundingClientRect().width;\n            if (w > 0 && w < 1) CHAR_COUNT = 50;else CHAR_COUNT = 100;\n            el.parentNode.removeChild(el);\n        };\n\n        this.$setMeasureNodeStyles = function (style, isRoot) {\n            style.width = style.height = \"auto\";\n            style.left = style.top = \"0px\";\n            style.visibility = \"hidden\";\n            style.position = \"absolute\";\n            style.whiteSpace = \"pre\";\n\n            if (useragent.isIE < 8) {\n                style[\"font-family\"] = \"inherit\";\n            } else {\n                style.font = \"inherit\";\n            }\n            style.overflow = isRoot ? \"hidden\" : \"visible\";\n        };\n\n        this.checkForSizeChanges = function () {\n            var size = this.$measureSizes();\n            if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n                this.$measureNode.style.fontWeight = \"bold\";\n                var boldSize = this.$measureSizes();\n                this.$measureNode.style.fontWeight = \"\";\n                this.$characterSize = size;\n                this.charSizes = Object.create(null);\n                this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n                this._emit(\"changeCharacterSize\", { data: size });\n            }\n        };\n\n        this.$pollSizeChanges = function () {\n            if (this.$pollSizeChangesTimer) return this.$pollSizeChangesTimer;\n            var self = this;\n            return this.$pollSizeChangesTimer = setInterval(function () {\n                self.checkForSizeChanges();\n            }, 500);\n        };\n\n        this.setPolling = function (val) {\n            if (val) {\n                this.$pollSizeChanges();\n            } else if (this.$pollSizeChangesTimer) {\n                clearInterval(this.$pollSizeChangesTimer);\n                this.$pollSizeChangesTimer = 0;\n            }\n        };\n\n        this.$measureSizes = function () {\n            if (CHAR_COUNT === 50) {\n                var rect = null;\n                try {\n                    rect = this.$measureNode.getBoundingClientRect();\n                } catch (e) {\n                    rect = { width: 0, height: 0 };\n                }\n                var size = {\n                    height: rect.height,\n                    width: rect.width / CHAR_COUNT\n                };\n            } else {\n                var size = {\n                    height: this.$measureNode.clientHeight,\n                    width: this.$measureNode.clientWidth / CHAR_COUNT\n                };\n            }\n            if (size.width === 0 || size.height === 0) return null;\n            return size;\n        };\n\n        this.$measureCharWidth = function (ch) {\n            this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);\n            var rect = this.$main.getBoundingClientRect();\n            return rect.width / CHAR_COUNT;\n        };\n\n        this.getCharacterWidth = function (ch) {\n            var w = this.charSizes[ch];\n            if (w === undefined) {\n                w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n            }\n            return w;\n        };\n\n        this.destroy = function () {\n            clearInterval(this.$pollSizeChangesTimer);\n            if (this.el && this.el.parentNode) this.el.parentNode.removeChild(this.el);\n        };\n    }).call(FontMetrics.prototype);\n});\n\nace.define(\"ace/virtual_renderer\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/config\", \"ace/lib/useragent\", \"ace/layer/gutter\", \"ace/layer/marker\", \"ace/layer/text\", \"ace/layer/cursor\", \"ace/scrollbar\", \"ace/scrollbar\", \"ace/renderloop\", \"ace/layer/font_metrics\", \"ace/lib/event_emitter\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var dom = acequire(\"./lib/dom\");\n    var config = acequire(\"./config\");\n    var useragent = acequire(\"./lib/useragent\");\n    var GutterLayer = acequire(\"./layer/gutter\").Gutter;\n    var MarkerLayer = acequire(\"./layer/marker\").Marker;\n    var TextLayer = acequire(\"./layer/text\").Text;\n    var CursorLayer = acequire(\"./layer/cursor\").Cursor;\n    var HScrollBar = acequire(\"./scrollbar\").HScrollBar;\n    var VScrollBar = acequire(\"./scrollbar\").VScrollBar;\n    var RenderLoop = acequire(\"./renderloop\").RenderLoop;\n    var FontMetrics = acequire(\"./layer/font_metrics\").FontMetrics;\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var editorCss = \".ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ntext-indent: -1em;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: inherit;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\ntext-indent: 0;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\n-webkit-transition: opacity 0.18s;\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\n-webkit-transition: opacity 0.4s ease 0.05s;\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\n-webkit-transition: opacity 0.05s ease 0.05s;\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_text-input-ios {\\\nposition: absolute !important;\\\ntop: -100000px !important;\\\nleft: -100000px !important;\\\n}\\\n\";\n\n    dom.importCssString(editorCss, \"ace_editor.css\");\n\n    var VirtualRenderer = function VirtualRenderer(container, theme) {\n        var _self = this;\n\n        this.container = container || dom.createElement(\"div\");\n        this.$keepTextAreaAtCursor = !useragent.isOldIE;\n\n        dom.addCssClass(this.container, \"ace_editor\");\n\n        this.setTheme(theme);\n\n        this.$gutter = dom.createElement(\"div\");\n        this.$gutter.className = \"ace_gutter\";\n        this.container.appendChild(this.$gutter);\n        this.$gutter.setAttribute(\"aria-hidden\", true);\n\n        this.scroller = dom.createElement(\"div\");\n        this.scroller.className = \"ace_scroller\";\n        this.container.appendChild(this.scroller);\n\n        this.content = dom.createElement(\"div\");\n        this.content.className = \"ace_content\";\n        this.scroller.appendChild(this.content);\n\n        this.$gutterLayer = new GutterLayer(this.$gutter);\n        this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n        this.$markerBack = new MarkerLayer(this.content);\n\n        var textLayer = this.$textLayer = new TextLayer(this.content);\n        this.canvas = textLayer.element;\n\n        this.$markerFront = new MarkerLayer(this.content);\n\n        this.$cursorLayer = new CursorLayer(this.content);\n        this.$horizScroll = false;\n        this.$vScroll = false;\n\n        this.scrollBar = this.scrollBarV = new VScrollBar(this.container, this);\n        this.scrollBarH = new HScrollBar(this.container, this);\n        this.scrollBarV.addEventListener(\"scroll\", function (e) {\n            if (!_self.$scrollAnimation) _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n        });\n        this.scrollBarH.addEventListener(\"scroll\", function (e) {\n            if (!_self.$scrollAnimation) _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n        });\n\n        this.scrollTop = 0;\n        this.scrollLeft = 0;\n\n        this.cursorPos = {\n            row: 0,\n            column: 0\n        };\n\n        this.$fontMetrics = new FontMetrics(this.container);\n        this.$textLayer.$setFontMetrics(this.$fontMetrics);\n        this.$textLayer.addEventListener(\"changeCharacterSize\", function (e) {\n            _self.updateCharacterSize();\n            _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n            _self._signal(\"changeCharacterSize\", e);\n        });\n\n        this.$size = {\n            width: 0,\n            height: 0,\n            scrollerHeight: 0,\n            scrollerWidth: 0,\n            $dirty: true\n        };\n\n        this.layerConfig = {\n            width: 1,\n            padding: 0,\n            firstRow: 0,\n            firstRowScreen: 0,\n            lastRow: 0,\n            lineHeight: 0,\n            characterWidth: 0,\n            minHeight: 1,\n            maxHeight: 1,\n            offset: 0,\n            height: 1,\n            gutterOffset: 1\n        };\n\n        this.scrollMargin = {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0,\n            v: 0,\n            h: 0\n        };\n\n        this.$loop = new RenderLoop(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView);\n        this.$loop.schedule(this.CHANGE_FULL);\n\n        this.updateCharacterSize();\n        this.setPadding(4);\n        config.resetOptions(this);\n        config._emit(\"renderer\", this);\n    };\n\n    (function () {\n\n        this.CHANGE_CURSOR = 1;\n        this.CHANGE_MARKER = 2;\n        this.CHANGE_GUTTER = 4;\n        this.CHANGE_SCROLL = 8;\n        this.CHANGE_LINES = 16;\n        this.CHANGE_TEXT = 32;\n        this.CHANGE_SIZE = 64;\n        this.CHANGE_MARKER_BACK = 128;\n        this.CHANGE_MARKER_FRONT = 256;\n        this.CHANGE_FULL = 512;\n        this.CHANGE_H_SCROLL = 1024;\n\n        oop.implement(this, EventEmitter);\n\n        this.updateCharacterSize = function () {\n            if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n                this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n                this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n            }\n\n            this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth();\n            this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight();\n            this.$updatePrintMargin();\n        };\n        this.setSession = function (session) {\n            if (this.session) this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n\n            this.session = session;\n            if (session && this.scrollMargin.top && session.getScrollTop() <= 0) session.setScrollTop(-this.scrollMargin.top);\n\n            this.$cursorLayer.setSession(session);\n            this.$markerBack.setSession(session);\n            this.$markerFront.setSession(session);\n            this.$gutterLayer.setSession(session);\n            this.$textLayer.setSession(session);\n            if (!session) return;\n\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.session.$setFontMetrics(this.$fontMetrics);\n            this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n\n            this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n            this.onChangeNewLineMode();\n            this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n        };\n        this.updateLines = function (firstRow, lastRow, force) {\n            if (lastRow === undefined) lastRow = Infinity;\n\n            if (!this.$changedLines) {\n                this.$changedLines = {\n                    firstRow: firstRow,\n                    lastRow: lastRow\n                };\n            } else {\n                if (this.$changedLines.firstRow > firstRow) this.$changedLines.firstRow = firstRow;\n\n                if (this.$changedLines.lastRow < lastRow) this.$changedLines.lastRow = lastRow;\n            }\n            if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n                if (force) this.$changedLines.lastRow = this.layerConfig.lastRow;else return;\n            }\n            if (this.$changedLines.firstRow > this.layerConfig.lastRow) return;\n            this.$loop.schedule(this.CHANGE_LINES);\n        };\n\n        this.onChangeNewLineMode = function () {\n            this.$loop.schedule(this.CHANGE_TEXT);\n            this.$textLayer.$updateEolChar();\n            this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n        };\n\n        this.onChangeTabSize = function () {\n            this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n            this.$textLayer.onChangeTabSize();\n        };\n        this.updateText = function () {\n            this.$loop.schedule(this.CHANGE_TEXT);\n        };\n        this.updateFull = function (force) {\n            if (force) this.$renderChanges(this.CHANGE_FULL, true);else this.$loop.schedule(this.CHANGE_FULL);\n        };\n        this.updateFontSize = function () {\n            this.$textLayer.checkForSizeChanges();\n        };\n\n        this.$changes = 0;\n        this.$updateSizeAsync = function () {\n            if (this.$loop.pending) this.$size.$dirty = true;else this.onResize();\n        };\n        this.onResize = function (force, gutterWidth, width, height) {\n            if (this.resizing > 2) return;else if (this.resizing > 0) this.resizing++;else this.resizing = force ? 1 : 0;\n            var el = this.container;\n            if (!height) height = el.clientHeight || el.scrollHeight;\n            if (!width) width = el.clientWidth || el.scrollWidth;\n            var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n            if (!this.$size.scrollerHeight || !width && !height) return this.resizing = 0;\n\n            if (force) this.$gutterLayer.$padding = null;\n\n            if (force) this.$renderChanges(changes | this.$changes, true);else this.$loop.schedule(changes | this.$changes);\n\n            if (this.resizing) this.resizing = 0;\n            this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n        };\n\n        this.$updateCachedSize = function (force, gutterWidth, width, height) {\n            height -= this.$extraHeight || 0;\n            var changes = 0;\n            var size = this.$size;\n            var oldSize = {\n                width: size.width,\n                height: size.height,\n                scrollerHeight: size.scrollerHeight,\n                scrollerWidth: size.scrollerWidth\n            };\n            if (height && (force || size.height != height)) {\n                size.height = height;\n                changes |= this.CHANGE_SIZE;\n\n                size.scrollerHeight = size.height;\n                if (this.$horizScroll) size.scrollerHeight -= this.scrollBarH.getHeight();\n                this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n                changes = changes | this.CHANGE_SCROLL;\n            }\n\n            if (width && (force || size.width != width)) {\n                changes |= this.CHANGE_SIZE;\n                size.width = width;\n\n                if (gutterWidth == null) gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n\n                this.gutterWidth = gutterWidth;\n\n                this.scrollBarH.element.style.left = this.scroller.style.left = gutterWidth + \"px\";\n                size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());\n\n                this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + \"px\";\n                this.scroller.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n                if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) changes |= this.CHANGE_FULL;\n            }\n\n            size.$dirty = !width || !height;\n\n            if (changes) this._signal(\"resize\", oldSize);\n\n            return changes;\n        };\n\n        this.onGutterResize = function () {\n            var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            if (gutterWidth != this.gutterWidth) this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n            if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n                this.$loop.schedule(this.CHANGE_FULL);\n            } else if (this.$size.$dirty) {\n                this.$loop.schedule(this.CHANGE_FULL);\n            } else {\n                this.$computeLayerConfig();\n                this.$loop.schedule(this.CHANGE_MARKER);\n            }\n        };\n        this.adjustWrapLimit = function () {\n            var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n            var limit = Math.floor(availableWidth / this.characterWidth);\n            return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n        };\n        this.setAnimatedScroll = function (shouldAnimate) {\n            this.setOption(\"animatedScroll\", shouldAnimate);\n        };\n        this.getAnimatedScroll = function () {\n            return this.$animatedScroll;\n        };\n        this.setShowInvisibles = function (showInvisibles) {\n            this.setOption(\"showInvisibles\", showInvisibles);\n            this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n        };\n        this.getShowInvisibles = function () {\n            return this.getOption(\"showInvisibles\");\n        };\n        this.getDisplayIndentGuides = function () {\n            return this.getOption(\"displayIndentGuides\");\n        };\n\n        this.setDisplayIndentGuides = function (display) {\n            this.setOption(\"displayIndentGuides\", display);\n        };\n        this.setShowPrintMargin = function (showPrintMargin) {\n            this.setOption(\"showPrintMargin\", showPrintMargin);\n        };\n        this.getShowPrintMargin = function () {\n            return this.getOption(\"showPrintMargin\");\n        };\n        this.setPrintMarginColumn = function (showPrintMargin) {\n            this.setOption(\"printMarginColumn\", showPrintMargin);\n        };\n        this.getPrintMarginColumn = function () {\n            return this.getOption(\"printMarginColumn\");\n        };\n        this.getShowGutter = function () {\n            return this.getOption(\"showGutter\");\n        };\n        this.setShowGutter = function (show) {\n            return this.setOption(\"showGutter\", show);\n        };\n\n        this.getFadeFoldWidgets = function () {\n            return this.getOption(\"fadeFoldWidgets\");\n        };\n\n        this.setFadeFoldWidgets = function (show) {\n            this.setOption(\"fadeFoldWidgets\", show);\n        };\n\n        this.setHighlightGutterLine = function (shouldHighlight) {\n            this.setOption(\"highlightGutterLine\", shouldHighlight);\n        };\n\n        this.getHighlightGutterLine = function () {\n            return this.getOption(\"highlightGutterLine\");\n        };\n\n        this.$updateGutterLineHighlight = function () {\n            var pos = this.$cursorLayer.$pixelPos;\n            var height = this.layerConfig.lineHeight;\n            if (this.session.getUseWrapMode()) {\n                var cursor = this.session.selection.getCursor();\n                cursor.column = 0;\n                pos = this.$cursorLayer.getPixelPosition(cursor, true);\n                height *= this.session.getRowLength(cursor.row);\n            }\n            this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + \"px\";\n            this.$gutterLineHighlight.style.height = height + \"px\";\n        };\n\n        this.$updatePrintMargin = function () {\n            if (!this.$showPrintMargin && !this.$printMarginEl) return;\n\n            if (!this.$printMarginEl) {\n                var containerEl = dom.createElement(\"div\");\n                containerEl.className = \"ace_layer ace_print-margin-layer\";\n                this.$printMarginEl = dom.createElement(\"div\");\n                this.$printMarginEl.className = \"ace_print-margin\";\n                containerEl.appendChild(this.$printMarginEl);\n                this.content.insertBefore(containerEl, this.content.firstChild);\n            }\n\n            var style = this.$printMarginEl.style;\n            style.left = this.characterWidth * this.$printMarginColumn + this.$padding + \"px\";\n            style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n\n            if (this.session && this.session.$wrap == -1) this.adjustWrapLimit();\n        };\n        this.getContainerElement = function () {\n            return this.container;\n        };\n        this.getMouseEventTarget = function () {\n            return this.scroller;\n        };\n        this.getTextAreaContainer = function () {\n            return this.container;\n        };\n        this.$moveTextAreaToCursor = function () {\n            if (!this.$keepTextAreaAtCursor) return;\n            var config = this.layerConfig;\n            var posTop = this.$cursorLayer.$pixelPos.top;\n            var posLeft = this.$cursorLayer.$pixelPos.left;\n            posTop -= config.offset;\n\n            var style = this.textarea.style;\n            var h = this.lineHeight;\n            if (posTop < 0 || posTop > config.height - h) {\n                style.top = style.left = \"0\";\n                return;\n            }\n\n            var w = this.characterWidth;\n            if (this.$composition) {\n                var val = this.textarea.value.replace(/^\\x01+/, \"\");\n                w *= this.session.$getStringScreenWidth(val)[0] + 2;\n                h += 2;\n            }\n            posLeft -= this.scrollLeft;\n            if (posLeft > this.$size.scrollerWidth - w) posLeft = this.$size.scrollerWidth - w;\n\n            posLeft += this.gutterWidth;\n            style.height = h + \"px\";\n            style.width = w + \"px\";\n            style.left = Math.min(posLeft, this.$size.scrollerWidth - w) + \"px\";\n            style.top = Math.min(posTop, this.$size.height - h) + \"px\";\n        };\n        this.getFirstVisibleRow = function () {\n            return this.layerConfig.firstRow;\n        };\n        this.getFirstFullyVisibleRow = function () {\n            return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n        };\n        this.getLastFullyVisibleRow = function () {\n            var config = this.layerConfig;\n            var lastRow = config.lastRow;\n            var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n            if (top - this.session.getScrollTop() > config.height - config.lineHeight) return lastRow - 1;\n            return lastRow;\n        };\n        this.getLastVisibleRow = function () {\n            return this.layerConfig.lastRow;\n        };\n\n        this.$padding = null;\n        this.setPadding = function (padding) {\n            this.$padding = padding;\n            this.$textLayer.setPadding(padding);\n            this.$cursorLayer.setPadding(padding);\n            this.$markerFront.setPadding(padding);\n            this.$markerBack.setPadding(padding);\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.$updatePrintMargin();\n        };\n\n        this.setScrollMargin = function (top, bottom, left, right) {\n            var sm = this.scrollMargin;\n            sm.top = top | 0;\n            sm.bottom = bottom | 0;\n            sm.right = right | 0;\n            sm.left = left | 0;\n            sm.v = sm.top + sm.bottom;\n            sm.h = sm.left + sm.right;\n            if (sm.top && this.scrollTop <= 0 && this.session) this.session.setScrollTop(-sm.top);\n            this.updateFull();\n        };\n        this.getHScrollBarAlwaysVisible = function () {\n            return this.$hScrollBarAlwaysVisible;\n        };\n        this.setHScrollBarAlwaysVisible = function (alwaysVisible) {\n            this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n        };\n        this.getVScrollBarAlwaysVisible = function () {\n            return this.$vScrollBarAlwaysVisible;\n        };\n        this.setVScrollBarAlwaysVisible = function (alwaysVisible) {\n            this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n        };\n\n        this.$updateScrollBarV = function () {\n            var scrollHeight = this.layerConfig.maxHeight;\n            var scrollerHeight = this.$size.scrollerHeight;\n            if (!this.$maxLines && this.$scrollPastEnd) {\n                scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n                if (this.scrollTop > scrollHeight - scrollerHeight) {\n                    scrollHeight = this.scrollTop + scrollerHeight;\n                    this.scrollBarV.scrollTop = null;\n                }\n            }\n            this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n            this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n        };\n        this.$updateScrollBarH = function () {\n            this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n            this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n        };\n\n        this.$frozen = false;\n        this.freeze = function () {\n            this.$frozen = true;\n        };\n\n        this.unfreeze = function () {\n            this.$frozen = false;\n        };\n\n        this.$renderChanges = function (changes, force) {\n            if (this.$changes) {\n                changes |= this.$changes;\n                this.$changes = 0;\n            }\n            if (!this.session || !this.container.offsetWidth || this.$frozen || !changes && !force) {\n                this.$changes |= changes;\n                return;\n            }\n            if (this.$size.$dirty) {\n                this.$changes |= changes;\n                return this.onResize(true);\n            }\n            if (!this.lineHeight) {\n                this.$textLayer.checkForSizeChanges();\n            }\n\n            this._signal(\"beforeRender\");\n\n            if (this.session && this.session.$bidiHandler) this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n            var config = this.layerConfig;\n            if (changes & this.CHANGE_FULL || changes & this.CHANGE_SIZE || changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES || changes & this.CHANGE_SCROLL || changes & this.CHANGE_H_SCROLL) {\n                changes |= this.$computeLayerConfig();\n                if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                    var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                    if (st > 0) {\n                        this.scrollTop = st;\n                        changes = changes | this.CHANGE_SCROLL;\n                        changes |= this.$computeLayerConfig();\n                    }\n                }\n                config = this.layerConfig;\n                this.$updateScrollBarV();\n                if (changes & this.CHANGE_H_SCROLL) this.$updateScrollBarH();\n                this.$gutterLayer.element.style.marginTop = -config.offset + \"px\";\n                this.content.style.marginTop = -config.offset + \"px\";\n                this.content.style.width = config.width + 2 * this.$padding + \"px\";\n                this.content.style.height = config.minHeight + \"px\";\n            }\n            if (changes & this.CHANGE_H_SCROLL) {\n                this.content.style.marginLeft = -this.scrollLeft + \"px\";\n                this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n            }\n            if (changes & this.CHANGE_FULL) {\n                this.$textLayer.update(config);\n                if (this.$showGutter) this.$gutterLayer.update(config);\n                this.$markerBack.update(config);\n                this.$markerFront.update(config);\n                this.$cursorLayer.update(config);\n                this.$moveTextAreaToCursor();\n                this.$highlightGutterLine && this.$updateGutterLineHighlight();\n                this._signal(\"afterRender\");\n                return;\n            }\n            if (changes & this.CHANGE_SCROLL) {\n                if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES) this.$textLayer.update(config);else this.$textLayer.scrollLines(config);\n\n                if (this.$showGutter) this.$gutterLayer.update(config);\n                this.$markerBack.update(config);\n                this.$markerFront.update(config);\n                this.$cursorLayer.update(config);\n                this.$highlightGutterLine && this.$updateGutterLineHighlight();\n                this.$moveTextAreaToCursor();\n                this._signal(\"afterRender\");\n                return;\n            }\n\n            if (changes & this.CHANGE_TEXT) {\n                this.$textLayer.update(config);\n                if (this.$showGutter) this.$gutterLayer.update(config);\n            } else if (changes & this.CHANGE_LINES) {\n                if (this.$updateLines() || changes & this.CHANGE_GUTTER && this.$showGutter) this.$gutterLayer.update(config);\n            } else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n                if (this.$showGutter) this.$gutterLayer.update(config);\n            }\n\n            if (changes & this.CHANGE_CURSOR) {\n                this.$cursorLayer.update(config);\n                this.$moveTextAreaToCursor();\n                this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            }\n\n            if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n                this.$markerFront.update(config);\n            }\n\n            if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n                this.$markerBack.update(config);\n            }\n\n            this._signal(\"afterRender\");\n        };\n\n        this.$autosize = function () {\n            var height = this.session.getScreenLength() * this.lineHeight;\n            var maxHeight = this.$maxLines * this.lineHeight;\n            var desiredHeight = Math.min(maxHeight, Math.max((this.$minLines || 1) * this.lineHeight, height)) + this.scrollMargin.v + (this.$extraHeight || 0);\n            if (this.$horizScroll) desiredHeight += this.scrollBarH.getHeight();\n            if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight) desiredHeight = this.$maxPixelHeight;\n            var vScroll = height > maxHeight;\n\n            if (desiredHeight != this.desiredHeight || this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n                if (vScroll != this.$vScroll) {\n                    this.$vScroll = vScroll;\n                    this.scrollBarV.setVisible(vScroll);\n                }\n\n                var w = this.container.clientWidth;\n                this.container.style.height = desiredHeight + \"px\";\n                this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n                this.desiredHeight = desiredHeight;\n\n                this._signal(\"autosize\");\n            }\n        };\n\n        this.$computeLayerConfig = function () {\n            var session = this.session;\n            var size = this.$size;\n\n            var hideScrollbars = size.height <= 2 * this.lineHeight;\n            var screenLines = this.session.getScreenLength();\n            var maxHeight = screenLines * this.lineHeight;\n\n            var longestLine = this.$getLongestLine();\n\n            var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible || size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n            var hScrollChanged = this.$horizScroll !== horizScroll;\n            if (hScrollChanged) {\n                this.$horizScroll = horizScroll;\n                this.scrollBarH.setVisible(horizScroll);\n            }\n            var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n            if (this.$maxLines && this.lineHeight > 1) this.$autosize();\n\n            var offset = this.scrollTop % this.lineHeight;\n            var minHeight = size.scrollerHeight + this.lineHeight;\n\n            var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;\n            maxHeight += scrollPastEnd;\n\n            var sm = this.scrollMargin;\n            this.session.setScrollTop(Math.max(-sm.top, Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n            this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n\n            var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible || size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n            var vScrollChanged = vScrollBefore !== vScroll;\n            if (vScrollChanged) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n\n            var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n            var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n            var lastRow = firstRow + lineCount;\n            var firstRowScreen, firstRowHeight;\n            var lineHeight = this.lineHeight;\n            firstRow = session.screenToDocumentRow(firstRow, 0);\n            var foldLine = session.getFoldLine(firstRow);\n            if (foldLine) {\n                firstRow = foldLine.start.row;\n            }\n\n            firstRowScreen = session.documentToScreenRow(firstRow, 0);\n            firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n            lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n            minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight + firstRowHeight;\n\n            offset = this.scrollTop - firstRowScreen * lineHeight;\n\n            var changes = 0;\n            if (this.layerConfig.width != longestLine) changes = this.CHANGE_H_SCROLL;\n            if (hScrollChanged || vScrollChanged) {\n                changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n                this._signal(\"scrollbarVisibilityChanged\");\n                if (vScrollChanged) longestLine = this.$getLongestLine();\n            }\n\n            this.layerConfig = {\n                width: longestLine,\n                padding: this.$padding,\n                firstRow: firstRow,\n                firstRowScreen: firstRowScreen,\n                lastRow: lastRow,\n                lineHeight: lineHeight,\n                characterWidth: this.characterWidth,\n                minHeight: minHeight,\n                maxHeight: maxHeight,\n                offset: offset,\n                gutterOffset: lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n                height: this.$size.scrollerHeight\n            };\n\n            return changes;\n        };\n\n        this.$updateLines = function () {\n            if (!this.$changedLines) return;\n            var firstRow = this.$changedLines.firstRow;\n            var lastRow = this.$changedLines.lastRow;\n            this.$changedLines = null;\n\n            var layerConfig = this.layerConfig;\n\n            if (firstRow > layerConfig.lastRow + 1) {\n                return;\n            }\n            if (lastRow < layerConfig.firstRow) {\n                return;\n            }\n            if (lastRow === Infinity) {\n                if (this.$showGutter) this.$gutterLayer.update(layerConfig);\n                this.$textLayer.update(layerConfig);\n                return;\n            }\n            this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n            return true;\n        };\n\n        this.$getLongestLine = function () {\n            var charCount = this.session.getScreenWidth();\n            if (this.showInvisibles && !this.session.$useWrapMode) charCount += 1;\n\n            return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n        };\n        this.updateFrontMarkers = function () {\n            this.$markerFront.setMarkers(this.session.getMarkers(true));\n            this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n        };\n        this.updateBackMarkers = function () {\n            this.$markerBack.setMarkers(this.session.getMarkers());\n            this.$loop.schedule(this.CHANGE_MARKER_BACK);\n        };\n        this.addGutterDecoration = function (row, className) {\n            this.$gutterLayer.addGutterDecoration(row, className);\n        };\n        this.removeGutterDecoration = function (row, className) {\n            this.$gutterLayer.removeGutterDecoration(row, className);\n        };\n        this.updateBreakpoints = function (rows) {\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        };\n        this.setAnnotations = function (annotations) {\n            this.$gutterLayer.setAnnotations(annotations);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        };\n        this.updateCursor = function () {\n            this.$loop.schedule(this.CHANGE_CURSOR);\n        };\n        this.hideCursor = function () {\n            this.$cursorLayer.hideCursor();\n        };\n        this.showCursor = function () {\n            this.$cursorLayer.showCursor();\n        };\n\n        this.scrollSelectionIntoView = function (anchor, lead, offset) {\n            this.scrollCursorIntoView(anchor, offset);\n            this.scrollCursorIntoView(lead, offset);\n        };\n        this.scrollCursorIntoView = function (cursor, offset, $viewMargin) {\n            if (this.$size.scrollerHeight === 0) return;\n\n            var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n            var left = pos.left;\n            var top = pos.top;\n\n            var topMargin = $viewMargin && $viewMargin.top || 0;\n            var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n\n            var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n\n            if (scrollTop + topMargin > top) {\n                if (offset && scrollTop + topMargin > top + this.lineHeight) top -= offset * this.$size.scrollerHeight;\n                if (top === 0) top = -this.scrollMargin.top;\n                this.session.setScrollTop(top);\n            } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n                if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top - this.lineHeight) top += offset * this.$size.scrollerHeight;\n                this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);\n            }\n\n            var scrollLeft = this.scrollLeft;\n\n            if (scrollLeft > left) {\n                if (left < this.$padding + 2 * this.layerConfig.characterWidth) left = -this.scrollMargin.left;\n                this.session.setScrollLeft(left);\n            } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n                this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n            } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n                this.session.setScrollLeft(0);\n            }\n        };\n        this.getScrollTop = function () {\n            return this.session.getScrollTop();\n        };\n        this.getScrollLeft = function () {\n            return this.session.getScrollLeft();\n        };\n        this.getScrollTopRow = function () {\n            return this.scrollTop / this.lineHeight;\n        };\n        this.getScrollBottomRow = function () {\n            return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n        };\n        this.scrollToRow = function (row) {\n            this.session.setScrollTop(row * this.lineHeight);\n        };\n\n        this.alignCursor = function (cursor, alignment) {\n            if (typeof cursor == \"number\") cursor = { row: cursor, column: 0 };\n\n            var pos = this.$cursorLayer.getPixelPosition(cursor);\n            var h = this.$size.scrollerHeight - this.lineHeight;\n            var offset = pos.top - h * (alignment || 0);\n\n            this.session.setScrollTop(offset);\n            return offset;\n        };\n\n        this.STEPS = 8;\n        this.$calcSteps = function (fromValue, toValue) {\n            var i = 0;\n            var l = this.STEPS;\n            var steps = [];\n\n            var func = function func(t, x_min, dx) {\n                return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n            };\n\n            for (i = 0; i < l; ++i) {\n                steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n            }return steps;\n        };\n        this.scrollToLine = function (line, center, animate, callback) {\n            var pos = this.$cursorLayer.getPixelPosition({ row: line, column: 0 });\n            var offset = pos.top;\n            if (center) offset -= this.$size.scrollerHeight / 2;\n\n            var initialScroll = this.scrollTop;\n            this.session.setScrollTop(offset);\n            if (animate !== false) this.animateScrolling(initialScroll, callback);\n        };\n\n        this.animateScrolling = function (fromValue, callback) {\n            var toValue = this.scrollTop;\n            if (!this.$animatedScroll) return;\n            var _self = this;\n\n            if (fromValue == toValue) return;\n\n            if (this.$scrollAnimation) {\n                var oldSteps = this.$scrollAnimation.steps;\n                if (oldSteps.length) {\n                    fromValue = oldSteps[0];\n                    if (fromValue == toValue) return;\n                }\n            }\n\n            var steps = _self.$calcSteps(fromValue, toValue);\n            this.$scrollAnimation = { from: fromValue, to: toValue, steps: steps };\n\n            clearInterval(this.$timer);\n\n            _self.session.setScrollTop(steps.shift());\n            _self.session.$scrollTop = toValue;\n            this.$timer = setInterval(function () {\n                if (steps.length) {\n                    _self.session.setScrollTop(steps.shift());\n                    _self.session.$scrollTop = toValue;\n                } else if (toValue != null) {\n                    _self.session.$scrollTop = -1;\n                    _self.session.setScrollTop(toValue);\n                    toValue = null;\n                } else {\n                    _self.$timer = clearInterval(_self.$timer);\n                    _self.$scrollAnimation = null;\n                    callback && callback();\n                }\n            }, 10);\n        };\n        this.scrollToY = function (scrollTop) {\n            if (this.scrollTop !== scrollTop) {\n                this.$loop.schedule(this.CHANGE_SCROLL);\n                this.scrollTop = scrollTop;\n            }\n        };\n        this.scrollToX = function (scrollLeft) {\n            if (this.scrollLeft !== scrollLeft) this.scrollLeft = scrollLeft;\n            this.$loop.schedule(this.CHANGE_H_SCROLL);\n        };\n        this.scrollTo = function (x, y) {\n            this.session.setScrollTop(y);\n            this.session.setScrollLeft(y);\n        };\n        this.scrollBy = function (deltaX, deltaY) {\n            deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n            deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n        };\n        this.isScrollableBy = function (deltaX, deltaY) {\n            if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top) return true;\n            if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom) return true;\n            if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left) return true;\n            if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right) return true;\n        };\n\n        this.pixelToScreenCoordinates = function (x, y) {\n            var canvasPos = this.scroller.getBoundingClientRect();\n\n            var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n            var offset = offsetX / this.characterWidth;\n            var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n            var col = Math.round(offset);\n\n            return { row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX: offsetX };\n        };\n\n        this.screenToTextCoordinates = function (x, y) {\n            var canvasPos = this.scroller.getBoundingClientRect();\n            var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n\n            var col = Math.round(offsetX / this.characterWidth);\n\n            var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;\n\n            return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n        };\n        this.textToScreenCoordinates = function (row, column) {\n            var canvasPos = this.scroller.getBoundingClientRect();\n            var pos = this.session.documentToScreenPosition(row, column);\n\n            var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row) ? this.session.$bidiHandler.getPosLeft(pos.column) : Math.round(pos.column * this.characterWidth));\n\n            var y = pos.row * this.lineHeight;\n\n            return {\n                pageX: canvasPos.left + x - this.scrollLeft,\n                pageY: canvasPos.top + y - this.scrollTop\n            };\n        };\n        this.visualizeFocus = function () {\n            dom.addCssClass(this.container, \"ace_focus\");\n        };\n        this.visualizeBlur = function () {\n            dom.removeCssClass(this.container, \"ace_focus\");\n        };\n        this.showComposition = function (position) {\n            if (!this.$composition) this.$composition = {\n                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,\n                cssText: this.textarea.style.cssText\n            };\n\n            this.$keepTextAreaAtCursor = true;\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n        };\n        this.setCompositionText = function (text) {\n            this.$moveTextAreaToCursor();\n        };\n        this.hideComposition = function () {\n            if (!this.$composition) return;\n\n            dom.removeCssClass(this.textarea, \"ace_composition\");\n            this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;\n            this.textarea.style.cssText = this.$composition.cssText;\n            this.$composition = null;\n        };\n        this.setTheme = function (theme, cb) {\n            var _self = this;\n            this.$themeId = theme;\n            _self._dispatchEvent('themeChange', { theme: theme });\n\n            if (!theme || typeof theme == \"string\") {\n                var moduleName = theme || this.$options.theme.initialValue;\n                config.loadModule([\"theme\", moduleName], afterLoad);\n            } else {\n                afterLoad(theme);\n            }\n\n            function afterLoad(module) {\n                if (_self.$themeId != theme) return cb && cb();\n                if (!module || !module.cssClass) throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n                dom.importCssString(module.cssText, module.cssClass, _self.container.ownerDocument);\n\n                if (_self.theme) dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n                var padding = \"padding\" in module ? module.padding : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n                if (_self.$padding && padding != _self.$padding) _self.setPadding(padding);\n                _self.$theme = module.cssClass;\n\n                _self.theme = module;\n                dom.addCssClass(_self.container, module.cssClass);\n                dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n                if (_self.$size) {\n                    _self.$size.width = 0;\n                    _self.$updateSizeAsync();\n                }\n\n                _self._dispatchEvent('themeLoaded', { theme: module });\n                cb && cb();\n            }\n        };\n        this.getTheme = function () {\n            return this.$themeId;\n        };\n        this.setStyle = function (style, include) {\n            dom.setCssClass(this.container, style, include !== false);\n        };\n        this.unsetStyle = function (style) {\n            dom.removeCssClass(this.container, style);\n        };\n\n        this.setCursorStyle = function (style) {\n            if (this.scroller.style.cursor != style) this.scroller.style.cursor = style;\n        };\n        this.setMouseCursor = function (cursorStyle) {\n            this.scroller.style.cursor = cursorStyle;\n        };\n        this.destroy = function () {\n            this.$textLayer.destroy();\n            this.$cursorLayer.destroy();\n        };\n    }).call(VirtualRenderer.prototype);\n\n    config.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n        animatedScroll: { initialValue: false },\n        showInvisibles: {\n            set: function set(value) {\n                if (this.$textLayer.setShowInvisibles(value)) this.$loop.schedule(this.CHANGE_TEXT);\n            },\n            initialValue: false\n        },\n        showPrintMargin: {\n            set: function set() {\n                this.$updatePrintMargin();\n            },\n            initialValue: true\n        },\n        printMarginColumn: {\n            set: function set() {\n                this.$updatePrintMargin();\n            },\n            initialValue: 80\n        },\n        printMargin: {\n            set: function set(val) {\n                if (typeof val == \"number\") this.$printMarginColumn = val;\n                this.$showPrintMargin = !!val;\n                this.$updatePrintMargin();\n            },\n            get: function get() {\n                return this.$showPrintMargin && this.$printMarginColumn;\n            }\n        },\n        showGutter: {\n            set: function set(show) {\n                this.$gutter.style.display = show ? \"block\" : \"none\";\n                this.$loop.schedule(this.CHANGE_FULL);\n                this.onGutterResize();\n            },\n            initialValue: true\n        },\n        fadeFoldWidgets: {\n            set: function set(show) {\n                dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n            },\n            initialValue: false\n        },\n        showFoldWidgets: {\n            set: function set(show) {\n                this.$gutterLayer.setShowFoldWidgets(show);\n            },\n            initialValue: true\n        },\n        showLineNumbers: {\n            set: function set(show) {\n                this.$gutterLayer.setShowLineNumbers(show);\n                this.$loop.schedule(this.CHANGE_GUTTER);\n            },\n            initialValue: true\n        },\n        displayIndentGuides: {\n            set: function set(show) {\n                if (this.$textLayer.setDisplayIndentGuides(show)) this.$loop.schedule(this.CHANGE_TEXT);\n            },\n            initialValue: true\n        },\n        highlightGutterLine: {\n            set: function set(shouldHighlight) {\n                if (!this.$gutterLineHighlight) {\n                    this.$gutterLineHighlight = dom.createElement(\"div\");\n                    this.$gutterLineHighlight.className = \"ace_gutter-active-line\";\n                    this.$gutter.appendChild(this.$gutterLineHighlight);\n                    return;\n                }\n\n                this.$gutterLineHighlight.style.display = shouldHighlight ? \"\" : \"none\";\n                if (this.$cursorLayer.$pixelPos) this.$updateGutterLineHighlight();\n            },\n            initialValue: false,\n            value: true\n        },\n        hScrollBarAlwaysVisible: {\n            set: function set(val) {\n                if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n            },\n            initialValue: false\n        },\n        vScrollBarAlwaysVisible: {\n            set: function set(val) {\n                if (!this.$vScrollBarAlwaysVisible || !this.$vScroll) this.$loop.schedule(this.CHANGE_SCROLL);\n            },\n            initialValue: false\n        },\n        fontSize: {\n            set: function set(size) {\n                if (typeof size == \"number\") size = size + \"px\";\n                this.container.style.fontSize = size;\n                this.updateFontSize();\n            },\n            initialValue: 12\n        },\n        fontFamily: {\n            set: function set(name) {\n                this.container.style.fontFamily = name;\n                this.updateFontSize();\n            }\n        },\n        maxLines: {\n            set: function set(val) {\n                this.updateFull();\n            }\n        },\n        minLines: {\n            set: function set(val) {\n                this.updateFull();\n            }\n        },\n        maxPixelHeight: {\n            set: function set(val) {\n                this.updateFull();\n            },\n            initialValue: 0\n        },\n        scrollPastEnd: {\n            set: function set(val) {\n                val = +val || 0;\n                if (this.$scrollPastEnd == val) return;\n                this.$scrollPastEnd = val;\n                this.$loop.schedule(this.CHANGE_SCROLL);\n            },\n            initialValue: 0,\n            handlesSet: true\n        },\n        fixedWidthGutter: {\n            set: function set(val) {\n                this.$gutterLayer.$fixedWidth = !!val;\n                this.$loop.schedule(this.CHANGE_GUTTER);\n            }\n        },\n        theme: {\n            set: function set(val) {\n                this.setTheme(val);\n            },\n            get: function get() {\n                return this.$themeId || this.theme;\n            },\n            initialValue: \"./theme/textmate\",\n            handlesSet: true\n        }\n    });\n\n    exports.VirtualRenderer = VirtualRenderer;\n});\n\nace.define(\"ace/worker/worker_client\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/net\", \"ace/lib/event_emitter\", \"ace/config\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"../lib/oop\");\n    var net = acequire(\"../lib/net\");\n    var EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n    var config = acequire(\"../config\");\n\n    function $workerBlob(workerUrl, mod) {\n        var script = mod.src;\"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n        try {\n            return new Blob([script], { \"type\": \"application/javascript\" });\n        } catch (e) {\n            // Backwards-compatibility\n            var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n            var blobBuilder = new BlobBuilder();\n            blobBuilder.append(script);\n            return blobBuilder.getBlob(\"application/javascript\");\n        }\n    }\n\n    function createWorker(workerUrl, mod) {\n        var blob = $workerBlob(workerUrl, mod);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n\n    var WorkerClient = function WorkerClient(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.onMessage = this.onMessage.bind(this);\n        if (acequire.nameToUrl && !acequire.toUrl) acequire.toUrl = acequire.nameToUrl;\n\n        if (config.get(\"packaged\") || !acequire.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod.id, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(acequire.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function (ns) {\n                tlns[ns] = normalizePath(acequire.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl, mod);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init: true,\n            tlns: tlns,\n            module: mod.id,\n            classname: classname\n        });\n\n        this.callbackId = 1;\n        this.callbacks = {};\n\n        this.$worker.onmessage = this.onMessage;\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n\n        this.onMessage = function (e) {\n            var msg = e.data;\n            switch (msg.type) {\n                case \"event\":\n                    this._signal(msg.name, { data: msg.data });\n                    break;\n                case \"call\":\n                    var callback = this.callbacks[msg.id];\n                    if (callback) {\n                        callback(msg.data);\n                        delete this.callbacks[msg.id];\n                    }\n                    break;\n                case \"error\":\n                    this.reportError(msg.data);\n                    break;\n                case \"log\":\n                    window.console && console.log && console.log.apply(console, msg.data);\n                    break;\n            }\n        };\n\n        this.reportError = function (err) {\n            window.console && console.error && console.error(err);\n        };\n\n        this.$normalizePath = function (path) {\n            return net.qualifyURL(path);\n        };\n\n        this.terminate = function () {\n            this._signal(\"terminate\", {});\n            this.deltaQueue = null;\n            this.$worker.terminate();\n            this.$worker = null;\n            if (this.$doc) this.$doc.off(\"change\", this.changeListener);\n            this.$doc = null;\n        };\n\n        this.send = function (cmd, args) {\n            this.$worker.postMessage({ command: cmd, args: args });\n        };\n\n        this.call = function (cmd, args, callback) {\n            if (callback) {\n                var id = this.callbackId++;\n                this.callbacks[id] = callback;\n                args.push(id);\n            }\n            this.send(cmd, args);\n        };\n\n        this.emit = function (event, data) {\n            try {\n                this.$worker.postMessage({ event: event, data: { data: data.data } });\n            } catch (ex) {\n                console.error(ex.stack);\n            }\n        };\n\n        this.attachToDocument = function (doc) {\n            if (this.$doc) this.terminate();\n\n            this.$doc = doc;\n            this.call(\"setValue\", [doc.getValue()]);\n            doc.on(\"change\", this.changeListener);\n        };\n\n        this.changeListener = function (delta) {\n            if (!this.deltaQueue) {\n                this.deltaQueue = [];\n                setTimeout(this.$sendDeltaQueue, 0);\n            }\n            if (delta.action == \"insert\") this.deltaQueue.push(delta.start, delta.lines);else this.deltaQueue.push(delta.start, delta.end);\n        };\n\n        this.$sendDeltaQueue = function () {\n            var q = this.deltaQueue;\n            if (!q) return;\n            this.deltaQueue = null;\n            if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n                this.call(\"setValue\", [this.$doc.getValue()]);\n            } else this.emit(\"change\", { data: q });\n        };\n    }).call(WorkerClient.prototype);\n\n    var UIWorkerClient = function UIWorkerClient(topLevelNamespaces, mod, classname) {\n        this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n        this.changeListener = this.changeListener.bind(this);\n        this.callbackId = 1;\n        this.callbacks = {};\n        this.messageBuffer = [];\n\n        var main = null;\n        var emitSync = false;\n        var sender = Object.create(EventEmitter);\n        var _self = this;\n\n        this.$worker = {};\n        this.$worker.terminate = function () {};\n        this.$worker.postMessage = function (e) {\n            _self.messageBuffer.push(e);\n            if (main) {\n                if (emitSync) setTimeout(processNext);else processNext();\n            }\n        };\n        this.setEmitSync = function (val) {\n            emitSync = val;\n        };\n\n        var processNext = function processNext() {\n            var msg = _self.messageBuffer.shift();\n            if (msg.command) main[msg.command].apply(main, msg.args);else if (msg.event) sender._signal(msg.event, msg.data);\n        };\n\n        sender.postMessage = function (msg) {\n            _self.onMessage({ data: msg });\n        };\n        sender.callback = function (data, callbackId) {\n            this.postMessage({ type: \"call\", id: callbackId, data: data });\n        };\n        sender.emit = function (name, data) {\n            this.postMessage({ type: \"event\", name: name, data: data });\n        };\n\n        config.loadModule([\"worker\", mod], function (Main) {\n            main = new Main[classname](sender);\n            while (_self.messageBuffer.length) {\n                processNext();\n            }\n        });\n    };\n\n    UIWorkerClient.prototype = WorkerClient.prototype;\n\n    exports.UIWorkerClient = UIWorkerClient;\n    exports.WorkerClient = WorkerClient;\n    exports.createWorker = createWorker;\n});\n\nace.define(\"ace/placeholder\", [\"require\", \"exports\", \"module\", \"ace/range\", \"ace/lib/event_emitter\", \"ace/lib/oop\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"./range\").Range;\n    var EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n    var oop = acequire(\"./lib/oop\");\n\n    var PlaceHolder = function PlaceHolder(session, length, pos, others, mainClass, othersClass) {\n        var _self = this;\n        this.length = length;\n        this.session = session;\n        this.doc = session.getDocument();\n        this.mainClass = mainClass;\n        this.othersClass = othersClass;\n        this.$onUpdate = this.onUpdate.bind(this);\n        this.doc.on(\"change\", this.$onUpdate);\n        this.$others = others;\n\n        this.$onCursorChange = function () {\n            setTimeout(function () {\n                _self.onCursorChange();\n            });\n        };\n\n        this.$pos = pos;\n        var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || { length: -1 };\n        this.$undoStackDepth = undoStack.length;\n        this.setup();\n\n        session.selection.on(\"changeCursor\", this.$onCursorChange);\n    };\n\n    (function () {\n\n        oop.implement(this, EventEmitter);\n        this.setup = function () {\n            var _self = this;\n            var doc = this.doc;\n            var session = this.session;\n\n            this.selectionBefore = session.selection.toJSON();\n            if (session.selection.inMultiSelectMode) session.selection.toSingleRange();\n\n            this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n            var pos = this.pos;\n            pos.$insertRight = true;\n            pos.detach();\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n            this.others = [];\n            this.$others.forEach(function (other) {\n                var anchor = doc.createAnchor(other.row, other.column);\n                anchor.$insertRight = true;\n                anchor.detach();\n                _self.others.push(anchor);\n            });\n            session.setUndoSelect(false);\n        };\n        this.showOtherMarkers = function () {\n            if (this.othersActive) return;\n            var session = this.session;\n            var _self = this;\n            this.othersActive = true;\n            this.others.forEach(function (anchor) {\n                anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column + _self.length), _self.othersClass, null, false);\n            });\n        };\n        this.hideOtherMarkers = function () {\n            if (!this.othersActive) return;\n            this.othersActive = false;\n            for (var i = 0; i < this.others.length; i++) {\n                this.session.removeMarker(this.others[i].markerId);\n            }\n        };\n        this.onUpdate = function (delta) {\n            if (this.$updating) return this.updateAnchors(delta);\n\n            var range = delta;\n            if (range.start.row !== range.end.row) return;\n            if (range.start.row !== this.pos.row) return;\n            this.$updating = true;\n            var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n            var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n            var distanceFromStart = range.start.column - this.pos.column;\n\n            this.updateAnchors(delta);\n\n            if (inMainRange) this.length += lengthDiff;\n\n            if (inMainRange && !this.session.$fromUndo) {\n                if (delta.action === 'insert') {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                        this.doc.insertMergedLines(newPos, delta.lines);\n                    }\n                } else if (delta.action === 'remove') {\n                    for (var i = this.others.length - 1; i >= 0; i--) {\n                        var otherPos = this.others[i];\n                        var newPos = { row: otherPos.row, column: otherPos.column + distanceFromStart };\n                        this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                    }\n                }\n            }\n\n            this.$updating = false;\n            this.updateMarkers();\n        };\n\n        this.updateAnchors = function (delta) {\n            this.pos.onChange(delta);\n            for (var i = this.others.length; i--;) {\n                this.others[i].onChange(delta);\n            }this.updateMarkers();\n        };\n\n        this.updateMarkers = function () {\n            if (this.$updating) return;\n            var _self = this;\n            var session = this.session;\n            var updateMarker = function updateMarker(pos, className) {\n                session.removeMarker(pos.markerId);\n                pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + _self.length), className, null, false);\n            };\n            updateMarker(this.pos, this.mainClass);\n            for (var i = this.others.length; i--;) {\n                updateMarker(this.others[i], this.othersClass);\n            }\n        };\n\n        this.onCursorChange = function (event) {\n            if (this.$updating || !this.session) return;\n            var pos = this.session.selection.getCursor();\n            if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n                this.showOtherMarkers();\n                this._emit(\"cursorEnter\", event);\n            } else {\n                this.hideOtherMarkers();\n                this._emit(\"cursorLeave\", event);\n            }\n        };\n        this.detach = function () {\n            this.session.removeMarker(this.pos && this.pos.markerId);\n            this.hideOtherMarkers();\n            this.doc.removeEventListener(\"change\", this.$onUpdate);\n            this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n            this.session.setUndoSelect(true);\n            this.session = null;\n        };\n        this.cancel = function () {\n            if (this.$undoStackDepth === -1) return;\n            var undoManager = this.session.getUndoManager();\n            var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n            for (var i = 0; i < undosRequired; i++) {\n                undoManager.undo(true);\n            }\n            if (this.selectionBefore) this.session.selection.fromJSON(this.selectionBefore);\n        };\n    }).call(PlaceHolder.prototype);\n\n    exports.PlaceHolder = PlaceHolder;\n});\n\nace.define(\"ace/mouse/multi_select_handler\", [\"require\", \"exports\", \"module\", \"ace/lib/event\", \"ace/lib/useragent\"], function (acequire, exports, module) {\n\n    var event = acequire(\"../lib/event\");\n    var useragent = acequire(\"../lib/useragent\");\n    function isSamePoint(p1, p2) {\n        return p1.row == p2.row && p1.column == p2.column;\n    }\n\n    function onMouseDown(e) {\n        var ev = e.domEvent;\n        var alt = ev.altKey;\n        var shift = ev.shiftKey;\n        var ctrl = ev.ctrlKey;\n        var accel = e.getAccelKey();\n        var button = e.getButton();\n\n        if (ctrl && useragent.isMac) button = ev.button;\n\n        if (e.editor.inMultiSelectMode && button == 2) {\n            e.editor.textInput.onContextMenu(e.domEvent);\n            return;\n        }\n\n        if (!ctrl && !alt && !accel) {\n            if (button === 0 && e.editor.inMultiSelectMode) e.editor.exitMultiSelectMode();\n            return;\n        }\n\n        if (button !== 0) return;\n\n        var editor = e.editor;\n        var selection = editor.selection;\n        var isMultiSelect = editor.inMultiSelectMode;\n        var pos = e.getDocumentPosition();\n        var cursor = selection.getCursor();\n        var inSelection = e.inSelection() || selection.isEmpty() && isSamePoint(pos, cursor);\n\n        var mouseX = e.x,\n            mouseY = e.y;\n        var onMouseSelection = function onMouseSelection(e) {\n            mouseX = e.clientX;\n            mouseY = e.clientY;\n        };\n\n        var session = editor.session;\n        var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n        var screenCursor = screenAnchor;\n\n        var selectionMode;\n        if (editor.$mouseHandler.$enableJumpToDef) {\n            if (ctrl && alt || accel && alt) selectionMode = shift ? \"block\" : \"add\";else if (alt && editor.$blockSelectEnabled) selectionMode = \"block\";\n        } else {\n            if (accel && !alt) {\n                selectionMode = \"add\";\n                if (!isMultiSelect && shift) return;\n            } else if (alt && editor.$blockSelectEnabled) {\n                selectionMode = \"block\";\n            }\n        }\n\n        if (selectionMode && useragent.isMac && ev.ctrlKey) {\n            editor.$mouseHandler.cancelContextMenu();\n        }\n\n        if (selectionMode == \"add\") {\n            if (!isMultiSelect && inSelection) return; // dragging\n\n            if (!isMultiSelect) {\n                var range = selection.toOrientedRange();\n                editor.addSelectionMarker(range);\n            }\n\n            var oldRange = selection.rangeList.rangeAtPoint(pos);\n\n            editor.$blockScrolling++;\n            editor.inVirtualSelectionMode = true;\n\n            if (shift) {\n                oldRange = null;\n                range = selection.ranges[0] || range;\n                editor.removeSelectionMarker(range);\n            }\n            editor.once(\"mouseup\", function () {\n                var tmpSel = selection.toOrientedRange();\n\n                if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor)) selection.substractPoint(tmpSel.cursor);else {\n                    if (shift) {\n                        selection.substractPoint(range.cursor);\n                    } else if (range) {\n                        editor.removeSelectionMarker(range);\n                        selection.addRange(range);\n                    }\n                    selection.addRange(tmpSel);\n                }\n                editor.$blockScrolling--;\n                editor.inVirtualSelectionMode = false;\n            });\n        } else if (selectionMode == \"block\") {\n            e.stop();\n            editor.inVirtualSelectionMode = true;\n            var initialRange;\n            var rectSel = [];\n            var blockSelect = function blockSelect() {\n                var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n                var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n                if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead)) return;\n                screenCursor = newCursor;\n\n                editor.$blockScrolling++;\n                editor.selection.moveToPosition(cursor);\n                editor.renderer.scrollCursorIntoView();\n\n                editor.removeSelectionMarkers(rectSel);\n                rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n                if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty()) rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n                rectSel.forEach(editor.addSelectionMarker, editor);\n                editor.updateSelectionMarkers();\n                editor.$blockScrolling--;\n            };\n            editor.$blockScrolling++;\n            if (isMultiSelect && !accel) {\n                selection.toSingleRange();\n            } else if (!isMultiSelect && accel) {\n                initialRange = selection.toOrientedRange();\n                editor.addSelectionMarker(initialRange);\n            }\n\n            if (shift) screenAnchor = session.documentToScreenPosition(selection.lead);else selection.moveToPosition(pos);\n            editor.$blockScrolling--;\n\n            screenCursor = { row: -1, column: -1 };\n\n            var onMouseSelectionEnd = function onMouseSelectionEnd(e) {\n                clearInterval(timerId);\n                editor.removeSelectionMarkers(rectSel);\n                if (!rectSel.length) rectSel = [selection.toOrientedRange()];\n                editor.$blockScrolling++;\n                if (initialRange) {\n                    editor.removeSelectionMarker(initialRange);\n                    selection.toSingleRange(initialRange);\n                }\n                for (var i = 0; i < rectSel.length; i++) {\n                    selection.addRange(rectSel[i]);\n                }editor.inVirtualSelectionMode = false;\n                editor.$mouseHandler.$clickSelection = null;\n                editor.$blockScrolling--;\n            };\n\n            var onSelectionInterval = blockSelect;\n\n            event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n            var timerId = setInterval(function () {\n                onSelectionInterval();\n            }, 20);\n\n            return e.preventDefault();\n        }\n    }\n\n    exports.onMouseDown = onMouseDown;\n});\n\nace.define(\"ace/commands/multi_select_commands\", [\"require\", \"exports\", \"module\", \"ace/keyboard/hash_handler\"], function (acequire, exports, module) {\n    exports.defaultCommands = [{\n        name: \"addCursorAbove\",\n        exec: function exec(editor) {\n            editor.selectMoreLines(-1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelow\",\n        exec: function exec(editor) {\n            editor.selectMoreLines(1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorAboveSkipCurrent\",\n        exec: function exec(editor) {\n            editor.selectMoreLines(-1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"addCursorBelowSkipCurrent\",\n        exec: function exec(editor) {\n            editor.selectMoreLines(1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreBefore\",\n        exec: function exec(editor) {\n            editor.selectMore(-1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectMoreAfter\",\n        exec: function exec(editor) {\n            editor.selectMore(1);\n        },\n        bindKey: { win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextBefore\",\n        exec: function exec(editor) {\n            editor.selectMore(-1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"selectNextAfter\",\n        exec: function exec(editor) {\n            editor.selectMore(1, true);\n        },\n        bindKey: { win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }, {\n        name: \"splitIntoLines\",\n        exec: function exec(editor) {\n            editor.multiSelect.splitIntoLines();\n        },\n        bindKey: { win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\" },\n        readOnly: true\n    }, {\n        name: \"alignCursors\",\n        exec: function exec(editor) {\n            editor.alignCursors();\n        },\n        bindKey: { win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\" },\n        scrollIntoView: \"cursor\"\n    }, {\n        name: \"findAll\",\n        exec: function exec(editor) {\n            editor.findAll();\n        },\n        bindKey: { win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\" },\n        scrollIntoView: \"cursor\",\n        readOnly: true\n    }];\n    exports.multiSelectCommands = [{\n        name: \"singleSelection\",\n        bindKey: \"esc\",\n        exec: function exec(editor) {\n            editor.exitMultiSelectMode();\n        },\n        scrollIntoView: \"cursor\",\n        readOnly: true,\n        isAvailable: function isAvailable(editor) {\n            return editor && editor.inMultiSelectMode;\n        }\n    }];\n\n    var HashHandler = acequire(\"../keyboard/hash_handler\").HashHandler;\n    exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n});\n\nace.define(\"ace/multi_select\", [\"require\", \"exports\", \"module\", \"ace/range_list\", \"ace/range\", \"ace/selection\", \"ace/mouse/multi_select_handler\", \"ace/lib/event\", \"ace/lib/lang\", \"ace/commands/multi_select_commands\", \"ace/search\", \"ace/edit_session\", \"ace/editor\", \"ace/config\"], function (acequire, exports, module) {\n\n    var RangeList = acequire(\"./range_list\").RangeList;\n    var Range = acequire(\"./range\").Range;\n    var Selection = acequire(\"./selection\").Selection;\n    var onMouseDown = acequire(\"./mouse/multi_select_handler\").onMouseDown;\n    var event = acequire(\"./lib/event\");\n    var lang = acequire(\"./lib/lang\");\n    var commands = acequire(\"./commands/multi_select_commands\");\n    exports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\n    var Search = acequire(\"./search\").Search;\n    var search = new Search();\n\n    function find(session, needle, dir) {\n        search.$options.wrap = true;\n        search.$options.needle = needle;\n        search.$options.backwards = dir == -1;\n        return search.find(session);\n    }\n    var EditSession = acequire(\"./edit_session\").EditSession;\n    (function () {\n        this.getSelectionMarkers = function () {\n            return this.$selectionMarkers;\n        };\n    }).call(EditSession.prototype);\n    (function () {\n        this.ranges = null;\n        this.rangeList = null;\n        this.addRange = function (range, $blockChangeEvents) {\n            if (!range) return;\n\n            if (!this.inMultiSelectMode && this.rangeCount === 0) {\n                var oldRange = this.toOrientedRange();\n                this.rangeList.add(oldRange);\n                this.rangeList.add(range);\n                if (this.rangeList.ranges.length != 2) {\n                    this.rangeList.removeAll();\n                    return $blockChangeEvents || this.fromOrientedRange(range);\n                }\n                this.rangeList.removeAll();\n                this.rangeList.add(oldRange);\n                this.$onAddRange(oldRange);\n            }\n\n            if (!range.cursor) range.cursor = range.end;\n\n            var removed = this.rangeList.add(range);\n\n            this.$onAddRange(range);\n\n            if (removed.length) this.$onRemoveRange(removed);\n\n            if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n                this._signal(\"multiSelect\");\n                this.inMultiSelectMode = true;\n                this.session.$undoSelect = false;\n                this.rangeList.attach(this.session);\n            }\n\n            return $blockChangeEvents || this.fromOrientedRange(range);\n        };\n\n        this.toSingleRange = function (range) {\n            range = range || this.ranges[0];\n            var removed = this.rangeList.removeAll();\n            if (removed.length) this.$onRemoveRange(removed);\n\n            range && this.fromOrientedRange(range);\n        };\n        this.substractPoint = function (pos) {\n            var removed = this.rangeList.substractPoint(pos);\n            if (removed) {\n                this.$onRemoveRange(removed);\n                return removed[0];\n            }\n        };\n        this.mergeOverlappingRanges = function () {\n            var removed = this.rangeList.merge();\n            if (removed.length) this.$onRemoveRange(removed);else if (this.ranges[0]) this.fromOrientedRange(this.ranges[0]);\n        };\n\n        this.$onAddRange = function (range) {\n            this.rangeCount = this.rangeList.ranges.length;\n            this.ranges.unshift(range);\n            this._signal(\"addRange\", { range: range });\n        };\n\n        this.$onRemoveRange = function (removed) {\n            this.rangeCount = this.rangeList.ranges.length;\n            if (this.rangeCount == 1 && this.inMultiSelectMode) {\n                var lastRange = this.rangeList.ranges.pop();\n                removed.push(lastRange);\n                this.rangeCount = 0;\n            }\n\n            for (var i = removed.length; i--;) {\n                var index = this.ranges.indexOf(removed[i]);\n                this.ranges.splice(index, 1);\n            }\n\n            this._signal(\"removeRange\", { ranges: removed });\n\n            if (this.rangeCount === 0 && this.inMultiSelectMode) {\n                this.inMultiSelectMode = false;\n                this._signal(\"singleSelect\");\n                this.session.$undoSelect = true;\n                this.rangeList.detach(this.session);\n            }\n\n            lastRange = lastRange || this.ranges[0];\n            if (lastRange && !lastRange.isEqual(this.getRange())) this.fromOrientedRange(lastRange);\n        };\n        this.$initRangeList = function () {\n            if (this.rangeList) return;\n\n            this.rangeList = new RangeList();\n            this.ranges = [];\n            this.rangeCount = 0;\n        };\n        this.getAllRanges = function () {\n            return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n        };\n\n        this.splitIntoLines = function () {\n            if (this.rangeCount > 1) {\n                var ranges = this.rangeList.ranges;\n                var lastRange = ranges[ranges.length - 1];\n                var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n                this.toSingleRange();\n                this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n            } else {\n                var range = this.getRange();\n                var isBackwards = this.isBackwards();\n                var startRow = range.start.row;\n                var endRow = range.end.row;\n                if (startRow == endRow) {\n                    if (isBackwards) var start = range.end,\n                        end = range.start;else var start = range.start,\n                        end = range.end;\n\n                    this.addRange(Range.fromPoints(end, end));\n                    this.addRange(Range.fromPoints(start, start));\n                    return;\n                }\n\n                var rectSel = [];\n                var r = this.getLineRange(startRow, true);\n                r.start.column = range.start.column;\n                rectSel.push(r);\n\n                for (var i = startRow + 1; i < endRow; i++) {\n                    rectSel.push(this.getLineRange(i, true));\n                }r = this.getLineRange(endRow, true);\n                r.end.column = range.end.column;\n                rectSel.push(r);\n\n                rectSel.forEach(this.addRange, this);\n            }\n        };\n        this.toggleBlockSelection = function () {\n            if (this.rangeCount > 1) {\n                var ranges = this.rangeList.ranges;\n                var lastRange = ranges[ranges.length - 1];\n                var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n                this.toSingleRange();\n                this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n            } else {\n                var cursor = this.session.documentToScreenPosition(this.selectionLead);\n                var anchor = this.session.documentToScreenPosition(this.selectionAnchor);\n\n                var rectSel = this.rectangularRangeBlock(cursor, anchor);\n                rectSel.forEach(this.addRange, this);\n            }\n        };\n        this.rectangularRangeBlock = function (screenCursor, screenAnchor, includeEmptyLines) {\n            var rectSel = [];\n\n            var xBackwards = screenCursor.column < screenAnchor.column;\n            if (xBackwards) {\n                var startColumn = screenCursor.column;\n                var endColumn = screenAnchor.column;\n                var startOffsetX = screenCursor.offsetX;\n                var endOffsetX = screenAnchor.offsetX;\n            } else {\n                var startColumn = screenAnchor.column;\n                var endColumn = screenCursor.column;\n                var startOffsetX = screenAnchor.offsetX;\n                var endOffsetX = screenCursor.offsetX;\n            }\n\n            var yBackwards = screenCursor.row < screenAnchor.row;\n            if (yBackwards) {\n                var startRow = screenCursor.row;\n                var endRow = screenAnchor.row;\n            } else {\n                var startRow = screenAnchor.row;\n                var endRow = screenCursor.row;\n            }\n\n            if (startColumn < 0) startColumn = 0;\n            if (startRow < 0) startRow = 0;\n\n            if (startRow == endRow) includeEmptyLines = true;\n\n            for (var row = startRow; row <= endRow; row++) {\n                var range = Range.fromPoints(this.session.screenToDocumentPosition(row, startColumn, startOffsetX), this.session.screenToDocumentPosition(row, endColumn, endOffsetX));\n                if (range.isEmpty()) {\n                    if (docEnd && isSamePoint(range.end, docEnd)) break;\n                    var docEnd = range.end;\n                }\n                range.cursor = xBackwards ? range.start : range.end;\n                rectSel.push(range);\n            }\n\n            if (yBackwards) rectSel.reverse();\n\n            if (!includeEmptyLines) {\n                var end = rectSel.length - 1;\n                while (rectSel[end].isEmpty() && end > 0) {\n                    end--;\n                }if (end > 0) {\n                    var start = 0;\n                    while (rectSel[start].isEmpty()) {\n                        start++;\n                    }\n                }\n                for (var i = end; i >= start; i--) {\n                    if (rectSel[i].isEmpty()) rectSel.splice(i, 1);\n                }\n            }\n\n            return rectSel;\n        };\n    }).call(Selection.prototype);\n    var Editor = acequire(\"./editor\").Editor;\n    (function () {\n        this.updateSelectionMarkers = function () {\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        };\n        this.addSelectionMarker = function (orientedRange) {\n            if (!orientedRange.cursor) orientedRange.cursor = orientedRange.end;\n\n            var style = this.getSelectionStyle();\n            orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n            this.session.$selectionMarkers.push(orientedRange);\n            this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n            return orientedRange;\n        };\n        this.removeSelectionMarker = function (range) {\n            if (!range.marker) return;\n            this.session.removeMarker(range.marker);\n            var index = this.session.$selectionMarkers.indexOf(range);\n            if (index != -1) this.session.$selectionMarkers.splice(index, 1);\n            this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        };\n\n        this.removeSelectionMarkers = function (ranges) {\n            var markerList = this.session.$selectionMarkers;\n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.marker) continue;\n                this.session.removeMarker(range.marker);\n                var index = markerList.indexOf(range);\n                if (index != -1) markerList.splice(index, 1);\n            }\n            this.session.selectionMarkerCount = markerList.length;\n        };\n\n        this.$onAddRange = function (e) {\n            this.addSelectionMarker(e.range);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        };\n\n        this.$onRemoveRange = function (e) {\n            this.removeSelectionMarkers(e.ranges);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        };\n\n        this.$onMultiSelect = function (e) {\n            if (this.inMultiSelectMode) return;\n            this.inMultiSelectMode = true;\n\n            this.setStyle(\"ace_multiselect\");\n            this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n            this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        };\n\n        this.$onSingleSelect = function (e) {\n            if (this.session.multiSelect.inVirtualMode) return;\n            this.inMultiSelectMode = false;\n\n            this.unsetStyle(\"ace_multiselect\");\n            this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n            this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n            this._emit(\"changeSelection\");\n        };\n\n        this.$onMultiSelectExec = function (e) {\n            var command = e.command;\n            var editor = e.editor;\n            if (!editor.multiSelect) return;\n            if (!command.multiSelectAction) {\n                var result = command.exec(editor, e.args || {});\n                editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n                editor.multiSelect.mergeOverlappingRanges();\n            } else if (command.multiSelectAction == \"forEach\") {\n                result = editor.forEachSelection(command, e.args);\n            } else if (command.multiSelectAction == \"forEachLine\") {\n                result = editor.forEachSelection(command, e.args, true);\n            } else if (command.multiSelectAction == \"single\") {\n                editor.exitMultiSelectMode();\n                result = command.exec(editor, e.args || {});\n            } else {\n                result = command.multiSelectAction(editor, e.args || {});\n            }\n            return result;\n        };\n        this.forEachSelection = function (cmd, args, options) {\n            if (this.inVirtualSelectionMode) return;\n            var keepOrder = options && options.keepOrder;\n            var $byLines = options == true || options && options.$byLines;\n            var session = this.session;\n            var selection = this.selection;\n            var rangeList = selection.rangeList;\n            var ranges = (keepOrder ? selection : rangeList).ranges;\n            var result;\n\n            if (!ranges.length) return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n\n            var reg = selection._eventRegistry;\n            selection._eventRegistry = {};\n\n            var tmpSel = new Selection(session);\n            this.inVirtualSelectionMode = true;\n            for (var i = ranges.length; i--;) {\n                if ($byLines) {\n                    while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row) {\n                        i--;\n                    }\n                }\n                tmpSel.fromOrientedRange(ranges[i]);\n                tmpSel.index = i;\n                this.selection = session.selection = tmpSel;\n                var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n                if (!result && cmdResult !== undefined) result = cmdResult;\n                tmpSel.toOrientedRange(ranges[i]);\n            }\n            tmpSel.detach();\n\n            this.selection = session.selection = selection;\n            this.inVirtualSelectionMode = false;\n            selection._eventRegistry = reg;\n            selection.mergeOverlappingRanges();\n\n            var anim = this.renderer.$scrollAnimation;\n            this.onCursorChange();\n            this.onSelectionChange();\n            if (anim && anim.from == anim.to) this.renderer.animateScrolling(anim.from);\n\n            return result;\n        };\n        this.exitMultiSelectMode = function () {\n            if (!this.inMultiSelectMode || this.inVirtualSelectionMode) return;\n            this.multiSelect.toSingleRange();\n        };\n\n        this.getSelectedText = function () {\n            var text = \"\";\n            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n                var ranges = this.multiSelect.rangeList.ranges;\n                var buf = [];\n                for (var i = 0; i < ranges.length; i++) {\n                    buf.push(this.session.getTextRange(ranges[i]));\n                }\n                var nl = this.session.getDocument().getNewLineCharacter();\n                text = buf.join(nl);\n                if (text.length == (buf.length - 1) * nl.length) text = \"\";\n            } else if (!this.selection.isEmpty()) {\n                text = this.session.getTextRange(this.getSelectionRange());\n            }\n            return text;\n        };\n\n        this.$checkMultiselectChange = function (e, anchor) {\n            if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n                var range = this.multiSelect.ranges[0];\n                if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor) return;\n                var pos = anchor == this.multiSelect.anchor ? range.cursor == range.start ? range.end : range.start : range.cursor;\n                if (pos.row != anchor.row || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column) this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            }\n        };\n        this.findAll = function (needle, options, additive) {\n            options = options || {};\n            options.needle = needle || options.needle;\n            if (options.needle == undefined) {\n                var range = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();\n                options.needle = this.session.getTextRange(range);\n            }\n            this.$search.set(options);\n\n            var ranges = this.$search.findAll(this.session);\n            if (!ranges.length) return 0;\n\n            this.$blockScrolling += 1;\n            var selection = this.multiSelect;\n\n            if (!additive) selection.toSingleRange(ranges[0]);\n\n            for (var i = ranges.length; i--;) {\n                selection.addRange(ranges[i], true);\n            }if (range && selection.rangeList.rangeAtPoint(range.start)) selection.addRange(range, true);\n\n            this.$blockScrolling -= 1;\n\n            return ranges.length;\n        };\n        this.selectMoreLines = function (dir, skip) {\n            var range = this.selection.toOrientedRange();\n            var isBackwards = range.cursor == range.end;\n\n            var screenLead = this.session.documentToScreenPosition(range.cursor);\n            if (this.selection.$desiredColumn) screenLead.column = this.selection.$desiredColumn;\n\n            var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n            if (!range.isEmpty()) {\n                var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n                var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n            } else {\n                var anchor = lead;\n            }\n\n            if (isBackwards) {\n                var newRange = Range.fromPoints(lead, anchor);\n                newRange.cursor = newRange.start;\n            } else {\n                var newRange = Range.fromPoints(anchor, lead);\n                newRange.cursor = newRange.end;\n            }\n\n            newRange.desiredColumn = screenLead.column;\n            if (!this.selection.inMultiSelectMode) {\n                this.selection.addRange(range);\n            } else {\n                if (skip) var toRemove = range.cursor;\n            }\n\n            this.selection.addRange(newRange);\n            if (toRemove) this.selection.substractPoint(toRemove);\n        };\n        this.transposeSelections = function (dir) {\n            var session = this.session;\n            var sel = session.multiSelect;\n            var all = sel.ranges;\n\n            for (var i = all.length; i--;) {\n                var range = all[i];\n                if (range.isEmpty()) {\n                    var tmp = session.getWordRange(range.start.row, range.start.column);\n                    range.start.row = tmp.start.row;\n                    range.start.column = tmp.start.column;\n                    range.end.row = tmp.end.row;\n                    range.end.column = tmp.end.column;\n                }\n            }\n            sel.mergeOverlappingRanges();\n\n            var words = [];\n            for (var i = all.length; i--;) {\n                var range = all[i];\n                words.unshift(session.getTextRange(range));\n            }\n\n            if (dir < 0) words.unshift(words.pop());else words.push(words.shift());\n\n            for (var i = all.length; i--;) {\n                var range = all[i];\n                var tmp = range.clone();\n                session.replace(range, words[i]);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n            }\n        };\n        this.selectMore = function (dir, skip, stopAtFirst) {\n            var session = this.session;\n            var sel = session.multiSelect;\n\n            var range = sel.toOrientedRange();\n            if (range.isEmpty()) {\n                range = session.getWordRange(range.start.row, range.start.column);\n                range.cursor = dir == -1 ? range.start : range.end;\n                this.multiSelect.addRange(range);\n                if (stopAtFirst) return;\n            }\n            var needle = session.getTextRange(range);\n\n            var newRange = find(session, needle, dir);\n            if (newRange) {\n                newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n                this.$blockScrolling += 1;\n                this.session.unfold(newRange);\n                this.multiSelect.addRange(newRange);\n                this.$blockScrolling -= 1;\n                this.renderer.scrollCursorIntoView(null, 0.5);\n            }\n            if (skip) this.multiSelect.substractPoint(range.cursor);\n        };\n        this.alignCursors = function () {\n            var session = this.session;\n            var sel = session.multiSelect;\n            var ranges = sel.ranges;\n            var row = -1;\n            var sameRowRanges = ranges.filter(function (r) {\n                if (r.cursor.row == row) return true;\n                row = r.cursor.row;\n            });\n\n            if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n                var range = this.selection.getRange();\n                var fr = range.start.row,\n                    lr = range.end.row;\n                var guessRange = fr == lr;\n                if (guessRange) {\n                    var max = this.session.getLength();\n                    var line;\n                    do {\n                        line = this.session.getLine(lr);\n                    } while (/[=:]/.test(line) && ++lr < max);\n                    do {\n                        line = this.session.getLine(fr);\n                    } while (/[=:]/.test(line) && --fr > 0);\n\n                    if (fr < 0) fr = 0;\n                    if (lr >= max) lr = max - 1;\n                }\n                var lines = this.session.removeFullLines(fr, lr);\n                lines = this.$reAlignText(lines, guessRange);\n                this.session.insert({ row: fr, column: 0 }, lines.join(\"\\n\") + \"\\n\");\n                if (!guessRange) {\n                    range.start.column = 0;\n                    range.end.column = lines[lines.length - 1].length;\n                }\n                this.selection.setRange(range);\n            } else {\n                sameRowRanges.forEach(function (r) {\n                    sel.substractPoint(r.cursor);\n                });\n\n                var maxCol = 0;\n                var minSpace = Infinity;\n                var spaceOffsets = ranges.map(function (r) {\n                    var p = r.cursor;\n                    var line = session.getLine(p.row);\n                    var spaceOffset = line.substr(p.column).search(/\\S/g);\n                    if (spaceOffset == -1) spaceOffset = 0;\n\n                    if (p.column > maxCol) maxCol = p.column;\n                    if (spaceOffset < minSpace) minSpace = spaceOffset;\n                    return spaceOffset;\n                });\n                ranges.forEach(function (r, i) {\n                    var p = r.cursor;\n                    var l = maxCol - p.column;\n                    var d = spaceOffsets[i] - minSpace;\n                    if (l > d) session.insert(p, lang.stringRepeat(\" \", l - d));else session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                    r.start.column = r.end.column = maxCol;\n                    r.start.row = r.end.row = p.row;\n                    r.cursor = r.end;\n                });\n                sel.fromOrientedRange(ranges[0]);\n                this.renderer.updateCursor();\n                this.renderer.updateBackMarkers();\n            }\n        };\n\n        this.$reAlignText = function (lines, forceLeft) {\n            var isLeftAligned = true,\n                isRightAligned = true;\n            var startW, textW, endW;\n\n            return lines.map(function (line) {\n                var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n                if (!m) return [line];\n\n                if (startW == null) {\n                    startW = m[1].length;\n                    textW = m[2].length;\n                    endW = m[3].length;\n                    return m;\n                }\n\n                if (startW + textW + endW != m[1].length + m[2].length + m[3].length) isRightAligned = false;\n                if (startW != m[1].length) isLeftAligned = false;\n\n                if (startW > m[1].length) startW = m[1].length;\n                if (textW < m[2].length) textW = m[2].length;\n                if (endW > m[3].length) endW = m[3].length;\n\n                return m;\n            }).map(forceLeft ? alignLeft : isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n            function spaces(n) {\n                return lang.stringRepeat(\" \", n);\n            }\n\n            function alignLeft(m) {\n                return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(textW - m[2].length + endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n            }\n            function alignRight(m) {\n                return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2] + spaces(endW, \" \") + m[4].replace(/^([=:])\\s+/, \"$1 \");\n            }\n            function unAlign(m) {\n                return !m[2] ? m[0] : spaces(startW) + m[2] + spaces(endW) + m[4].replace(/^([=:])\\s+/, \"$1 \");\n            }\n        };\n    }).call(Editor.prototype);\n\n    function isSamePoint(p1, p2) {\n        return p1.row == p2.row && p1.column == p2.column;\n    }\n    exports.onSessionChange = function (e) {\n        var session = e.session;\n        if (session && !session.multiSelect) {\n            session.$selectionMarkers = [];\n            session.selection.$initRangeList();\n            session.multiSelect = session.selection;\n        }\n        this.multiSelect = session && session.multiSelect;\n\n        var oldSession = e.oldSession;\n        if (oldSession) {\n            oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n            oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n            oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n            oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n            oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n            oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n        }\n\n        if (session) {\n            session.multiSelect.on(\"addRange\", this.$onAddRange);\n            session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n            session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n            session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n            session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n            session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n        }\n\n        if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n            if (session.selection.inMultiSelectMode) this.$onMultiSelect();else this.$onSingleSelect();\n        }\n    };\n    function MultiSelect(editor) {\n        if (editor.$multiselectOnSessionChange) return;\n        editor.$onAddRange = editor.$onAddRange.bind(editor);\n        editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n        editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n        editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n        editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n        editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n        editor.$multiselectOnSessionChange(editor);\n        editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n        editor.on(\"mousedown\", onMouseDown);\n        editor.commands.addCommands(commands.defaultCommands);\n\n        addAltCursorListeners(editor);\n    }\n\n    function addAltCursorListeners(editor) {\n        var el = editor.textInput.getElement();\n        var altCursor = false;\n        event.addListener(el, \"keydown\", function (e) {\n            var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n            if (editor.$blockSelectEnabled && altDown) {\n                if (!altCursor) {\n                    editor.renderer.setMouseCursor(\"crosshair\");\n                    altCursor = true;\n                }\n            } else if (altCursor) {\n                reset();\n            }\n        });\n\n        event.addListener(el, \"keyup\", reset);\n        event.addListener(el, \"blur\", reset);\n        function reset(e) {\n            if (altCursor) {\n                editor.renderer.setMouseCursor(\"\");\n                altCursor = false;\n            }\n        }\n    }\n\n    exports.MultiSelect = MultiSelect;\n\n    acequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n        enableMultiselect: {\n            set: function set(val) {\n                MultiSelect(this);\n                if (val) {\n                    this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                    this.on(\"mousedown\", onMouseDown);\n                } else {\n                    this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                    this.off(\"mousedown\", onMouseDown);\n                }\n            },\n            value: true\n        },\n        enableBlockSelect: {\n            set: function set(val) {\n                this.$blockSelectEnabled = val;\n            },\n            value: true\n        }\n    });\n});\n\nace.define(\"ace/mode/folding/fold_mode\", [\"require\", \"exports\", \"module\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var Range = acequire(\"../../range\").Range;\n\n    var FoldMode = exports.FoldMode = function () {};\n\n    (function () {\n\n        this.foldingStartMarker = null;\n        this.foldingStopMarker = null;\n        this.getFoldWidget = function (session, foldStyle, row) {\n            var line = session.getLine(row);\n            if (this.foldingStartMarker.test(line)) return \"start\";\n            if (foldStyle == \"markbeginend\" && this.foldingStopMarker && this.foldingStopMarker.test(line)) return \"end\";\n            return \"\";\n        };\n\n        this.getFoldWidgetRange = function (session, foldStyle, row) {\n            return null;\n        };\n\n        this.indentationBlock = function (session, row, column) {\n            var re = /\\S/;\n            var line = session.getLine(row);\n            var startLevel = line.search(re);\n            if (startLevel == -1) return;\n\n            var startColumn = column || line.length;\n            var maxRow = session.getLength();\n            var startRow = row;\n            var endRow = row;\n\n            while (++row < maxRow) {\n                var level = session.getLine(row).search(re);\n\n                if (level == -1) continue;\n\n                if (level <= startLevel) break;\n\n                endRow = row;\n            }\n\n            if (endRow > startRow) {\n                var endColumn = session.getLine(endRow).length;\n                return new Range(startRow, startColumn, endRow, endColumn);\n            }\n        };\n\n        this.openingBracketBlock = function (session, bracket, row, column, typeRe) {\n            var start = { row: row, column: column + 1 };\n            var end = session.$findClosingBracket(bracket, start, typeRe);\n            if (!end) return;\n\n            var fw = session.foldWidgets[end.row];\n            if (fw == null) fw = session.getFoldWidget(end.row);\n\n            if (fw == \"start\" && end.row > start.row) {\n                end.row--;\n                end.column = session.getLine(end.row).length;\n            }\n            return Range.fromPoints(start, end);\n        };\n\n        this.closingBracketBlock = function (session, bracket, row, column, typeRe) {\n            var end = { row: row, column: column };\n            var start = session.$findOpeningBracket(bracket, end);\n\n            if (!start) return;\n\n            start.column++;\n            end.column--;\n\n            return Range.fromPoints(start, end);\n        };\n    }).call(FoldMode.prototype);\n});\n\nace.define(\"ace/theme/textmate\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    exports.isDark = false;\n    exports.cssClass = \"ace-tm\";\n    exports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n\n    var dom = acequire(\"../lib/dom\");\n    dom.importCssString(exports.cssText, exports.cssClass);\n});\n\nace.define(\"ace/line_widgets\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/dom\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"./lib/oop\");\n    var dom = acequire(\"./lib/dom\");\n    var Range = acequire(\"./range\").Range;\n\n    function LineWidgets(session) {\n        this.session = session;\n        this.session.widgetManager = this;\n        this.session.getRowLength = this.getRowLength;\n        this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n        this.updateOnChange = this.updateOnChange.bind(this);\n        this.renderWidgets = this.renderWidgets.bind(this);\n        this.measureWidgets = this.measureWidgets.bind(this);\n        this.session._changedWidgets = [];\n        this.$onChangeEditor = this.$onChangeEditor.bind(this);\n\n        this.session.on(\"change\", this.updateOnChange);\n        this.session.on(\"changeFold\", this.updateOnFold);\n        this.session.on(\"changeEditor\", this.$onChangeEditor);\n    }\n\n    (function () {\n        this.getRowLength = function (row) {\n            var h;\n            if (this.lineWidgets) h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;else h = 0;\n            if (!this.$useWrapMode || !this.$wrapData[row]) {\n                return 1 + h;\n            } else {\n                return this.$wrapData[row].length + 1 + h;\n            }\n        };\n\n        this.$getWidgetScreenLength = function () {\n            var screenRows = 0;\n            this.lineWidgets.forEach(function (w) {\n                if (w && w.rowCount && !w.hidden) screenRows += w.rowCount;\n            });\n            return screenRows;\n        };\n\n        this.$onChangeEditor = function (e) {\n            this.attach(e.editor);\n        };\n\n        this.attach = function (editor) {\n            if (editor && editor.widgetManager && editor.widgetManager != this) editor.widgetManager.detach();\n\n            if (this.editor == editor) return;\n\n            this.detach();\n            this.editor = editor;\n\n            if (editor) {\n                editor.widgetManager = this;\n                editor.renderer.on(\"beforeRender\", this.measureWidgets);\n                editor.renderer.on(\"afterRender\", this.renderWidgets);\n            }\n        };\n        this.detach = function (e) {\n            var editor = this.editor;\n            if (!editor) return;\n\n            this.editor = null;\n            editor.widgetManager = null;\n\n            editor.renderer.off(\"beforeRender\", this.measureWidgets);\n            editor.renderer.off(\"afterRender\", this.renderWidgets);\n            var lineWidgets = this.session.lineWidgets;\n            lineWidgets && lineWidgets.forEach(function (w) {\n                if (w && w.el && w.el.parentNode) {\n                    w._inDocument = false;\n                    w.el.parentNode.removeChild(w.el);\n                }\n            });\n        };\n\n        this.updateOnFold = function (e, session) {\n            var lineWidgets = session.lineWidgets;\n            if (!lineWidgets || !e.action) return;\n            var fold = e.data;\n            var start = fold.start.row;\n            var end = fold.end.row;\n            var hide = e.action == \"add\";\n            for (var i = start + 1; i < end; i++) {\n                if (lineWidgets[i]) lineWidgets[i].hidden = hide;\n            }\n            if (lineWidgets[end]) {\n                if (hide) {\n                    if (!lineWidgets[start]) lineWidgets[start] = lineWidgets[end];else lineWidgets[end].hidden = hide;\n                } else {\n                    if (lineWidgets[start] == lineWidgets[end]) lineWidgets[start] = undefined;\n                    lineWidgets[end].hidden = hide;\n                }\n            }\n        };\n\n        this.updateOnChange = function (delta) {\n            var lineWidgets = this.session.lineWidgets;\n            if (!lineWidgets) return;\n\n            var startRow = delta.start.row;\n            var len = delta.end.row - startRow;\n\n            if (len === 0) {} else if (delta.action == 'remove') {\n                var removed = lineWidgets.splice(startRow + 1, len);\n                removed.forEach(function (w) {\n                    w && this.removeLineWidget(w);\n                }, this);\n                this.$updateRows();\n            } else {\n                var args = new Array(len);\n                args.unshift(startRow, 0);\n                lineWidgets.splice.apply(lineWidgets, args);\n                this.$updateRows();\n            }\n        };\n\n        this.$updateRows = function () {\n            var lineWidgets = this.session.lineWidgets;\n            if (!lineWidgets) return;\n            var noWidgets = true;\n            lineWidgets.forEach(function (w, i) {\n                if (w) {\n                    noWidgets = false;\n                    w.row = i;\n                    while (w.$oldWidget) {\n                        w.$oldWidget.row = i;\n                        w = w.$oldWidget;\n                    }\n                }\n            });\n            if (noWidgets) this.session.lineWidgets = null;\n        };\n\n        this.addLineWidget = function (w) {\n            if (!this.session.lineWidgets) this.session.lineWidgets = new Array(this.session.getLength());\n\n            var old = this.session.lineWidgets[w.row];\n            if (old) {\n                w.$oldWidget = old;\n                if (old.el && old.el.parentNode) {\n                    old.el.parentNode.removeChild(old.el);\n                    old._inDocument = false;\n                }\n            }\n\n            this.session.lineWidgets[w.row] = w;\n\n            w.session = this.session;\n\n            var renderer = this.editor.renderer;\n            if (w.html && !w.el) {\n                w.el = dom.createElement(\"div\");\n                w.el.innerHTML = w.html;\n            }\n            if (w.el) {\n                dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n                w.el.style.position = \"absolute\";\n                w.el.style.zIndex = 5;\n                renderer.container.appendChild(w.el);\n                w._inDocument = true;\n            }\n\n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n            if (w.rowCount == null) {\n                w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n            }\n\n            var fold = this.session.getFoldAt(w.row, 0);\n            w.$fold = fold;\n            if (fold) {\n                var lineWidgets = this.session.lineWidgets;\n                if (w.row == fold.end.row && !lineWidgets[fold.start.row]) lineWidgets[fold.start.row] = w;else w.hidden = true;\n            }\n\n            this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n\n            this.$updateRows();\n            this.renderWidgets(null, renderer);\n            this.onWidgetChanged(w);\n            return w;\n        };\n\n        this.removeLineWidget = function (w) {\n            w._inDocument = false;\n            w.session = null;\n            if (w.el && w.el.parentNode) w.el.parentNode.removeChild(w.el);\n            if (w.editor && w.editor.destroy) try {\n                w.editor.destroy();\n            } catch (e) {}\n            if (this.session.lineWidgets) {\n                var w1 = this.session.lineWidgets[w.row];\n                if (w1 == w) {\n                    this.session.lineWidgets[w.row] = w.$oldWidget;\n                    if (w.$oldWidget) this.onWidgetChanged(w.$oldWidget);\n                } else {\n                    while (w1) {\n                        if (w1.$oldWidget == w) {\n                            w1.$oldWidget = w.$oldWidget;\n                            break;\n                        }\n                        w1 = w1.$oldWidget;\n                    }\n                }\n            }\n            this.session._emit(\"changeFold\", { data: { start: { row: w.row } } });\n            this.$updateRows();\n        };\n\n        this.getWidgetsAtRow = function (row) {\n            var lineWidgets = this.session.lineWidgets;\n            var w = lineWidgets && lineWidgets[row];\n            var list = [];\n            while (w) {\n                list.push(w);\n                w = w.$oldWidget;\n            }\n            return list;\n        };\n\n        this.onWidgetChanged = function (w) {\n            this.session._changedWidgets.push(w);\n            this.editor && this.editor.renderer.updateFull();\n        };\n\n        this.measureWidgets = function (e, renderer) {\n            var changedWidgets = this.session._changedWidgets;\n            var config = renderer.layerConfig;\n\n            if (!changedWidgets || !changedWidgets.length) return;\n            var min = Infinity;\n            for (var i = 0; i < changedWidgets.length; i++) {\n                var w = changedWidgets[i];\n                if (!w || !w.el) continue;\n                if (w.session != this.session) continue;\n                if (!w._inDocument) {\n                    if (this.session.lineWidgets[w.row] != w) continue;\n                    w._inDocument = true;\n                    renderer.container.appendChild(w.el);\n                }\n\n                w.h = w.el.offsetHeight;\n\n                if (!w.fixedWidth) {\n                    w.w = w.el.offsetWidth;\n                    w.screenWidth = Math.ceil(w.w / config.characterWidth);\n                }\n\n                var rowCount = w.h / config.lineHeight;\n                if (w.coverLine) {\n                    rowCount -= this.session.getRowLineCount(w.row);\n                    if (rowCount < 0) rowCount = 0;\n                }\n                if (w.rowCount != rowCount) {\n                    w.rowCount = rowCount;\n                    if (w.row < min) min = w.row;\n                }\n            }\n            if (min != Infinity) {\n                this.session._emit(\"changeFold\", { data: { start: { row: min } } });\n                this.session.lineWidgetWidth = null;\n            }\n            this.session._changedWidgets = [];\n        };\n\n        this.renderWidgets = function (e, renderer) {\n            var config = renderer.layerConfig;\n            var lineWidgets = this.session.lineWidgets;\n            if (!lineWidgets) return;\n            var first = Math.min(this.firstRow, config.firstRow);\n            var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n\n            while (first > 0 && !lineWidgets[first]) {\n                first--;\n            }this.firstRow = config.firstRow;\n            this.lastRow = config.lastRow;\n\n            renderer.$cursorLayer.config = config;\n            for (var i = first; i <= last; i++) {\n                var w = lineWidgets[i];\n                if (!w || !w.el) continue;\n                if (w.hidden) {\n                    w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                    continue;\n                }\n                if (!w._inDocument) {\n                    w._inDocument = true;\n                    renderer.container.appendChild(w.el);\n                }\n                var top = renderer.$cursorLayer.getPixelPosition({ row: i, column: 0 }, true).top;\n                if (!w.coverLine) top += config.lineHeight * this.session.getRowLineCount(w.row);\n                w.el.style.top = top - config.offset + \"px\";\n\n                var left = w.coverGutter ? 0 : renderer.gutterWidth;\n                if (!w.fixedWidth) left -= renderer.scrollLeft;\n                w.el.style.left = left + \"px\";\n\n                if (w.fullWidth && w.screenWidth) {\n                    w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n                }\n\n                if (w.fixedWidth) {\n                    w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n                } else {\n                    w.el.style.right = \"\";\n                }\n            }\n        };\n    }).call(LineWidgets.prototype);\n\n    exports.LineWidgets = LineWidgets;\n});\n\nace.define(\"ace/ext/error_marker\", [\"require\", \"exports\", \"module\", \"ace/line_widgets\", \"ace/lib/dom\", \"ace/range\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var LineWidgets = acequire(\"../line_widgets\").LineWidgets;\n    var dom = acequire(\"../lib/dom\");\n    var Range = acequire(\"../range\").Range;\n\n    function binarySearch(array, needle, comparator) {\n        var first = 0;\n        var last = array.length - 1;\n\n        while (first <= last) {\n            var mid = first + last >> 1;\n            var c = comparator(needle, array[mid]);\n            if (c > 0) first = mid + 1;else if (c < 0) last = mid - 1;else return mid;\n        }\n        return -(first + 1);\n    }\n\n    function findAnnotations(session, row, dir) {\n        var annotations = session.getAnnotations().sort(Range.comparePoints);\n        if (!annotations.length) return;\n\n        var i = binarySearch(annotations, { row: row, column: -1 }, Range.comparePoints);\n        if (i < 0) i = -i - 1;\n\n        if (i >= annotations.length) i = dir > 0 ? 0 : annotations.length - 1;else if (i === 0 && dir < 0) i = annotations.length - 1;\n\n        var annotation = annotations[i];\n        if (!annotation || !dir) return;\n\n        if (annotation.row === row) {\n            do {\n                annotation = annotations[i += dir];\n            } while (annotation && annotation.row === row);\n            if (!annotation) return annotations.slice();\n        }\n\n        var matched = [];\n        row = annotation.row;\n        do {\n            matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row == row);\n        return matched.length && matched;\n    }\n\n    exports.showErrorMarker = function (editor, dir) {\n        var session = editor.session;\n        if (!session.widgetManager) {\n            session.widgetManager = new LineWidgets(session);\n            session.widgetManager.attach(editor);\n        }\n\n        var pos = editor.getCursorPosition();\n        var row = pos.row;\n        var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function (w) {\n            return w.type == \"errorMarker\";\n        })[0];\n        if (oldWidget) {\n            oldWidget.destroy();\n        } else {\n            row -= dir;\n        }\n        var annotations = findAnnotations(session, row, dir);\n        var gutterAnno;\n        if (annotations) {\n            var annotation = annotations[0];\n            pos.column = (annotation.pos && typeof annotation.column != \"number\" ? annotation.pos.sc : annotation.column) || 0;\n            pos.row = annotation.row;\n            gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n        } else if (oldWidget) {\n            return;\n        } else {\n            gutterAnno = {\n                text: [\"Looks good!\"],\n                className: \"ace_ok\"\n            };\n        }\n        editor.session.unfold(pos.row);\n        editor.selection.moveToPosition(pos);\n\n        var w = {\n            row: pos.row,\n            fixedWidth: true,\n            coverGutter: true,\n            el: dom.createElement(\"div\"),\n            type: \"errorMarker\"\n        };\n        var el = w.el.appendChild(dom.createElement(\"div\"));\n        var arrow = w.el.appendChild(dom.createElement(\"div\"));\n        arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n\n        var left = editor.renderer.$cursorLayer.getPixelPosition(pos).left;\n        arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n\n        w.el.className = \"error_widget_wrapper\";\n        el.className = \"error_widget \" + gutterAnno.className;\n        el.innerHTML = gutterAnno.text.join(\"<br>\");\n\n        el.appendChild(dom.createElement(\"div\"));\n\n        var kb = function kb(_, hashId, keyString) {\n            if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n                w.destroy();\n                return { command: \"null\" };\n            }\n        };\n\n        w.destroy = function () {\n            if (editor.$mouseHandler.isMousePressed) return;\n            editor.keyBinding.removeKeyboardHandler(kb);\n            session.widgetManager.removeLineWidget(w);\n            editor.off(\"changeSelection\", w.destroy);\n            editor.off(\"changeSession\", w.destroy);\n            editor.off(\"mouseup\", w.destroy);\n            editor.off(\"change\", w.destroy);\n        };\n\n        editor.keyBinding.addKeyboardHandler(kb);\n        editor.on(\"changeSelection\", w.destroy);\n        editor.on(\"changeSession\", w.destroy);\n        editor.on(\"mouseup\", w.destroy);\n        editor.on(\"change\", w.destroy);\n\n        editor.session.widgetManager.addLineWidget(w);\n\n        w.el.onmousedown = editor.focus.bind(editor);\n\n        editor.renderer.scrollCursorIntoView(null, 0.5, { bottom: w.el.offsetHeight });\n    };\n\n    dom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n});\n\nace.define(\"ace/ace\", [\"require\", \"exports\", \"module\", \"ace/lib/fixoldbrowsers\", \"ace/lib/dom\", \"ace/lib/event\", \"ace/editor\", \"ace/edit_session\", \"ace/undomanager\", \"ace/virtual_renderer\", \"ace/worker/worker_client\", \"ace/keyboard/hash_handler\", \"ace/placeholder\", \"ace/multi_select\", \"ace/mode/folding/fold_mode\", \"ace/theme/textmate\", \"ace/ext/error_marker\", \"ace/config\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    acequire(\"./lib/fixoldbrowsers\");\n\n    var dom = acequire(\"./lib/dom\");\n    var event = acequire(\"./lib/event\");\n\n    var Editor = acequire(\"./editor\").Editor;\n    var EditSession = acequire(\"./edit_session\").EditSession;\n    var UndoManager = acequire(\"./undomanager\").UndoManager;\n    var Renderer = acequire(\"./virtual_renderer\").VirtualRenderer;\n    acequire(\"./worker/worker_client\");\n    acequire(\"./keyboard/hash_handler\");\n    acequire(\"./placeholder\");\n    acequire(\"./multi_select\");\n    acequire(\"./mode/folding/fold_mode\");\n    acequire(\"./theme/textmate\");\n    acequire(\"./ext/error_marker\");\n\n    exports.config = acequire(\"./config\");\n    exports.acequire = acequire;\n\n    if (true) exports.define = __webpack_require__(143);\n    exports.edit = function (el) {\n        if (typeof el == \"string\") {\n            var _id = el;\n            el = document.getElementById(_id);\n            if (!el) throw new Error(\"ace.edit can't find div #\" + _id);\n        }\n\n        if (el && el.env && el.env.editor instanceof Editor) return el.env.editor;\n\n        var value = \"\";\n        if (el && /input|textarea/i.test(el.tagName)) {\n            var oldNode = el;\n            value = oldNode.value;\n            el = dom.createElement(\"pre\");\n            oldNode.parentNode.replaceChild(el, oldNode);\n        } else if (el) {\n            value = dom.getInnerText(el);\n            el.innerHTML = \"\";\n        }\n\n        var doc = exports.createEditSession(value);\n\n        var editor = new Editor(new Renderer(el));\n        editor.setSession(doc);\n\n        var env = {\n            document: doc,\n            editor: editor,\n            onResize: editor.resize.bind(editor, null)\n        };\n        if (oldNode) env.textarea = oldNode;\n        event.addListener(window, \"resize\", env.onResize);\n        editor.on(\"destroy\", function () {\n            event.removeListener(window, \"resize\", env.onResize);\n            env.editor.container.env = null; // prevent memory leak on old ie\n        });\n        editor.container.env = editor.env = env;\n        return editor;\n    };\n    exports.createEditSession = function (text, mode) {\n        var doc = new EditSession(text, mode);\n        doc.setUndoManager(new UndoManager());\n        return doc;\n    };\n    exports.EditSession = EditSession;\n    exports.UndoManager = UndoManager;\n    exports.version = \"1.2.9\";\n});\n(function () {\n    ace.acequire([\"ace/ace\"], function (a) {\n        if (a) {\n            a.config.init(true);\n            a.define = ace.define;\n        }\n        if (!window.ace) window.ace = a;\n        for (var key in a) {\n            if (a.hasOwnProperty(key)) window.ace[key] = a[key];\n        }\n    });\n})();\n\nmodule.exports = window.ace.acequire(\"ace/ace\");\n\n/***/ }),\n\n/***/ 159:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nace.define(\"ace/mode/doc_comment_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text_highlight_rules\"], function (acequire, exports, module) {\n    \"use strict\";\n\n    var oop = acequire(\"../lib/oop\");\n    var TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n\n    var DocCommentHighlightRules = function DocCommentHighlightRules() {\n        this.$rules = {\n            \"start\": [{\n                token: \"comment.doc.tag\",\n                regex: \"@[\\\\w\\\\d_]+\" // TODO: fix email addresses\n            }, DocCommentHighlightRules.getTagRule(), {\n                defaultToken: \"comment.doc\",\n                caseInsensitive: true\n            }]\n        };\n    };\n\n    oop.inherits(DocCommentHighlightRules, TextHighlightRules);\n\n    DocCommentHighlightRules.getTagRule = function (start) {\n        return {\n            token: \"comment.doc.tag.storage.type\",\n            regex: \"\\\\b(?:TODO|FIXME|XXX|HACK)\\\\b\"\n        };\n    };\n\n    DocCommentHighlightRules.getStartRule = function (start) {\n        return {\n            token: \"comment.doc\", // doc comment\n            regex: \"\\\\/\\\\*(?=\\\\*)\",\n            next: start\n        };\n    };\n\n    DocCommentHighlightRules.getEndRule = function (start) {\n        return {\n            token: \"comment.doc\", // closing comment\n            regex: \"\\\\*\\\\/\",\n            next: start\n        };\n    };\n\n    exports.DocCommentHighlightRules = DocCommentHighlightRules;\n});\n\nace.define(\"ace/mode/mysql_highlight_rules\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/lib/lang\", \"ace/mode/doc_comment_highlight_rules\", \"ace/mode/text_highlight_rules\"], function (acequire, exports, module) {\n\n    var oop = acequire(\"../lib/oop\");\n    var lang = acequire(\"../lib/lang\");\n    var DocCommentHighlightRules = acequire(\"./doc_comment_highlight_rules\").DocCommentHighlightRules;\n    var TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n\n    var MysqlHighlightRules = function MysqlHighlightRules() {\n\n        var mySqlKeywords = /*sql*/\"alter|and|as|asc|between|count|create|delete|desc|distinct|drop|from|having|in|insert|into|is|join|like|not|on|or|order|select|set|table|union|update|values|where\" + \"|accessible|action|add|after|algorithm|all|analyze|asensitive|at|authors|auto_increment|autocommit|avg|avg_row_length|before|binary|binlog|both|btree|cache|call|cascade|cascaded|case|catalog_name|chain|change|changed|character|check|checkpoint|checksum|class_origin|client_statistics|close|coalesce|code|collate|collation|collations|column|columns|comment|commit|committed|completion|concurrent|condition|connection|consistent|constraint|contains|continue|contributors|convert|cross|current_date|current_time|current_timestamp|current_user|cursor|data|database|databases|day_hour|day_microsecond|day_minute|day_second|deallocate|dec|declare|default|delay_key_write|delayed|delimiter|des_key_file|describe|deterministic|dev_pop|dev_samp|deviance|directory|disable|discard|distinctrow|div|dual|dumpfile|each|elseif|enable|enclosed|end|ends|engine|engines|enum|errors|escape|escaped|even|event|events|every|execute|exists|exit|explain|extended|fast|fetch|field|fields|first|flush|for|force|foreign|found_rows|full|fulltext|function|general|global|grant|grants|group|groupby_concat|handler|hash|help|high_priority|hosts|hour_microsecond|hour_minute|hour_second|if|ignore|ignore_server_ids|import|index|index_statistics|infile|inner|innodb|inout|insensitive|insert_method|install|interval|invoker|isolation|iterate|key|keys|kill|language|last|leading|leave|left|level|limit|linear|lines|list|load|local|localtime|localtimestamp|lock|logs|low_priority|master|master_heartbeat_period|master_ssl_verify_server_cert|masters|match|max|max_rows|maxvalue|message_text|middleint|migrate|min|min_rows|minute_microsecond|minute_second|mod|mode|modifies|modify|mutex|mysql_errno|natural|next|no|no_write_to_binlog|offline|offset|one|online|open|optimize|option|optionally|out|outer|outfile|pack_keys|parser|partition|partitions|password|phase|plugin|plugins|prepare|preserve|prev|primary|privileges|procedure|processlist|profile|profiles|purge|query|quick|range|read|read_write|reads|real|rebuild|recover|references|regexp|relaylog|release|remove|rename|reorganize|repair|repeatable|replace|acequire|resignal|restrict|resume|return|returns|revoke|right|rlike|rollback|rollup|row|row_format|rtree|savepoint|schedule|schema|schema_name|schemas|second_microsecond|security|sensitive|separator|serializable|server|session|share|show|signal|slave|slow|smallint|snapshot|soname|spatial|specific|sql|sql_big_result|sql_buffer_result|sql_cache|sql_calc_found_rows|sql_no_cache|sql_small_result|sqlexception|sqlstate|sqlwarning|ssl|start|starting|starts|status|std|stddev|stddev_pop|stddev_samp|storage|straight_join|subclass_origin|sum|suspend|table_name|table_statistics|tables|tablespace|temporary|terminated|to|trailing|transaction|trigger|triggers|truncate|uncommitted|undo|uninstall|unique|unlock|upgrade|usage|use|use_frm|user|user_resources|user_statistics|using|utc_date|utc_time|utc_timestamp|value|variables|varying|view|views|warnings|when|while|with|work|write|xa|xor|year_month|zerofill|begin|do|then|else|loop|repeat\";\n        var builtins = \"by|bool|boolean|bit|blob|decimal|double|enum|float|long|longblob|longtext|medium|mediumblob|mediumint|mediumtext|time|timestamp|tinyblob|tinyint|tinytext|text|bigint|int|int1|int2|int3|int4|int8|integer|float|float4|float8|double|char|varbinary|varchar|varcharacter|precision|date|datetime|year|unsigned|signed|numeric|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl\";\n        var variable = \"charset|clear|connect|edit|ego|exit|go|help|nopager|notee|nowarning|pager|print|prompt|quit|rehash|source|status|system|tee\";\n\n        var keywordMapper = this.createKeywordMapper({\n            \"support.function\": builtins,\n            \"keyword\": mySqlKeywords,\n            \"constant\": \"false|true|null|unknown|date|time|timestamp|ODBCdotTable|zerolessFloat\",\n            \"variable.language\": variable\n        }, \"identifier\", true);\n\n        function string(rule) {\n            var start = rule.start;\n            var escapeSeq = rule.escape;\n            return {\n                token: \"string.start\",\n                regex: start,\n                next: [{ token: \"constant.language.escape\", regex: escapeSeq }, { token: \"string.end\", next: \"start\", regex: start }, { defaultToken: \"string\" }]\n            };\n        }\n\n        this.$rules = {\n            \"start\": [{\n                token: \"comment\", regex: \"(?:-- |#).*$\"\n            }, string({ start: '\"', escape: /\\\\[0'\"bnrtZ\\\\%_]?/ }), string({ start: \"'\", escape: /\\\\[0'\"bnrtZ\\\\%_]?/ }), DocCommentHighlightRules.getStartRule(\"doc-start\"), {\n                token: \"comment\", // multi line comment\n                regex: /\\/\\*/,\n                next: \"comment\"\n            }, {\n                token: \"constant.numeric\", // hex\n                regex: /0[xX][0-9a-fA-F]+|[xX]'[0-9a-fA-F]+'|0[bB][01]+|[bB]'[01]+'/\n            }, {\n                token: \"constant.numeric\", // float\n                regex: \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n            }, {\n                token: keywordMapper,\n                regex: \"[a-zA-Z_$][a-zA-Z0-9_$]*\\\\b\"\n            }, {\n                token: \"constant.class\",\n                regex: \"@@?[a-zA-Z_$][a-zA-Z0-9_$]*\\\\b\"\n            }, {\n                token: \"constant.buildin\",\n                regex: \"`[^`]*`\"\n            }, {\n                token: \"keyword.operator\",\n                regex: \"\\\\+|\\\\-|\\\\/|\\\\/\\\\/|%|<@>|@>|<@|&|\\\\^|~|<|>|<=|=>|==|!=|<>|=\"\n            }, {\n                token: \"paren.lparen\",\n                regex: \"[\\\\(]\"\n            }, {\n                token: \"paren.rparen\",\n                regex: \"[\\\\)]\"\n            }, {\n                token: \"text\",\n                regex: \"\\\\s+\"\n            }],\n            \"comment\": [{ token: \"comment\", regex: \"\\\\*\\\\/\", next: \"start\" }, { defaultToken: \"comment\" }]\n        };\n\n        this.embedRules(DocCommentHighlightRules, \"doc-\", [DocCommentHighlightRules.getEndRule(\"start\")]);\n        this.normalizeRules();\n    };\n\n    oop.inherits(MysqlHighlightRules, TextHighlightRules);\n\n    exports.MysqlHighlightRules = MysqlHighlightRules;\n});\n\nace.define(\"ace/mode/mysql\", [\"require\", \"exports\", \"module\", \"ace/lib/oop\", \"ace/mode/text\", \"ace/mode/mysql_highlight_rules\"], function (acequire, exports, module) {\n\n    var oop = acequire(\"../lib/oop\");\n    var TextMode = acequire(\"../mode/text\").Mode;\n    var MysqlHighlightRules = acequire(\"./mysql_highlight_rules\").MysqlHighlightRules;\n\n    var Mode = function Mode() {\n        this.HighlightRules = MysqlHighlightRules;\n        this.$behaviour = this.$defaultBehaviour;\n    };\n    oop.inherits(Mode, TextMode);\n\n    (function () {\n        this.lineCommentStart = [\"--\", \"#\"]; // todo space\n        this.blockComment = { start: \"/*\", end: \"*/\" };\n\n        this.$id = \"ace/mode/mysql\";\n    }).call(Mode.prototype);\n\n    exports.Mode = Mode;\n});\n\n/***/ }),\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nace.define(\"ace/theme/xcode\", [\"require\", \"exports\", \"module\", \"ace/lib/dom\"], function (acequire, exports, module) {\n\n  exports.isDark = false;\n  exports.cssClass = \"ace-xcode\";\n  exports.cssText = \"\\\n.ace-xcode .ace_gutter {\\\nbackground: #e8e8e8;\\\ncolor: #333\\\n}\\\n.ace-xcode .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8\\\n}\\\n.ace-xcode {\\\nbackground-color: #FFFFFF;\\\ncolor: #000000\\\n}\\\n.ace-xcode .ace_cursor {\\\ncolor: #000000\\\n}\\\n.ace-xcode .ace_marker-layer .ace_selection {\\\nbackground: #B5D5FF\\\n}\\\n.ace-xcode.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px #FFFFFF;\\\n}\\\n.ace-xcode .ace_marker-layer .ace_step {\\\nbackground: rgb(198, 219, 174)\\\n}\\\n.ace-xcode .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid #BFBFBF\\\n}\\\n.ace-xcode .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.071)\\\n}\\\n.ace-xcode .ace_gutter-active-line {\\\nbackground-color: rgba(0, 0, 0, 0.071)\\\n}\\\n.ace-xcode .ace_marker-layer .ace_selected-word {\\\nborder: 1px solid #B5D5FF\\\n}\\\n.ace-xcode .ace_constant.ace_language,\\\n.ace-xcode .ace_keyword,\\\n.ace-xcode .ace_meta,\\\n.ace-xcode .ace_variable.ace_language {\\\ncolor: #C800A4\\\n}\\\n.ace-xcode .ace_invisible {\\\ncolor: #BFBFBF\\\n}\\\n.ace-xcode .ace_constant.ace_character,\\\n.ace-xcode .ace_constant.ace_other {\\\ncolor: #275A5E\\\n}\\\n.ace-xcode .ace_constant.ace_numeric {\\\ncolor: #3A00DC\\\n}\\\n.ace-xcode .ace_entity.ace_other.ace_attribute-name,\\\n.ace-xcode .ace_support.ace_constant,\\\n.ace-xcode .ace_support.ace_function {\\\ncolor: #450084\\\n}\\\n.ace-xcode .ace_fold {\\\nbackground-color: #C800A4;\\\nborder-color: #000000\\\n}\\\n.ace-xcode .ace_entity.ace_name.ace_tag,\\\n.ace-xcode .ace_support.ace_class,\\\n.ace-xcode .ace_support.ace_type {\\\ncolor: #790EAD\\\n}\\\n.ace-xcode .ace_storage {\\\ncolor: #C900A4\\\n}\\\n.ace-xcode .ace_string {\\\ncolor: #DF0002\\\n}\\\n.ace-xcode .ace_comment {\\\ncolor: #008E00\\\n}\\\n.ace-xcode .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y\\\n}\";\n\n  var dom = acequire(\"../lib/dom\");\n  dom.importCssString(exports.cssText, exports.cssClass);\n});\n\n/***/ }),\n\n/***/ 171:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(76)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"editor.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(171);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(77)(\"0851ebd2\", content, true, {});\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(174)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(155),\n  /* template */\n  __webpack_require__(176),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-495180ce\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"200px\"\n    }\n  })\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 313:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _axios = __webpack_require__(4);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _util = __webpack_require__(2);\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _editTable = __webpack_require__(686);\n\nvar _editTable2 = _interopRequireDefault(_editTable);\n\nvar _col = __webpack_require__(131);\n\nvar _col2 = _interopRequireDefault(_col);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//\nexports.default = {\n  components: {\n    ICol: _col2.default,\n    edittable: _editTable2.default,\n    editor: __webpack_require__(175)\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      dataset: [],\n      item: {},\n      basename: [],\n      sqlname: [],\n      TableDataNew: [],\n      tableform: {\n        sqlname: [],\n        basename: [],\n        info: []\n      },\n      columnsName: [{\n        title: 'ID',\n        key: 'ID',\n        width: 50\n      }, {\n        title: '',\n        key: 'stage',\n        width: 100\n      }, {\n        title: '',\n        key: 'errlevel',\n        width: 100\n      }, {\n        title: '',\n        key: 'stagestatus',\n        width: 150\n      }, {\n        title: '',\n        key: 'errormessage'\n      }, {\n        title: 'sql',\n        key: 'sql'\n      }, {\n        title: 'SQL',\n        key: 'affected_rows',\n        width: 130\n      }],\n      Testresults: [],\n      tabcolumns: [{\n        title: '',\n        key: 'Field'\n      }, {\n        title: '',\n        key: 'Type',\n        editable: true\n      }, {\n        title: '',\n        key: 'Null',\n        editable: true,\n        option: true\n      }, {\n        title: '',\n        key: 'Default',\n        editable: true\n      }, {\n        title: '',\n        key: 'Key'\n      }, {\n        title: '',\n        key: 'Extra'\n      }, {\n        title: '',\n        align: 'center',\n        width: 190,\n        key: 'handle',\n        handle: ['edit', 'delete']\n      }],\n      putdata: [],\n      Add_tmp: {\n        Field: '',\n        Type: '',\n        Null: null,\n        Default: null,\n        Extra: null,\n        Len: '',\n        Species: null\n      },\n      add_row: [],\n      username: sessionStorage.getItem('user'),\n      addcolums: [{\n        title: '',\n        key: 'Field'\n      }, {\n        title: '',\n        key: 'Type'\n      }, {\n        title: '',\n        key: 'Null'\n      }, {\n        title: '',\n        key: 'Default'\n      }, {\n        title: '',\n        key: 'Extra'\n      }, {\n        title: 'action',\n        width: 80,\n        render: function render(h, params) {\n          return h('Button', {\n            props: {\n              type: 'text'\n            },\n            on: {\n              click: function click() {\n                _this.$Notice.error({\n                  title: _this.add_row[params.index].Field + '-\\u4E34\\u65F6\\u5B57\\u6BB5\\u5220\\u9664\\u6210\\u529F!'\n                });\n                _this.add_row.splice(params.index, 1);\n              }\n            }\n          }, '');\n        }\n      }],\n      sql: [],\n      openswitch: false,\n      pass: false,\n      ruleValidate: {\n        computer_room: [{\n          required: true,\n          message: '',\n          trigger: 'change'\n        }],\n        connection_name: [{\n          required: true,\n          message: '',\n          trigger: 'change'\n        }],\n        basename: [{\n          required: true,\n          message: '',\n          trigger: 'change'\n        }],\n        tablename: [{\n          required: true,\n          message: '',\n          trigger: 'change'\n        }],\n        text: [{\n          required: true,\n          message: '',\n          trigger: 'change'\n        }, {\n          type: 'string',\n          max: 20,\n          message: '20',\n          trigger: 'blur'\n        }]\n      },\n      formItem: {\n        text: '',\n        computer_room: '',\n        connection_name: '',\n        basename: '',\n        tablename: '',\n        backup: '0',\n        assigned: '',\n        delay: 0\n      },\n      id: null,\n      tabs: 'order1',\n      optionData: ['varchar', 'int', 'char', 'tinytext', 'text', 'mediumtext', 'longtext', 'blob', 'mediumblob', 'longblob', 'tinyint', 'smallint', 'mediumint', 'bigint', 'time', 'year', 'date', 'datetime', 'timestamp', 'decimal', 'float', 'double', 'jason'],\n      assigned: [],\n      formDynamic: '',\n      validate_gen: true,\n      wordList: []\n    };\n  },\n\n  methods: {\n    setCompletions: function setCompletions(editor, session, pos, prefix, callback) {\n      callback(null, this.wordList.map(function (word) {\n        return {\n          caption: word.vl,\n          value: word.vl,\n          meta: word.meta\n        };\n      }));\n    },\n\n    editorInit: function editorInit() {\n      __webpack_require__(159);\n      __webpack_require__(160);\n    },\n    Connection_Name: function Connection_Name(index) {\n      if (index) {\n        this.ScreenConnection(index);\n      }\n    },\n    test_sql: function test_sql() {\n      var _this2 = this;\n\n      var ddl = ['select', 'insert', 'update', 'delete'];\n      var createtable = this.formDynamic.split(';');\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = createtable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var i = _step.value;\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = ddl[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var c = _step2.value;\n\n              i = i.replace(/(^\\s*)|(\\s*$)/g, '');\n              if (i.toLowerCase().indexOf(c) === 0) {\n                this.$Message.error('DDL!');\n                return false;\n              }\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      this.$refs['formItem'].validate(function (valid) {\n        if (valid) {\n          var tmp = _this2.formDynamic.replace(/(;|)$/gi, '').replace(//g, ';');\n          _axios2.default.put(_util2.default.url + '/sqlsyntax/test', {\n            'id': _this2.id[0].id,\n            'base': _this2.formItem.basename,\n            'sql': tmp\n          }).then(function (res) {\n            if (res.data.status === 200) {\n              _this2.Testresults = res.data.result;\n              var gen = 0;\n              _this2.Testresults.forEach(function (vl) {\n                if (vl.errlevel !== 0) {\n                  gen += 1;\n                }\n              });\n              if (gen === 0) {\n                _this2.validate_gen = false;\n              } else {\n                _this2.validate_gen = true;\n              }\n            } else {\n              _util2.default.err_notice('Inception!');\n            }\n          }).catch(function (error) {\n            _util2.default.err_notice(error);\n          });\n        } else {\n          _this2.$Message.error('sql!');\n        }\n      });\n    },\n    handleSubmit: function handleSubmit() {\n      var createtable = this.formDynamic.replace(/(;|)$/gi, '').replace(/\\s/g, ' ').replace(//g, ';').split(';');\n      this.validate_gen = true;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = createtable[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var i = _step3.value;\n\n          this.sql.push(i);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    },\n    DataBaseName: function DataBaseName(index) {\n      var _this3 = this;\n\n      if (index) {\n        this.id = this.item.filter(function (item) {\n          if (item.connection_name === index) {\n            return item;\n          }\n        });\n        _axios2.default.put(_util2.default.url + '/workorder/basename', {\n          'id': this.id[0].id\n        }).then(function (res) {\n          _this3.tableform.basename = res.data;\n        }).catch(function () {\n          _util2.default.err_notice('!');\n        });\n      }\n    },\n    ScreenConnection: function ScreenConnection(b) {\n      this.tableform.sqlname = this.item.filter(function (item) {\n        if (item.computer_room === b) {\n          return item;\n        }\n      });\n    },\n    GetTableName: function GetTableName() {\n      var _this4 = this;\n\n      if (this.formItem.basename) {\n        var data = JSON.stringify(this.formItem);\n        _axios2.default.put(_util2.default.url + '/workorder/tablename', {\n          'data': data,\n          'id': this.id[0].id\n        }).then(function (res) {\n          _this4.tableform.info = res.data;\n        }).catch(function (error) {\n          _util2.default.err_notice(error);\n        });\n      }\n    },\n    getdatabases: function getdatabases() {\n      var _this5 = this;\n\n      _axios2.default.put(_util2.default.url + '/workorder/connection', { 'permissions_type': 'ddl' }).then(function (res) {\n        _this5.item = res.data['connection'];\n        _this5.assigned = res.data['assigend'];\n        _this5.dataset = res.data['custom'];\n      }).catch(function (error) {\n        _util2.default.err_notice(error);\n      });\n    },\n    getinfo: function getinfo() {\n      var _this6 = this;\n\n      this.$refs['formItem'].validate(function (valid) {\n        if (valid) {\n          _this6.$Spin.show({\n            render: function render(h) {\n              return h('div', [h('Icon', {\n                'class': 'demo-spin-icon-load',\n                props: {\n                  type: 'load-c',\n                  size: 30\n                }\n              }), h('div', ',........')]);\n            }\n          });\n          _this6.formItem.table_name = _this6.formItem.tablename;\n          _axios2.default.put(_util2.default.url + '/workorder/field', {\n            'connection_info': JSON.stringify(_this6.formItem),\n            'id': _this6.id[0].id\n          }).then(function (res) {\n            _this6.TableDataNew = res.data;\n            _this6.$Spin.hide();\n          }).catch(function () {\n            _util2.default.err_notice('');\n          });\n          _this6.getindex();\n        } else {\n          _this6.$Message.error('!');\n        }\n      });\n    },\n    AddColumns: function AddColumns() {\n      if (this.Add_tmp.Field === '' || this.Add_tmp.Null === null || this.Add_tmp.Species === '') {\n        this.$Notice.warning({\n          title: ','\n        });\n      } else {\n        if (this.Add_tmp.Extra) {\n          this.Add_tmp.Extra = this.Add_tmp.Extra.replace(/\\s+/g, '');\n        }\n        if (this.Add_tmp.Len !== '') {\n          this.Add_tmp.Type = this.Add_tmp.Species + '(' + this.Add_tmp.Len + ')';\n        } else {\n          this.Add_tmp.Type = '' + this.Add_tmp.Species;\n        }\n        this.add_row.push(JSON.parse(JSON.stringify(this.Add_tmp)));\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = Object.keys(this.Add_tmp)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var c = _step4.value;\n\n            this.Add_tmp[c] = '';\n            this.Add_tmp.Default = null;\n            this.Add_tmp.Extra = null;\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      }\n    },\n    ClearColumns: function ClearColumns() {\n      this.Add_tmp = {};\n    },\n    remove: function remove(index) {\n      this.putdata.push({\n        'del': index,\n        'table_name': this.formItem.tablename\n      });\n    },\n    canel: function canel() {\n      this.sql = [];\n      this.pass = false;\n      this.getinfo();\n    },\n    confirmsql: function confirmsql() {\n      var _this7 = this;\n\n      if (this.Add_tmp.Field !== '') {\n        _util2.default.notice('!');\n      } else {\n        this.putdata.push({\n          'add': this.add_row,\n          'table_name': this.formItem.tablename\n        });\n        _axios2.default.put(_util2.default.url + '/gensql/sql', {\n          'data': JSON.stringify(this.putdata),\n          'basename': this.formItem.basename\n        }).then(function (res) {\n          var _iteratorNormalCompletion5 = true;\n          var _didIteratorError5 = false;\n          var _iteratorError5 = undefined;\n\n          try {\n            for (var _iterator5 = res.data[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n              var i = _step5.value;\n\n              _this7.sql.push(i);\n            }\n          } catch (err) {\n            _didIteratorError5 = true;\n            _iteratorError5 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                _iterator5.return();\n              }\n            } finally {\n              if (_didIteratorError5) {\n                throw _iteratorError5;\n              }\n            }\n          }\n\n          _this7.putdata = [];\n          _this7.add_row = [];\n        }).catch(function (error) {\n          _util2.default.err_notice(error);\n        });\n      }\n    },\n    orderswitch: function orderswitch() {\n      this.openswitch = !this.openswitch;\n    },\n    commitorder: function commitorder() {\n      var _this8 = this;\n\n      if (this.sql === [] || this.formItem.basename === '' || this.assigned === '' || this.formItem.text === '' || this.formItem.assigned === '') {\n        _util2.default.err_notice(',!');\n      } else {\n        if (this.pass === true) {\n          _axios2.default.post(_util2.default.url + '/sqlsyntax/', {\n            'data': JSON.stringify(this.formItem),\n            'sql': JSON.stringify(this.sql),\n            'user': sessionStorage.getItem('user'),\n            'type': 0,\n            'id': this.id[0].id\n          }).then(function (res) {\n            _util2.default.notice(res.data);\n            _this8.$router.push({\n              name: 'myorder'\n            });\n          }).catch(function (error) {\n            _util2.default.err_notice(error);\n          });\n        } else {\n          _util2.default.err_notice('');\n        }\n      }\n    },\n    cell_change: function cell_change(data) {\n      this.putdata.push({\n        'edit': data,\n        'table_name': this.formItem.tablename\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = _util2.default.highlight.split('|')[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var i = _step6.value;\n\n        this.wordList.push({ 'vl': i, 'meta': '' });\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6.return) {\n          _iterator6.return();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n\n    this.getdatabases();\n  }\n};\n\n/***/ }),\n\n/***/ 318:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar editButton = function editButton(vm, h, currentRow, index) {\n  return h('Button', {\n    props: {\n      type: currentRow.editting ? 'success' : 'primary',\n      loading: currentRow.saving\n    },\n    style: {\n      margin: '0 5px'\n    },\n    on: {\n      'click': function click() {\n        if (!currentRow.editting) {\n          if (currentRow.edittingCell) {\n            for (var name in currentRow.edittingCell) {\n              currentRow.edittingCell[name] = false;\n              vm.edittingStore[index].edittingCell[name] = false;\n            }\n          }\n          vm.edittingStore[index].editting = true;\n          vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore));\n        } else {\n          vm.edittingStore[index].saving = true;\n          vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore));\n          var edittingRow = vm.edittingStore[index];\n          edittingRow.editting = false;\n          edittingRow.saving = false;\n          var data = vm.thisTableData[index];\n          vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore));\n          vm.$emit('input', vm.handleBackdata(vm.thisTableData));\n          vm.$emit('on-change', data);\n        }\n      }\n    }\n  }, currentRow.editting ? '' : '');\n};\nvar deleteButton = function deleteButton(vm, h, currentRow, index) {\n  return h('Poptip', {\n    props: {\n      confirm: true,\n      title: '?',\n      transfer: true\n    },\n    on: {\n      'on-ok': function onOk() {\n        var data = vm.thisTableData[index];\n        vm.thisTableData.splice(index, 1);\n        vm.$emit('input', vm.handleBackdata(vm.thisTableData));\n        vm.$emit('on-delete', vm.handleBackdata(vm.thisTableData), index);\n        vm.$emit('index', data);\n      }\n    }\n  }, [h('Button', {\n    style: {\n      margin: '0 5px'\n    },\n    props: {\n      type: 'error',\n      placement: 'top'\n    }\n  }, '')]);\n};\nvar incellEditBtn = function incellEditBtn(vm, h, param) {\n  if (vm.hoverShow) {\n    return h('div', {\n      'class': {\n        'show-edit-btn': vm.hoverShow\n      }\n    }, [h('Button', {\n      props: {\n        type: 'text',\n        icon: 'edit'\n      },\n      on: {\n        click: function click(event) {\n          vm.edittingStore[param.index].edittingCell[param.column.key] = true;\n          vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore));\n        }\n      }\n    })]);\n  } else {\n    return h('Button', {\n      props: {\n        type: 'text',\n        icon: 'edit'\n      },\n      on: {\n        click: function click(event) {\n          vm.edittingStore[param.index].edittingCell[param.column.key] = true;\n          vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore));\n        }\n      }\n    });\n  }\n};\nvar saveIncellEditBtn = function saveIncellEditBtn(vm, h, param) {\n  return h('Button', {\n    props: {\n      type: 'text',\n      icon: 'checkmark'\n    },\n    on: {\n      click: function click(event) {\n        vm.edittingStore[param.index].edittingCell[param.column.key] = false;\n        vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore));\n        vm.$emit('input', vm.handleBackdata(vm.thisTableData));\n        vm.$emit('on-cell-change', vm.handleBackdata(vm.thisTableData), param.index, param.column.key);\n      }\n    }\n  });\n};\nvar cellInput = function cellInput(vm, h, param, item) {\n  return h('Input', {\n    props: {\n      type: 'text',\n      value: vm.edittingStore[param.index][item.key]\n    },\n    on: {\n      'on-change': function onChange(event) {\n        var key = item.key;\n        vm.edittingStore[param.index][key] = event.target.value;\n      }\n    }\n  });\n};\nexports.default = {\n  name: 'canEditTable',\n  props: {\n    refs: String,\n    columnsList: Array,\n    value: Array,\n    url: String,\n    editIncell: {\n      type: Boolean,\n      default: false\n    },\n    hoverShow: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      columns: [],\n      thisTableData: [],\n      edittingStore: []\n    };\n  },\n  created: function created() {\n    this.init();\n  },\n\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      var vm = this;\n      var editableCell = this.columnsList.filter(function (item) {\n        if (item.editable) {\n          if (item.editable === true) {\n            return item;\n          }\n        }\n      });\n      var cloneData = JSON.parse(JSON.stringify(this.value));\n      var res = [];\n      res = cloneData.map(function (item, index) {\n        var isEditting = false;\n        if (_this.thisTableData[index]) {\n          if (_this.thisTableData[index].editting) {\n            isEditting = true;\n          } else {\n            for (var cell in _this.thisTableData[index].edittingCell) {\n              if (_this.thisTableData[index].edittingCell[cell] === true) {\n                isEditting = true;\n              }\n            }\n          }\n        }\n        if (isEditting) {\n          return _this.thisTableData[index];\n        } else {\n          _this.$set(item, 'editting', false);\n          var edittingCell = {};\n          editableCell.forEach(function (item) {\n            edittingCell[item.key] = false;\n          });\n          _this.$set(item, 'edittingCell', edittingCell);\n          return item;\n        }\n      });\n      this.thisTableData = res;\n      this.edittingStore = JSON.parse(JSON.stringify(this.thisTableData));\n      this.columnsList.forEach(function (item) {\n        if (item.editable) {\n          item.render = function (h, param) {\n            var currentRow = _this.thisTableData[param.index];\n            if (!currentRow.editting) {\n              if (_this.editIncell) {\n                return h('Row', {\n                  props: {\n                    type: 'flex',\n                    align: 'middle',\n                    justify: 'center'\n                  }\n                }, [h('Col', {\n                  props: {\n                    span: '22'\n                  }\n                }, [!currentRow.edittingCell[param.column.key] ? h('span', currentRow[item.key]) : cellInput(_this, h, param, item)]), h('Col', {\n                  props: {\n                    span: '2'\n                  }\n                }, [currentRow.edittingCell[param.column.key] ? saveIncellEditBtn(_this, h, param) : incellEditBtn(_this, h, param)])]);\n              } else {\n                return h('span', currentRow[item.key]);\n              }\n            } else {\n              if (!item.option) {\n                return h('Input', {\n                  props: {\n                    type: 'text',\n                    value: currentRow[item.key]\n                  },\n                  on: {\n                    'on-change': function onChange(event) {\n                      var key = param.column.key;\n                      vm.edittingStore[param.index][key] = event.target.value;\n                    }\n                  }\n                });\n              } else {\n                return h('Select', {\n                  props: {\n                    type: 'text',\n                    value: currentRow[item.key]\n                  },\n                  on: {\n                    'on-change': function onChange(event) {\n                      var key = param.column.key;\n                      vm.edittingStore[param.index][key] = event;\n                    }\n                  }\n                }, [h('Option', {\n                  props: {\n                    key: 'YES',\n                    value: 'YES'\n                  }\n                }, 'YES'), h('Option', {\n                  props: {\n                    key: 'NO',\n                    value: 'NO'\n                  }\n                }, 'NO')]);\n              }\n            }\n          };\n        }\n        if (item.handle) {\n          item.render = function (h, param) {\n            var currentRowData = _this.thisTableData[param.index];\n            if (item.handle.length === 2) {\n              return h('div', [editButton(_this, h, currentRowData, param.index), deleteButton(_this, h, currentRowData, param.index)]);\n            } else if (item.handle.length === 1) {\n              if (item.handle[0] === 'edit') {\n                return h('div', [editButton(_this, h, currentRowData, param.index)]);\n              } else {\n                return h('div', [deleteButton(_this, h, currentRowData, param.index)]);\n              }\n            }\n          };\n        }\n      });\n    },\n    handleBackdata: function handleBackdata(data) {\n      var clonedData = JSON.parse(JSON.stringify(data));\n      clonedData.forEach(function (item) {\n        delete item.editting;\n        delete item.edittingCell;\n        delete item.saving;\n      });\n      return clonedData;\n    }\n  },\n  watch: {\n    value: function value(data) {\n      this.init();\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 625:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(76)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".margin-top-8{margin-top:8px}.margin-top-10{margin-top:10px}.margin-top-20{margin-top:20px}.margin-left-10{margin-left:10px}.margin-bottom-10{margin-bottom:10px}.margin-bottom-100{margin-bottom:100px}.margin-right-10{margin-right:10px}.padding-left-6{padding-left:6px}.padding-left-8{padding-left:5px}.padding-left-10{padding-left:10px}.padding-left-20{padding-left:20px}.height-100{height:100%}.height-120px{height:100px}.height-200px{height:200px}.height-492px{height:492px}.height-460px{height:460px}.line-gray{height:0;border-bottom:2px solid #dcdcdc}.notwrap{word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.padding-left-5{padding-left:10px}[v-cloak]{display:none}.dragging-tip-enter-active{opacity:1;transition:opacity .3s}.dragging-tip-enter,.dragging-tip-leave-to{opacity:0;transition:opacity .3s}.dragging-tip-con{display:block;text-align:center;width:100%;height:50px}.dragging-tip-con span{font-size:18px}.record-tip-con{display:block;width:100%;height:292px;overflow:auto}.record-item{box-sizing:content-box;display:block;overflow:hidden;height:24px;line-height:24px;padding:8px 10px;border-bottom:1px dashed #dcdcdc}.record-tip-con span{font-size:14px}.edittable-test-con{min-height:600px}.edittable-testauto-con{height:100%}.edittable-table-height-con{min-height:600px}.edittable-table-height1-con{height:200px}.edittable-con-1{box-sizing:content-box;padding:15px 0 0;height:550px}.exportable-table-download-con1{padding:16px 0 16px 20px;border-bottom:1px dashed #c3c3c3;margin-bottom:16px}.exportable-table-download-con2{padding-left:20px}.show-image{padding:20px 0}.show-image img{display:block;width:100%;height:auto}.demo-spin-icon-load{animation:ani-demo-spin 1s linear infinite}p{word-wrap:break-word;word-break:break-all;overflow:hidden}\", \"\", {\"version\":3,\"sources\":[\"/Users/vincent/Desktop/ypp_sql/webpage/src/components/Order/GenSQL.vue\"],\"names\":[],\"mappings\":\"AACA,cACE,cAAgB,CACjB,AACD,eACE,eAAiB,CAClB,AACD,eACE,eAAiB,CAClB,AACD,gBACE,gBAAkB,CACnB,AACD,kBACE,kBAAoB,CACrB,AACD,mBACE,mBAAqB,CACtB,AACD,iBACE,iBAAmB,CACpB,AACD,gBACE,gBAAkB,CACnB,AACD,gBACE,gBAAkB,CACnB,AACD,iBACE,iBAAmB,CACpB,AACD,iBACE,iBAAmB,CACpB,AACD,YACE,WAAa,CACd,AACD,cACE,YAAc,CACf,AACD,cACE,YAAc,CACf,AACD,cACE,YAAc,CACf,AACD,cACE,YAAc,CACf,AACD,WACE,SAAU,AACV,+BAAiC,CAClC,AACD,SACE,oBAAqB,AACrB,mBAAoB,AACpB,gBAAiB,AACjB,sBAAwB,CACzB,AACD,gBACE,iBAAmB,CACpB,AACD,UACE,YAAc,CACf,AACD,2BACE,UAAW,AACX,sBAAyB,CAC1B,AACD,2CAEE,UAAW,AACX,sBAAyB,CAC1B,AACD,kBACE,cAAe,AACf,kBAAmB,AACnB,WAAY,AACZ,WAAa,CACd,AACD,uBACE,cAAgB,CACjB,AACD,gBACE,cAAe,AACf,WAAY,AACZ,aAAc,AACd,aAAe,CAChB,AACD,aACE,uBAAwB,AACxB,cAAe,AACf,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,iBAAkB,AAClB,gCAAoC,CACrC,AACD,qBACE,cAAgB,CACjB,AACD,oBACE,gBAAkB,CACnB,AACD,wBACE,WAAa,CACd,AACD,4BACE,gBAAkB,CACnB,AACD,6BACE,YAAc,CACf,AACD,iBACE,uBAAwB,AACxB,iBAAkB,AAClB,YAAc,CACf,AACD,gCACE,yBAA0B,AAC1B,iCAAkC,AAClC,kBAAoB,CACrB,AACD,gCACE,iBAAmB,CACpB,AACD,YACE,cAAgB,CACjB,AACD,gBACE,cAAe,AACf,WAAY,AACZ,WAAa,CACd,AACD,qBACE,0CAA4C,CAC7C,AACD,EACE,qBAAsB,AACtB,qBAAsB,AACtB,eAAiB,CAClB\",\"file\":\"GenSQL.vue\",\"sourcesContent\":[\"\\n.margin-top-8 {\\n  margin-top: 8px;\\n}\\n.margin-top-10 {\\n  margin-top: 10px;\\n}\\n.margin-top-20 {\\n  margin-top: 20px;\\n}\\n.margin-left-10 {\\n  margin-left: 10px;\\n}\\n.margin-bottom-10 {\\n  margin-bottom: 10px;\\n}\\n.margin-bottom-100 {\\n  margin-bottom: 100px;\\n}\\n.margin-right-10 {\\n  margin-right: 10px;\\n}\\n.padding-left-6 {\\n  padding-left: 6px;\\n}\\n.padding-left-8 {\\n  padding-left: 5px;\\n}\\n.padding-left-10 {\\n  padding-left: 10px;\\n}\\n.padding-left-20 {\\n  padding-left: 20px;\\n}\\n.height-100 {\\n  height: 100%;\\n}\\n.height-120px {\\n  height: 100px;\\n}\\n.height-200px {\\n  height: 200px;\\n}\\n.height-492px {\\n  height: 492px;\\n}\\n.height-460px {\\n  height: 460px;\\n}\\n.line-gray {\\n  height: 0;\\n  border-bottom: 2px solid #dcdcdc;\\n}\\n.notwrap {\\n  word-break: keep-all;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.padding-left-5 {\\n  padding-left: 10px;\\n}\\n[v-cloak] {\\n  display: none;\\n}\\n.dragging-tip-enter-active {\\n  opacity: 1;\\n  transition: opacity 0.3s;\\n}\\n.dragging-tip-enter,\\n.dragging-tip-leave-to {\\n  opacity: 0;\\n  transition: opacity 0.3s;\\n}\\n.dragging-tip-con {\\n  display: block;\\n  text-align: center;\\n  width: 100%;\\n  height: 50px;\\n}\\n.dragging-tip-con span {\\n  font-size: 18px;\\n}\\n.record-tip-con {\\n  display: block;\\n  width: 100%;\\n  height: 292px;\\n  overflow: auto;\\n}\\n.record-item {\\n  box-sizing: content-box;\\n  display: block;\\n  overflow: hidden;\\n  height: 24px;\\n  line-height: 24px;\\n  padding: 8px 10px;\\n  border-bottom: 1px dashed gainsboro;\\n}\\n.record-tip-con span {\\n  font-size: 14px;\\n}\\n.edittable-test-con {\\n  min-height: 600px;\\n}\\n.edittable-testauto-con {\\n  height: 100%;\\n}\\n.edittable-table-height-con {\\n  min-height: 600px;\\n}\\n.edittable-table-height1-con {\\n  height: 200px;\\n}\\n.edittable-con-1 {\\n  box-sizing: content-box;\\n  padding: 15px 0 0;\\n  height: 550px;\\n}\\n.exportable-table-download-con1 {\\n  padding: 16px 0 16px 20px;\\n  border-bottom: 1px dashed #c3c3c3;\\n  margin-bottom: 16px;\\n}\\n.exportable-table-download-con2 {\\n  padding-left: 20px;\\n}\\n.show-image {\\n  padding: 20px 0;\\n}\\n.show-image img {\\n  display: block;\\n  width: 100%;\\n  height: auto;\\n}\\n.demo-spin-icon-load {\\n  animation: ani-demo-spin 1s linear infinite;\\n}\\np {\\n  word-wrap: break-word;\\n  word-break: break-all;\\n  overflow: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 644:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(76)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".show-edit-btn{display:none;margin-left:-10px}.ivu-table-cell:hover .show-edit-btn{display:inline-block}\", \"\", {\"version\":3,\"sources\":[\"/Users/vincent/Desktop/ypp_sql/webpage/src/components/Order/components/editTable.vue\"],\"names\":[],\"mappings\":\"AACA,eACE,aAAc,AACd,iBAAmB,CACpB,AACD,qCACE,oBAAsB,CACvB\",\"file\":\"editTable.vue\",\"sourcesContent\":[\"\\n.show-edit-btn {\\n  display: none;\\n  margin-left: -10px;\\n}\\n.ivu-table-cell:hover .show-edit-btn {\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 656:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(625);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(77)(\"22c50407\", content, true, {});\n\n/***/ }),\n\n/***/ 675:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(644);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(77)(\"0708ad80\", content, true, {});\n\n/***/ }),\n\n/***/ 686:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(675)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(318),\n  /* template */\n  __webpack_require__(717),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 695:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Row', [_c('Col', {\n    attrs: {\n      \"span\": \"6\"\n    }\n  }, [_c('Card', [_c('p', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-redo\"\n    }\n  }), _vm._v(\"\\n          \\n        \")], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"edittable-test-con\"\n  }, [_c('Form', {\n    ref: \"formItem\",\n    attrs: {\n      \"model\": _vm.formItem,\n      \"label-width\": 100,\n      \"rules\": _vm.ruleValidate\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"label\": \":\",\n      \"prop\": \"computer_room\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    on: {\n      \"on-change\": _vm.Connection_Name\n    },\n    model: {\n      value: (_vm.formItem.computer_room),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"computer_room\", $$v)\n      },\n      expression: \"formItem.computer_room\"\n    }\n  }, _vm._l((_vm.dataset), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \":\",\n      \"prop\": \"connection_name\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    on: {\n      \"on-change\": _vm.DataBaseName\n    },\n    model: {\n      value: (_vm.formItem.connection_name),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"connection_name\", $$v)\n      },\n      expression: \"formItem.connection_name\"\n    }\n  }, _vm._l((_vm.tableform.sqlname), function(i) {\n    return _c('Option', {\n      key: i.connection_name,\n      attrs: {\n        \"value\": i.connection_name,\n        \"filterable\": \"\"\n      }\n    }, [_vm._v(\"\\n                  \" + _vm._s(i.connection_name) + \"\\n                \")])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \":\",\n      \"prop\": \"basename\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\",\n      \"filterable\": \"\"\n    },\n    on: {\n      \"on-change\": _vm.GetTableName\n    },\n    model: {\n      value: (_vm.formItem.basename),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"basename\", $$v)\n      },\n      expression: \"formItem.basename\"\n    }\n  }, _vm._l((_vm.tableform.basename), function(item) {\n    return _c('Option', {\n      key: item,\n      attrs: {\n        \"value\": item\n      }\n    }, [_vm._v(_vm._s(item))])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\",\n      \"filterable\": \"\"\n    },\n    model: {\n      value: (_vm.formItem.tablename),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"tablename\", $$v)\n      },\n      expression: \"formItem.tablename\"\n    }\n  }, _vm._l((_vm.tableform.info), function(item) {\n    return _c('Option', {\n      key: item,\n      attrs: {\n        \"value\": item\n      }\n    }, [_vm._v(_vm._s(item))])\n  }))], 1), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"15%\"\n    },\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.canel()\n      }\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"3%\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getinfo()\n      }\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"3%\"\n    },\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.confirmsql()\n      }\n    }\n  }, [_vm._v(\"\")])], 1), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('Tabs', {\n    staticStyle: {\n      \"height\": \"300px\",\n      \"overflow-y\": \"scroll\"\n    },\n    attrs: {\n      \"value\": \"order1\"\n    }\n  }, [_c('TabPane', {\n    attrs: {\n      \"label\": \"DDL\",\n      \"name\": \"order1\"\n    }\n  }, _vm._l((_vm.sql), function(list) {\n    return _c('p', {\n      staticStyle: {\n        \"font-size\": \"12px\",\n        \"color\": \"#2b85e4\"\n      }\n    }, [_vm._v(\" \" + _vm._s(list)), _c('br'), _c('br')])\n  })), _vm._v(\" \"), _c('TabPane', {\n    attrs: {\n      \"label\": \"\",\n      \"name\": \"order2\"\n    }\n  }, [_c('Button', {\n    staticStyle: {\n      \"margin-left\": \"25%\",\n      \"margin-top\": \"20%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.orderswitch($event)\n      }\n    }\n  }, [_vm._v(\"\\n              \")])], 1)], 1)], 1)])], 1), _vm._v(\" \"), _c('Col', {\n    staticClass: \"padding-left-10\",\n    attrs: {\n      \"span\": \"18\"\n    }\n  }, [_c('Card', [_c('p', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"android-remove\"\n    }\n  }), _vm._v(\"\\n          \\n        \")], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"edittable-table-height-con\"\n  }, [_c('Tabs', {\n    attrs: {\n      \"value\": _vm.tabs\n    }\n  }, [_c('TabPane', {\n    attrs: {\n      \"label\": \"\",\n      \"name\": \"order1\",\n      \"icon\": \"edit\"\n    }\n  }, [_c('Form', [_c('FormItem', [_c('editor', {\n    on: {\n      \"init\": _vm.editorInit,\n      \"setCompletions\": _vm.setCompletions\n    },\n    model: {\n      value: (_vm.formDynamic),\n      callback: function($$v) {\n        _vm.formDynamic = $$v\n      },\n      expression: \"formDynamic\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', [_c('Table', {\n    attrs: {\n      \"columns\": _vm.columnsName,\n      \"data\": _vm.Testresults,\n      \"highlight-row\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', [_c('Button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.test_sql\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"3%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": this.validate_gen\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleSubmit(_vm.formDynamic)\n      }\n    }\n  }, [_vm._v(\"DDL\\n                  \")])], 1)], 1)], 1), _vm._v(\" \"), _c('TabPane', {\n    attrs: {\n      \"label\": \"\",\n      \"name\": \"order3\",\n      \"icon\": \"plus\"\n    }\n  }, [_c('Table', {\n    attrs: {\n      \"stripe\": \"\",\n      \"columns\": _vm.addcolums,\n      \"data\": _vm.add_row,\n      \"height\": \"385\",\n      \"border\": \"\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"5%\"\n    }\n  }, [_c('Input', {\n    staticStyle: {\n      \"width\": \"10%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Field),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Field\", $$v)\n      },\n      expression: \"Add_tmp.Field\"\n    }\n  }), _vm._v(\" \"), _c('Select', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"transfer\": \"\",\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Species),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Species\", $$v)\n      },\n      expression: \"Add_tmp.Species\"\n    }\n  }, _vm._l((_vm.optionData), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  })), _vm._v(\" \"), _c('Input', {\n    staticStyle: {\n      \"width\": \"10%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Len),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Len\", $$v)\n      },\n      expression: \"Add_tmp.Len\"\n    }\n  }), _vm._v(\" \"), _c('Select', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"placeholder\": \"\",\n      \"transfer\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Null),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Null\", $$v)\n      },\n      expression: \"Add_tmp.Null\"\n    }\n  }, [_c('Option', {\n    attrs: {\n      \"value\": \"YES\"\n    }\n  }, [_vm._v(\"YES\")]), _vm._v(\" \"), _c('Option', {\n    attrs: {\n      \"value\": \"NO\"\n    }\n  }, [_vm._v(\"NO\")])], 1), _vm._v(\" \"), _c('Input', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Default),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Default\", $$v)\n      },\n      expression: \"Add_tmp.Default\"\n    }\n  }), _vm._v(\" \"), _c('Input', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Extra),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Extra\", $$v)\n      },\n      expression: \"Add_tmp.Extra\"\n    }\n  }), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.ClearColumns($event)\n      }\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.AddColumns()\n      }\n    }\n  }, [_vm._v(\"\")])], 1)], 1), _vm._v(\" \"), _c('TabPane', {\n    attrs: {\n      \"label\": \"&\",\n      \"name\": \"order4\",\n      \"icon\": \"edit\"\n    }\n  }, [_c('edittable', {\n    attrs: {\n      \"refs\": \"table2\",\n      \"columns-list\": _vm.tabcolumns\n    },\n    on: {\n      \"index\": _vm.remove,\n      \"on-change\": _vm.cell_change\n    },\n    model: {\n      value: (_vm.TableDataNew),\n      callback: function($$v) {\n        _vm.TableDataNew = $$v\n      },\n      expression: \"TableDataNew\"\n    }\n  })], 1)], 1)], 1)])], 1)], 1), _vm._v(\" \"), _c('Modal', {\n    attrs: {\n      \"ok-text\": '',\n      \"width\": \"800\"\n    },\n    on: {\n      \"on-ok\": _vm.commitorder\n    },\n    model: {\n      value: (_vm.openswitch),\n      callback: function($$v) {\n        _vm.openswitch = $$v\n      },\n      expression: \"openswitch\"\n    }\n  }, [_c('Row', [_c('Card', [_c('div', {\n    staticClass: \"step-header-con\"\n  }, [_c('h3', [_vm._v(\"yupaopao SQL\")])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step-content\"\n  }), _vm._v(\" \"), _c('Form', {\n    staticClass: \"step-form\",\n    attrs: {\n      \"label-width\": 100\n    }\n  }, [_c('FormItem', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.username))])]), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.formItem.basename))])]), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.formItem.tablename))])]), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"SQL:\"\n    }\n  }, _vm._l((_vm.sql), function(i) {\n    return _c('p', [_vm._v(_vm._s(i))])\n  })), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\",\n      \"required\": \"\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"placeholder\": \"20\"\n    },\n    model: {\n      value: (_vm.formItem.text),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"text\", $$v)\n      },\n      expression: \"formItem.text\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\",\n      \"required\": \"\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"filterable\": \"\",\n      \"transfer\": \"\"\n    },\n    model: {\n      value: (_vm.formItem.assigned),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"assigned\", $$v)\n      },\n      expression: \"formItem.assigned\"\n    }\n  }, _vm._l((_vm.assigned), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  }))], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('InputNumber', {\n    attrs: {\n      \"formatter\": function (value) { return (value + \"\"); },\n      \"parser\": function (value) { return value.replace('', ''); },\n      \"min\": 0\n    },\n    model: {\n      value: (_vm.formItem.delay),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"delay\", $$v)\n      },\n      expression: \"formItem.delay\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('RadioGroup', {\n    model: {\n      value: (_vm.formItem.backup),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"backup\", $$v)\n      },\n      expression: \"formItem.backup\"\n    }\n  }, [_c('Radio', {\n    attrs: {\n      \"label\": \"1\"\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Radio', {\n    attrs: {\n      \"label\": \"0\"\n    }\n  }, [_vm._v(\"\")])], 1)], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\",\n      \"required\": \"\"\n    }\n  }, [_c('Checkbox', {\n    model: {\n      value: (_vm.pass),\n      callback: function($$v) {\n        _vm.pass = $$v\n      },\n      expression: \"pass\"\n    }\n  }, [_vm._v(\"\")])], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 717:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Table', {\n    ref: _vm.refs,\n    attrs: {\n      \"columns\": _vm.columnsList,\n      \"data\": _vm.thisTableData,\n      \"border\": \"\",\n      \"disabled-hover\": \"\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(656)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(313),\n  /* template */\n  __webpack_require__(695),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.230a97691f32280961ba.js","import Vue from 'vue';\nconst isServer = Vue.prototype.$isServer;\n// \nexport function oneOf (value, validList) {\n    for (let i = 0; i < validList.length; i++) {\n        if (value === validList[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nexport function camelcaseToHyphen (str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\n// For Modal scrollBar hidden\nlet cached;\nexport function getScrollBarSize (fresh) {\n    if (isServer) return 0;\n    if (fresh || cached === undefined) {\n        const inner = document.createElement('div');\n        inner.style.width = '100%';\n        inner.style.height = '200px';\n\n        const outer = document.createElement('div');\n        const outerStyle = outer.style;\n\n        outerStyle.position = 'absolute';\n        outerStyle.top = 0;\n        outerStyle.left = 0;\n        outerStyle.pointerEvents = 'none';\n        outerStyle.visibility = 'hidden';\n        outerStyle.width = '200px';\n        outerStyle.height = '150px';\n        outerStyle.overflow = 'hidden';\n\n        outer.appendChild(inner);\n\n        document.body.appendChild(outer);\n\n        const widthContained = inner.offsetWidth;\n        outer.style.overflow = 'scroll';\n        let widthScroll = inner.offsetWidth;\n\n        if (widthContained === widthScroll) {\n            widthScroll = outer.clientWidth;\n        }\n\n        document.body.removeChild(outer);\n\n        cached = widthContained - widthScroll;\n    }\n    return cached;\n}\n\n// watch DOM change\nexport const MutationObserver = isServer ? false : window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver || false;\n\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g;\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/;\n\nfunction camelCase(name) {\n    return name.replace(SPECIAL_CHARS_REGEXP, function(_, separator, letter, offset) {\n        return offset ? letter.toUpperCase() : letter;\n    }).replace(MOZ_HACK_REGEXP, 'Moz$1');\n}\n// getStyle\nexport function getStyle (element, styleName) {\n    if (!element || !styleName) return null;\n    styleName = camelCase(styleName);\n    if (styleName === 'float') {\n        styleName = 'cssFloat';\n    }\n    try {\n        const computed = document.defaultView.getComputedStyle(element, '');\n        return element.style[styleName] || computed ? computed[styleName] : null;\n    } catch(e) {\n        return element.style[styleName];\n    }\n}\n\n// firstUpperCase\nfunction firstUpperCase(str) {\n    return str.toString()[0].toUpperCase() + str.toString().slice(1);\n}\nexport {firstUpperCase};\n\n// Warn\nexport function warnProp(component, prop, correctType, wrongType) {\n    correctType = firstUpperCase(correctType);\n    wrongType = firstUpperCase(wrongType);\n    console.error(`[iView warn]: Invalid prop: type check failed for prop ${prop}. Expected ${correctType}, got ${wrongType}. (found in component: ${component})`);    // eslint-disable-line\n}\n\nfunction typeOf(obj) {\n    const toString = Object.prototype.toString;\n    const map = {\n        '[object Boolean]'  : 'boolean',\n        '[object Number]'   : 'number',\n        '[object String]'   : 'string',\n        '[object Function]' : 'function',\n        '[object Array]'    : 'array',\n        '[object Date]'     : 'date',\n        '[object RegExp]'   : 'regExp',\n        '[object Undefined]': 'undefined',\n        '[object Null]'     : 'null',\n        '[object Object]'   : 'object'\n    };\n    return map[toString.call(obj)];\n}\n\n// deepCopy\nfunction deepCopy(data) {\n    const t = typeOf(data);\n    let o;\n\n    if (t === 'array') {\n        o = [];\n    } else if ( t === 'object') {\n        o = {};\n    } else {\n        return data;\n    }\n\n    if (t === 'array') {\n        for (let i = 0; i < data.length; i++) {\n            o.push(deepCopy(data[i]));\n        }\n    } else if ( t === 'object') {\n        for (let i in data) {\n            o[i] = deepCopy(data[i]);\n        }\n    }\n    return o;\n}\n\nexport {deepCopy};\n\n// scrollTop animation\nexport function scrollTop(el, from = 0, to, duration = 500) {\n    if (!window.requestAnimationFrame) {\n        window.requestAnimationFrame = (\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.msRequestAnimationFrame ||\n            function (callback) {\n                return window.setTimeout(callback, 1000/60);\n            }\n        );\n    }\n    const difference = Math.abs(from - to);\n    const step = Math.ceil(difference / duration * 50);\n\n    function scroll(start, end, step) {\n        if (start === end) return;\n\n        let d = (start + step > end) ? end : start + step;\n        if (start > end) {\n            d = (start - step < end) ? end : start - step;\n        }\n\n        if (el === window) {\n            window.scrollTo(d, d);\n        } else {\n            el.scrollTop = d;\n        }\n        window.requestAnimationFrame(() => scroll(d, end, step));\n    }\n    scroll(from, to, step);\n}\n\n// Find components upward\nfunction findComponentUpward (context, componentName, componentNames) {\n    if (typeof componentName === 'string') {\n        componentNames = [componentName];\n    } else {\n        componentNames = componentName;\n    }\n\n    let parent = context.$parent;\n    let name = parent.$options.name;\n    while (parent && (!name || componentNames.indexOf(name) < 0)) {\n        parent = parent.$parent;\n        if (parent) name = parent.$options.name;\n    }\n    return parent;\n}\nexport {findComponentUpward};\n\n// Find component downward\nexport function findComponentDownward (context, componentName) {\n    const childrens = context.$children;\n    let children = null;\n\n    if (childrens.length) {\n        for (const child of childrens) {\n            const name = child.$options.name;\n            if (name === componentName) {\n                children = child;\n                break;\n            } else {\n                children = findComponentDownward(child, componentName);\n                if (children) break;\n            }\n        }\n    }\n    return children;\n}\n\n// Find components downward\nexport function findComponentsDownward (context, componentName) {\n    return context.$children.reduce((components, child) => {\n        if (child.$options.name === componentName) components.push(child);\n        const foundChilds = findComponentsDownward(child, componentName);\n        return components.concat(foundChilds);\n    }, []);\n}\n\n// Find components upward\nexport function findComponentsUpward (context, componentName) {\n    let parents = [];\n    const parent = context.$parent;\n    if (parent) {\n        if (parent.$options.name === componentName) parents.push(parent);\n        return parents.concat(findComponentsUpward(parent, componentName));\n    } else {\n        return [];\n    }\n}\n\n// Find brothers components\nexport function findBrothersComponents (context, componentName, exceptMe = true) {\n    let res = context.$parent.$children.filter(item => {\n        return item.$options.name === componentName;\n    });\n    let index = res.findIndex(item => item._uid === context._uid);\n    if (exceptMe) res.splice(index, 1);\n    return res;\n}\n\n/* istanbul ignore next */\nconst trim = function(string) {\n    return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '');\n};\n\n/* istanbul ignore next */\nexport function hasClass(el, cls) {\n    if (!el || !cls) return false;\n    if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.');\n    if (el.classList) {\n        return el.classList.contains(cls);\n    } else {\n        return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1;\n    }\n}\n\n/* istanbul ignore next */\nexport function addClass(el, cls) {\n    if (!el) return;\n    let curClass = el.className;\n    const classes = (cls || '').split(' ');\n\n    for (let i = 0, j = classes.length; i < j; i++) {\n        const clsName = classes[i];\n        if (!clsName) continue;\n\n        if (el.classList) {\n            el.classList.add(clsName);\n        } else {\n            if (!hasClass(el, clsName)) {\n                curClass += ' ' + clsName;\n            }\n        }\n    }\n    if (!el.classList) {\n        el.className = curClass;\n    }\n}\n\n/* istanbul ignore next */\nexport function removeClass(el, cls) {\n    if (!el || !cls) return;\n    const classes = cls.split(' ');\n    let curClass = ' ' + el.className + ' ';\n\n    for (let i = 0, j = classes.length; i < j; i++) {\n        const clsName = classes[i];\n        if (!clsName) continue;\n\n        if (el.classList) {\n            el.classList.remove(clsName);\n        } else {\n            if (hasClass(el, clsName)) {\n                curClass = curClass.replace(' ' + clsName + ' ', ' ');\n            }\n        }\n    }\n    if (!el.classList) {\n        el.className = trim(curClass);\n    }\n}\n\nexport const dimensionMap = {\n    xs: '480px',\n    sm: '768px',\n    md: '992px',\n    lg: '1200px',\n    xl: '1600px',\n};\n\nexport function setMatchMedia () {\n    if (typeof window !== 'undefined') {\n        const matchMediaPolyfill = mediaQuery => {\n            return {\n                media: mediaQuery,\n                matches: false,\n                on() {},\n                off() {},\n            };\n        };\n        window.matchMedia = window.matchMedia || matchMediaPolyfill;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/iview/src/utils/assist.js","<template>\n    <div :class=\"classes\" :style=\"styles\">\n        <slot></slot>\n    </div>\n</template>\n<script>\n    import { findComponentUpward } from '../../utils/assist';\n    const prefixCls = 'ivu-col';\n\n    export default {\n        name: 'iCol',\n        props: {\n            span: [Number, String],\n            order: [Number, String],\n            offset: [Number, String],\n            push: [Number, String],\n            pull: [Number, String],\n            className: String,\n            xs: [Number, Object],\n            sm: [Number, Object],\n            md: [Number, Object],\n            lg: [Number, Object]\n        },\n        data () {\n            return {\n                gutter: 0\n            };\n        },\n        computed: {\n            classes () {\n                let classList = [\n                    `${prefixCls}`,\n                    {\n                        [`${prefixCls}-span-${this.span}`]: this.span,\n                        [`${prefixCls}-order-${this.order}`]: this.order,\n                        [`${prefixCls}-offset-${this.offset}`]: this.offset,\n                        [`${prefixCls}-push-${this.push}`]: this.push,\n                        [`${prefixCls}-pull-${this.pull}`]: this.pull,\n                        [`${this.className}`]: !!this.className\n                    }\n                ];\n\n                ['xs', 'sm', 'md', 'lg'].forEach(size => {\n                    if (typeof this[size] === 'number') {\n                        classList.push(`${prefixCls}-span-${size}-${this[size]}`);\n                    } else if (typeof this[size] === 'object') {\n                        let props = this[size];\n                        Object.keys(props).forEach(prop => {\n                            classList.push(\n                                prop !== 'span'\n                                    ? `${prefixCls}-${size}-${prop}-${props[prop]}`\n                                    : `${prefixCls}-span-${size}-${props[prop]}`\n                            );\n                        });\n                    }\n                });\n\n                return classList;\n            },\n            styles () {\n                let style = {};\n                if (this.gutter !== 0) {\n                    style = {\n                        paddingLeft: this.gutter / 2 + 'px',\n                        paddingRight: this.gutter / 2 + 'px'\n                    };\n                }\n\n                return style;\n            }\n        },\n        methods: {\n            updateGutter () {\n                const Row = findComponentUpward(this, 'Row');\n                if (Row) {\n                    Row.updateGutter(Row.gutter);\n                }\n            }\n        },\n        mounted () {\n            this.updateGutter();\n        },\n        beforeDestroy () {\n            this.updateGutter();\n        }\n    };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// col.vue?c5284b1a","var Component = require(\"!../../../../vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../vue-loader/lib/selector?type=script&index=0!./col.vue\"),\n  /* template */\n  require(\"!!../../../../vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a916bce\\\",\\\"hasScoped\\\":false}!../../../../vue-loader/lib/selector?type=template&index=0!./col.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/iview/src/components/grid/col.vue\n// module id = 131\n// module chunks = 1 2 3 4 6 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.classes,\n    style: (_vm.styles)\n  }, [_vm._t(\"default\")], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a916bce\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./~/iview/src/components/grid/col.vue\n// module id = 132\n// module chunks = 1 2 3 4 6 7","module.exports = function() {\r\n\tthrow new Error(\"define cannot be used indirect\");\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-define.js\n// module id = 143\n// module chunks = 1 2 3","<template>\n  <div style=\"width: 100%;height: 200px\"></div>\n</template>\n\n<script>\n  require(['emmet/emmet'], function (data) {\n    window.emmet = data.emmet\n  })\n  const ace = require('brace')\n  export default {\n    name: 'editor',\n    props: {\n      value: {\n        type: String,\n        required: true\n      }\n    },\n    data () {\n      return {\n        editor: null,\n        contentBackup: ''\n      }\n    },\n    watch: {\n      value (val) {\n        if (this.contentBackup !== val) {\n          this.editor.setValue(val, 1)\n        }\n      },\n      theme: function (newTheme) {\n        this.editor.setTheme('ace/theme/' + newTheme)\n      },\n      lang: function (newLang) {\n        this.editor.getSession().setMode('ace/mode/' + newLang)\n      }\n    },\n    mounted () {\n      let vm = this\n      require('brace/ext/emmet')\n      require('brace/ext/language_tools')\n      let editor = vm.editor = ace.edit(this.$el)\n      this.$emit('init', editor)\n      let staticWordCompleter = {\n        getCompletions: function (editor, session, pos, prefix, callback) {\n          vm.$emit('setCompletions', editor, session, pos, prefix, callback)\n        }\n      }\n      editor.completers = [staticWordCompleter]\n      editor.setOptions({\n        enableBasicAutocompletion: true,\n        enableLiveAutocompletion: true\n      })\n      editor.$blockScrolling = Infinity\n      editor.setFontSize(14)\n      editor.setOption('enableEmmet', true)\n      editor.getSession().setMode('ace/mode/mysql')\n      editor.setTheme('ace/theme/xcode')\n      editor.setValue(this.value, 1)\n      editor.on('change', function () {\n        let content = editor.getValue()\n        vm.$emit('input', content)\n        vm.contentBackup = content\n      })\n    }\n  }\n</script>\n\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// editor.vue?22e0ad72","ace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/anchor\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/lib/dom\",\"ace/editor\"], function(acequire, exports, module) {\n\"use strict\";\nvar oop = acequire(\"./lib/oop\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar lang = acequire(\"./lib/lang\");\nvar Range = acequire(\"./range\").Range;\nvar Anchor = acequire(\"./anchor\").Anchor;\nvar HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = acequire(\"./tokenizer\").Tokenizer;\nvar comparePoints = Range.comparePoints;\n\nvar SnippetManager = function() {\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    \n    this.getTokenizer = function() {\n        function TabstopToken(str, _, stack) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str) && !stack.inFormatString)\n                return [{tabstopId: parseInt(str, 10)}];\n            return [{text: str}];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        SnippetManager.$tokenizer = new Tokenizer({\n            start: [\n                {regex: /:/, onMatch: function(val, state, stack) {\n                    if (stack.length && stack[0].expectIf) {\n                        stack[0].expectIf = false;\n                        stack[0].elseBranch = stack[0];\n                        return [stack[0]];\n                    }\n                    return \":\";\n                }},\n                {regex: /\\\\./, onMatch: function(val, state, stack) {\n                    var ch = val[1];\n                    if (ch == \"}\" && stack.length) {\n                        val = ch;\n                    }else if (\"`$\\\\\".indexOf(ch) != -1) {\n                        val = ch;\n                    } else if (stack.inFormatString) {\n                        if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\n\";\n                        else if (\"ulULE\".indexOf(ch) != -1) {\n                            val = {changeCase: ch, local: ch > \"a\"};\n                        }\n                    }\n\n                    return [val];\n                }},\n                {regex: /}/, onMatch: function(val, state, stack) {\n                    return [stack.length ? stack.shift() : val];\n                }},\n                {regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken},\n                {regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function(str, state, stack) {\n                    var t = TabstopToken(str.substr(1), state, stack);\n                    stack.unshift(t[0]);\n                    return t;\n                }, next: \"snippetVar\"},\n                {regex: /\\n/, token: \"newline\", merge: false}\n            ],\n            snippetVar: [\n                {regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function(val, state, stack) {\n                    stack[0].choices = val.slice(1, -1).split(\",\");\n                }, next: \"start\"},\n                {regex: \"/(\" + escape(\"/\") + \"+)/(?:(\" + escape(\"/\") + \"*)/)(\\\\w*):?\",\n                 onMatch: function(val, state, stack) {\n                    var ts = stack[0];\n                    ts.fmtString = val;\n\n                    val = this.splitRegex.exec(val);\n                    ts.guard = val[1];\n                    ts.fmt = val[2];\n                    ts.flag = val[3];\n                    return \"\";\n                }, next: \"start\"},\n                {regex: \"`\" + escape(\"`\") + \"*`\", onMatch: function(val, state, stack) {\n                    stack[0].code = val.splice(1, -1);\n                    return \"\";\n                }, next: \"start\"},\n                {regex: \"\\\\?\", onMatch: function(val, state, stack) {\n                    if (stack[0])\n                        stack[0].expectIf = true;\n                }, next: \"start\"},\n                {regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\"}\n            ],\n            formatString: [\n                {regex: \"/(\" + escape(\"/\") + \"+)/\", token: \"regex\"},\n                {regex: \"\", onMatch: function(val, state, stack) {\n                    stack.inFormatString = true;\n                }, next: \"start\"}\n            ]\n        });\n        SnippetManager.prototype.getTokenizer = function() {\n            return SnippetManager.$tokenizer;\n        };\n        return SnippetManager.$tokenizer;\n    };\n\n    this.tokenizeTmSnippet = function(str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function(x) {\n            return x.value || x;\n        });\n    };\n\n    this.$getDefaultValue = function(editor, name) {\n        if (/^[A-Z]\\d+$/.test(name)) {\n            var i = name.substr(1);\n            return (this.variables[name[0] + \"__\"] || {})[i];\n        }\n        if (/^\\d+$/.test(name)) {\n            return (this.variables.__ || {})[name];\n        }\n        name = name.replace(/^TM_/, \"\");\n\n        if (!editor)\n            return;\n        var s = editor.session;\n        switch(name) {\n            case \"CURRENT_WORD\":\n                var r = s.getWordRange();\n            case \"SELECTION\":\n            case \"SELECTED_TEXT\":\n                return s.getTextRange(r);\n            case \"CURRENT_LINE\":\n                return s.getLine(editor.getCursorPosition().row);\n            case \"PREV_LINE\": // not possible in textmate\n                return s.getLine(editor.getCursorPosition().row - 1);\n            case \"LINE_INDEX\":\n                return editor.getCursorPosition().column;\n            case \"LINE_NUMBER\":\n                return editor.getCursorPosition().row + 1;\n            case \"SOFT_TABS\":\n                return s.getUseSoftTabs() ? \"YES\" : \"NO\";\n            case \"TAB_SIZE\":\n                return s.getTabSize();\n            case \"FILENAME\":\n            case \"FILEPATH\":\n                return \"\";\n            case \"FULLNAME\":\n                return \"Ace\";\n        }\n    };\n    this.variables = {};\n    this.getVariableValue = function(editor, varName) {\n        if (this.variables.hasOwnProperty(varName))\n            return this.variables[varName](editor, varName) || \"\";\n        return this.$getDefaultValue(editor, varName) || \"\";\n    };\n    this.tmStrFormat = function(str, ch, editor) {\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gi]/, \"\"));\n        var fmtTokens = this.tokenizeTmSnippet(ch.fmt, \"formatString\");\n        var _self = this;\n        var formatted = str.replace(re, function() {\n            _self.variables.__ = arguments;\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i  = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    } else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                } else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                } else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            return fmtParts.join(\"\");\n        });\n        this.variables.__ = null;\n        return formatted;\n    };\n\n    this.resolveVariables = function(snippet, editor) {\n        var result = [];\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n            } else if (typeof ch != \"object\") {\n                continue;\n            } else if (ch.skip) {\n                gotoNext(ch);\n            } else if (ch.processed < i) {\n                continue;\n            } else if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text);\n                if (value && ch.fmtString)\n                    value = this.tmStrFormat(value, ch);\n                ch.processed = i;\n                if (ch.expectIf == null) {\n                    if (value) {\n                        result.push(value);\n                        gotoNext(ch);\n                    }\n                } else {\n                    if (value) {\n                        ch.skip = ch.elseBranch;\n                    } else\n                        gotoNext(ch);\n                }\n            } else if (ch.tabstopId != null) {\n                result.push(ch);\n            } else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n\n    this.insertSnippetForSelection = function(editor, snippetText) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var tabString = editor.session.getTabString();\n        var indentString = line.match(/^\\s*/)[0];\n        \n        if (cursor.column < indentString.length)\n            indentString = indentString.slice(0, cursor.column);\n\n        snippetText = snippetText.replace(/\\r/g, \"\");\n        var tokens = this.tokenizeTmSnippet(snippetText);\n        tokens = this.resolveVariables(tokens, editor);\n        tokens = tokens.map(function(x) {\n            if (x == \"\\n\")\n                return x + indentString;\n            if (typeof x == \"string\")\n                return x.replace(/\\t/g, tabString);\n            return x;\n        });\n        var tabstops = [];\n        tokens.forEach(function(p, i) {\n            if (typeof p != \"object\")\n                return;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            if (!ts) {\n                ts = tabstops[id] = [];\n                ts.index = id;\n                ts.value = \"\";\n            }\n            if (ts.indexOf(p) !== -1)\n                return;\n            ts.push(p);\n            var i1 = tokens.indexOf(p, i + 1);\n            if (i1 === -1)\n                return;\n\n            var value = tokens.slice(i + 1, i1);\n            var isNested = value.some(function(t) {return typeof t === \"object\";});\n            if (isNested && !ts.value) {\n                ts.value = value;\n            } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                ts.value = value.join(\"\");\n            }\n        });\n        tabstops.forEach(function(ts) {ts.length = 0;});\n        var expanding = {};\n        function copyValue(val) {\n            var copy = [];\n            for (var i = 0; i < val.length; i++) {\n                var p = val[i];\n                if (typeof p == \"object\") {\n                    if (expanding[p.tabstopId])\n                        continue;\n                    var j = val.lastIndexOf(p, i - 1);\n                    p = copy[j] || {tabstopId: p.tabstopId};\n                }\n                copy[i] = p;\n            }\n            return copy;\n        }\n        for (var i = 0; i < tokens.length; i++) {\n            var p = tokens[i];\n            if (typeof p != \"object\")\n                continue;\n            var id = p.tabstopId;\n            var i1 = tokens.indexOf(p, i + 1);\n            if (expanding[id]) {\n                if (expanding[id] === p)\n                    expanding[id] = null;\n                continue;\n            }\n            \n            var ts = tabstops[id];\n            var arg = typeof ts.value == \"string\" ? [ts.value] : copyValue(ts.value);\n            arg.unshift(i + 1, Math.max(0, i1 - i));\n            arg.push(p);\n            expanding[id] = p;\n            tokens.splice.apply(tokens, arg);\n\n            if (ts.indexOf(p) === -1)\n                ts.push(p);\n        }\n        var row = 0, column = 0;\n        var text = \"\";\n        tokens.forEach(function(t) {\n            if (typeof t === \"string\") {\n                var lines = t.split(\"\\n\");\n                if (lines.length > 1){\n                    column = lines[lines.length - 1].length;\n                    row += lines.length - 1;\n                } else\n                    column += t.length;\n                text += t;\n            } else {\n                if (!t.start)\n                    t.start = {row: row, column: column};\n                else\n                    t.end = {row: row, column: column};\n            }\n        });\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, text);\n\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n    };\n    \n    this.insertSnippet = function(editor, snippetText) {\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText);\n        \n        editor.forEachSelection(function() {\n            self.insertSnippetForSelection(editor, snippetText);\n        }, null, {keepOrder: true});\n        \n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n\n    this.$getScope = function(editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp) \n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        \n        return scope;\n    };\n\n    this.getActiveScopes = function(editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n\n    this.expandWithTab = function(editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function() {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, {keepOrder: true});\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    \n    this.expandSnippetForSelection = function(editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row,\n            cursor.column - snippet.replaceBefore.length,\n            cursor.column + snippet.replaceAfter.length\n        );\n\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n\n    this.findMatchingSnippet = function(snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n    this.register = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        \n        if (!snippets) \n            snippets = [];\n        \n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            } else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            \n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            \n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger, \"\", true);\n\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger, \"\", true);\n        }\n\n        if (snippets && snippets.content)\n            addSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(addSnippet);\n        \n        this._signal(\"registerSnippets\", {scope: scope});\n    };\n    this.unregister = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope||scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope||scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    this.parseSnippetFile = function(str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                } catch (e) {}\n            } if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            } else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                } else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                } else {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    this.getSnippetByName = function(name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n\n}).call(SnippetManager.prototype);\n\n\nvar TabstopManager = function(editor) {\n    if (editor.tabstopManager)\n        return editor.tabstopManager;\n    editor.tabstopManager = this;\n    this.$onChange = this.onChange.bind(this);\n    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n    this.$onChangeSession = this.onChangeSession.bind(this);\n    this.$onAfterExec = this.onAfterExec.bind(this);\n    this.attach(editor);\n};\n(function() {\n    this.attach = function(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n\n        this.editor = editor;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.detach = function() {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges = null;\n        this.tabstops = null;\n        this.selectedTabstop = null;\n        this.editor.removeListener(\"change\", this.$onChange);\n        this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n        this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.editor = null;\n    };\n\n    this.onChange = function(delta) {\n        var changeRange = delta;\n        var isRemove = delta.action[0] == \"r\";\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var lineDif = endRow - startRow;\n        var colDiff = end.column - start.column;\n\n        if (isRemove) {\n            lineDif = -lineDif;\n            colDiff = -colDiff;\n        }\n        if (!this.$inChange && isRemove) {\n            var ts = this.selectedTabstop;\n            var changedOutside = ts && !ts.some(function(r) {\n                return comparePoints(r.start, start) <= 0 && comparePoints(r.end, end) >= 0;\n            });\n            if (changedOutside)\n                return this.detach();\n        }\n        var ranges = this.ranges;\n        for (var i = 0; i < ranges.length; i++) {\n            var r = ranges[i];\n            if (r.end.row < start.row)\n                continue;\n\n            if (isRemove && comparePoints(start, r.start) < 0 && comparePoints(end, r.end) > 0) {\n                this.removeRange(r);\n                i--;\n                continue;\n            }\n\n            if (r.start.row == startRow && r.start.column > start.column)\n                r.start.column += colDiff;\n            if (r.end.row == startRow && r.end.column >= start.column)\n                r.end.column += colDiff;\n            if (r.start.row >= startRow)\n                r.start.row += lineDif;\n            if (r.end.row >= startRow)\n                r.end.row += lineDif;\n\n            if (comparePoints(r.start, r.end) > 0)\n                this.removeRange(r);\n        }\n        if (!ranges.length)\n            this.detach();\n    };\n    this.updateLinkedFields = function() {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges)\n            return;\n        this.$inChange = true;\n        var session = this.editor.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = ts.length; i--;) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var fmt = exports.snippetManager.tmStrFormat(text, range.original);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    this.onAfterExec = function(e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    this.onChangeSelection = function() {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = this.ranges.length; i--;) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    this.onChangeSession = function() {\n        this.detach();\n    };\n    this.tabNext = function(dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        if (index === 0)\n            this.detach();\n    };\n    this.selectTabstop = function(index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        \n        this.selectedTabstop = ts;\n        if (!this.editor.inVirtualSelectionMode) {        \n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(ts.firstNonLinked.clone());\n            for (var i = ts.length; i--;) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n            if (sel.ranges[0])\n                sel.addRange(sel.ranges[0].clone());\n        } else {\n            this.editor.selection.setRange(ts.firstNonLinked);\n        }\n        \n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.addTabstops = function(tabstops, start, end) {\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        tabstops.forEach(function(ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n                \n            for (var i = ts.length; i--;) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                } else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n        }, this);\n        \n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n\n    this.addTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            if  (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    this.removeTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    this.removeRange = function(range) {\n        var i = range.tabstop.indexOf(range);\n        range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        this.ranges.splice(i, 1);\n        this.editor.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys({\n        \"Tab\": function(ed) {\n            if (exports.snippetManager && exports.snippetManager.expandWithTab(ed)) {\n                return;\n            }\n\n            ed.tabstopManager.tabNext(1);\n        },\n        \"Shift-Tab\": function(ed) {\n            ed.tabstopManager.tabNext(-1);\n        },\n        \"Esc\": function(ed) {\n            ed.tabstopManager.detach();\n        },\n        \"Return\": function(ed) {\n            return false;\n        }\n    });\n}).call(TabstopManager.prototype);\n\n\n\nvar changeTracker = {};\nchangeTracker.onChange = Anchor.prototype.onChange;\nchangeTracker.setPosition = function(row, column) {\n    this.pos.row = row;\n    this.pos.column = column;\n};\nchangeTracker.update = function(pos, delta, $insertRight) {\n    this.$insertRight = $insertRight;\n    this.pos = pos; \n    this.onChange(delta);\n};\n\nvar movePoint = function(point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\n\nvar moveRelative = function(point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\n\n\nacequire(\"./lib/dom\").importCssString(\"\\\n.ace_snippet-marker {\\\n    -moz-box-sizing: border-box;\\\n    box-sizing: border-box;\\\n    background: rgba(194, 193, 208, 0.09);\\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\\n    position: absolute;\\\n}\");\n\nexports.snippetManager = new SnippetManager();\n\n\nvar Editor = acequire(\"./editor\").Editor;\n(function() {\n    this.insertSnippet = function(content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function(options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/ext/emmet\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/editor\",\"ace/snippets\",\"ace/range\",\"resources\",\"resources\",\"tabStops\",\"resources\",\"utils\",\"actions\",\"ace/config\",\"ace/config\"], function(acequire, exports, module) {\n\"use strict\";\nvar HashHandler = acequire(\"ace/keyboard/hash_handler\").HashHandler;\nvar Editor = acequire(\"ace/editor\").Editor;\nvar snippetManager = acequire(\"ace/snippets\").snippetManager;\nvar Range = acequire(\"ace/range\").Range;\nvar emmet, emmetPath;\nfunction AceEmmetEditor() {}\n\nAceEmmetEditor.prototype = {\n    setupContext: function(editor) {\n        this.ace = editor;\n        this.indentation = editor.session.getTabString();\n        if (!emmet)\n            emmet = window.emmet;\n        var resources = emmet.resources || emmet.require(\"resources\");\n        resources.setVariable(\"indentation\", this.indentation);\n        this.$syntax = null;\n        this.$syntax = this.getSyntax();\n    },\n    getSelectionRange: function() {\n        var range = this.ace.getSelectionRange();\n        var doc = this.ace.session.doc;\n        return {\n            start: doc.positionToIndex(range.start),\n            end: doc.positionToIndex(range.end)\n        };\n    },\n    createSelection: function(start, end) {\n        var doc = this.ace.session.doc;\n        this.ace.selection.setRange({\n            start: doc.indexToPosition(start),\n            end: doc.indexToPosition(end)\n        });\n    },\n    getCurrentLineRange: function() {\n        var ace = this.ace;\n        var row = ace.getCursorPosition().row;\n        var lineLength = ace.session.getLine(row).length;\n        var index = ace.session.doc.positionToIndex({row: row, column: 0});\n        return {\n            start: index,\n            end: index + lineLength\n        };\n    },\n    getCaretPos: function(){\n        var pos = this.ace.getCursorPosition();\n        return this.ace.session.doc.positionToIndex(pos);\n    },\n    setCaretPos: function(index){\n        var pos = this.ace.session.doc.indexToPosition(index);\n        this.ace.selection.moveToPosition(pos);\n    },\n    getCurrentLine: function() {\n        var row = this.ace.getCursorPosition().row;\n        return this.ace.session.getLine(row);\n    },\n    replaceContent: function(value, start, end, noIndent) {\n        if (end == null)\n            end = start == null ? this.getContent().length : start;\n        if (start == null)\n            start = 0;        \n        \n        var editor = this.ace;\n        var doc = editor.session.doc;\n        var range = Range.fromPoints(doc.indexToPosition(start), doc.indexToPosition(end));\n        editor.session.remove(range);\n        \n        range.end = range.start;\n        \n        value = this.$updateTabstops(value);\n        snippetManager.insertSnippet(editor, value);\n    },\n    getContent: function(){\n        return this.ace.getValue();\n    },\n    getSyntax: function() {\n        if (this.$syntax)\n            return this.$syntax;\n        var syntax = this.ace.session.$modeId.split(\"/\").pop();\n        if (syntax == \"html\" || syntax == \"php\") {\n            var cursor = this.ace.getCursorPosition();\n            var state = this.ace.session.getState(cursor.row);\n            if (typeof state != \"string\")\n                state = state[0];\n            if (state) {\n                state = state.split(\"-\");\n                if (state.length > 1)\n                    syntax = state[0];\n                else if (syntax == \"php\")\n                    syntax = \"html\";\n            }\n        }\n        return syntax;\n    },\n    getProfileName: function() {\n        var resources = emmet.resources || emmet.require(\"resources\");\n        switch (this.getSyntax()) {\n          case \"css\": return \"css\";\n          case \"xml\":\n          case \"xsl\":\n            return \"xml\";\n          case \"html\":\n            var profile = resources.getVariable(\"profile\");\n            if (!profile)\n                profile = this.ace.session.getLines(0,2).join(\"\").search(/<!DOCTYPE[^>]+XHTML/i) != -1 ? \"xhtml\": \"html\";\n            return profile;\n          default:\n            var mode = this.ace.session.$mode;\n            return mode.emmetConfig && mode.emmetConfig.profile || \"xhtml\";\n        }\n    },\n    prompt: function(title) {\n        return prompt(title);\n    },\n    getSelection: function() {\n        return this.ace.session.getTextRange();\n    },\n    getFilePath: function() {\n        return \"\";\n    },\n    $updateTabstops: function(value) {\n        var base = 1000;\n        var zeroBase = 0;\n        var lastZero = null;\n        var ts = emmet.tabStops || emmet.require('tabStops');\n        var resources = emmet.resources || emmet.require(\"resources\");\n        var settings = resources.getVocabulary(\"user\");\n        var tabstopOptions = {\n            tabstop: function(data) {\n                var group = parseInt(data.group, 10);\n                var isZero = group === 0;\n                if (isZero)\n                    group = ++zeroBase;\n                else\n                    group += base;\n\n                var placeholder = data.placeholder;\n                if (placeholder) {\n                    placeholder = ts.processText(placeholder, tabstopOptions);\n                }\n\n                var result = '${' + group + (placeholder ? ':' + placeholder : '') + '}';\n\n                if (isZero) {\n                    lastZero = [data.start, result];\n                }\n\n                return result;\n            },\n            escape: function(ch) {\n                if (ch == '$') return '\\\\$';\n                if (ch == '\\\\') return '\\\\\\\\';\n                return ch;\n            }\n        };\n\n        value = ts.processText(value, tabstopOptions);\n\n        if (settings.variables['insert_final_tabstop'] && !/\\$\\{0\\}$/.test(value)) {\n            value += '${0}';\n        } else if (lastZero) {\n            var common = emmet.utils ? emmet.utils.common : emmet.require('utils');\n            value = common.replaceSubstring(value, '${0}', lastZero[0], lastZero[1]);\n        }\n        \n        return value;\n    }\n};\n\n\nvar keymap = {\n    expand_abbreviation: {\"mac\": \"ctrl+alt+e\", \"win\": \"alt+e\"},\n    match_pair_outward: {\"mac\": \"ctrl+d\", \"win\": \"ctrl+,\"},\n    match_pair_inward: {\"mac\": \"ctrl+j\", \"win\": \"ctrl+shift+0\"},\n    matching_pair: {\"mac\": \"ctrl+alt+j\", \"win\": \"alt+j\"},\n    next_edit_point: \"alt+right\",\n    prev_edit_point: \"alt+left\",\n    toggle_comment: {\"mac\": \"command+/\", \"win\": \"ctrl+/\"},\n    split_join_tag: {\"mac\": \"shift+command+'\", \"win\": \"shift+ctrl+`\"},\n    remove_tag: {\"mac\": \"command+'\", \"win\": \"shift+ctrl+;\"},\n    evaluate_math_expression: {\"mac\": \"shift+command+y\", \"win\": \"shift+ctrl+y\"},\n    increment_number_by_1: \"ctrl+up\",\n    decrement_number_by_1: \"ctrl+down\",\n    increment_number_by_01: \"alt+up\",\n    decrement_number_by_01: \"alt+down\",\n    increment_number_by_10: {\"mac\": \"alt+command+up\", \"win\": \"shift+alt+up\"},\n    decrement_number_by_10: {\"mac\": \"alt+command+down\", \"win\": \"shift+alt+down\"},\n    select_next_item: {\"mac\": \"shift+command+.\", \"win\": \"shift+ctrl+.\"},\n    select_previous_item: {\"mac\": \"shift+command+,\", \"win\": \"shift+ctrl+,\"},\n    reflect_css_value: {\"mac\": \"shift+command+r\", \"win\": \"shift+ctrl+r\"},\n\n    encode_decode_data_url: {\"mac\": \"shift+ctrl+d\", \"win\": \"ctrl+'\"},\n    expand_abbreviation_with_tab: \"Tab\",\n    wrap_with_abbreviation: {\"mac\": \"shift+ctrl+a\", \"win\": \"shift+ctrl+a\"}\n};\n\nvar editorProxy = new AceEmmetEditor();\nexports.commands = new HashHandler();\nexports.runEmmetCommand = function runEmmetCommand(editor) {\n    try {\n        editorProxy.setupContext(editor);\n        var actions = emmet.actions || emmet.require(\"actions\");\n    \n        if (this.action == \"expand_abbreviation_with_tab\") {\n            if (!editor.selection.isEmpty())\n                return false;\n            var pos = editor.selection.lead;\n            var token = editor.session.getTokenAt(pos.row, pos.column);\n            if (token && /\\btag\\b/.test(token.type))\n                return false;\n        }\n        \n        if (this.action == \"wrap_with_abbreviation\") {\n            return setTimeout(function() {\n                actions.run(\"wrap_with_abbreviation\", editorProxy);\n            }, 0);\n        }\n        \n        var result = actions.run(this.action, editorProxy);\n    } catch(e) {\n        if (!emmet) {\n            load(runEmmetCommand.bind(this, editor));\n            return true;\n        }\n        editor._signal(\"changeStatus\", typeof e == \"string\" ? e : e.message);\n        console.log(e);\n        result = false;\n    }\n    return result;\n};\n\nfor (var command in keymap) {\n    exports.commands.addCommand({\n        name: \"emmet:\" + command,\n        action: command,\n        bindKey: keymap[command],\n        exec: exports.runEmmetCommand,\n        multiSelectAction: \"forEach\"\n    });\n}\n\nexports.updateCommands = function(editor, enabled) {\n    if (enabled) {\n        editor.keyBinding.addKeyboardHandler(exports.commands);\n    } else {\n        editor.keyBinding.removeKeyboardHandler(exports.commands);\n    }\n};\n\nexports.isSupportedMode = function(mode) {\n    if (!mode) return false;\n    if (mode.emmetConfig) return true;\n    var id = mode.$id || mode;\n    return /css|less|scss|sass|stylus|html|php|twig|ejs|handlebars/.test(id);\n};\n\nexports.isAvailable = function(editor, command) {\n    if (/(evaluate_math_expression|expand_abbreviation)$/.test(command))\n        return true;\n    var mode = editor.session.$mode;\n    var isSupported = exports.isSupportedMode(mode);\n    if (isSupported && mode.$modes) {\n        try {\n            editorProxy.setupContext(editor);\n            if (/js|php/.test(editorProxy.getSyntax()))\n                isSupported = false;\n        } catch(e) {}\n    }\n    return isSupported;\n};\n\nvar onChangeMode = function(e, target) {\n    var editor = target;\n    if (!editor)\n        return;\n    var enabled = exports.isSupportedMode(editor.session.$mode);\n    if (e.enableEmmet === false)\n        enabled = false;\n    if (enabled)\n        load();\n    exports.updateCommands(editor, enabled);\n};\n\nvar load = function(cb) {\n    if (typeof emmetPath == \"string\") {\n        acequire(\"ace/config\").loadModule(emmetPath, function() {\n            emmetPath = null;\n            cb && cb();\n        });\n    }\n};\n\nexports.AceEmmetEditor = AceEmmetEditor;\nacequire(\"ace/config\").defineOptions(Editor.prototype, \"editor\", {\n    enableEmmet: {\n        set: function(val) {\n            this[val ? \"on\" : \"removeListener\"](\"changeMode\", onChangeMode);\n            onChangeMode({enableEmmet: !!val}, this);\n        },\n        value: true\n    }\n});\n\nexports.setCore = function(e) {\n    if (typeof e == \"string\")\n       emmetPath = e;\n    else\n       emmet = e;\n};\n});\n                (function() {\n                    ace.acequire([\"ace/ext/emmet\"], function() {});\n                })();\n            \n\n\n// WEBPACK FOOTER //\n// ./~/brace/ext/emmet.js","ace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/anchor\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/lib/dom\",\"ace/editor\"], function(acequire, exports, module) {\n\"use strict\";\nvar oop = acequire(\"./lib/oop\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar lang = acequire(\"./lib/lang\");\nvar Range = acequire(\"./range\").Range;\nvar Anchor = acequire(\"./anchor\").Anchor;\nvar HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = acequire(\"./tokenizer\").Tokenizer;\nvar comparePoints = Range.comparePoints;\n\nvar SnippetManager = function() {\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    \n    this.getTokenizer = function() {\n        function TabstopToken(str, _, stack) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str) && !stack.inFormatString)\n                return [{tabstopId: parseInt(str, 10)}];\n            return [{text: str}];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        SnippetManager.$tokenizer = new Tokenizer({\n            start: [\n                {regex: /:/, onMatch: function(val, state, stack) {\n                    if (stack.length && stack[0].expectIf) {\n                        stack[0].expectIf = false;\n                        stack[0].elseBranch = stack[0];\n                        return [stack[0]];\n                    }\n                    return \":\";\n                }},\n                {regex: /\\\\./, onMatch: function(val, state, stack) {\n                    var ch = val[1];\n                    if (ch == \"}\" && stack.length) {\n                        val = ch;\n                    }else if (\"`$\\\\\".indexOf(ch) != -1) {\n                        val = ch;\n                    } else if (stack.inFormatString) {\n                        if (ch == \"n\")\n                            val = \"\\n\";\n                        else if (ch == \"t\")\n                            val = \"\\n\";\n                        else if (\"ulULE\".indexOf(ch) != -1) {\n                            val = {changeCase: ch, local: ch > \"a\"};\n                        }\n                    }\n\n                    return [val];\n                }},\n                {regex: /}/, onMatch: function(val, state, stack) {\n                    return [stack.length ? stack.shift() : val];\n                }},\n                {regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken},\n                {regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function(str, state, stack) {\n                    var t = TabstopToken(str.substr(1), state, stack);\n                    stack.unshift(t[0]);\n                    return t;\n                }, next: \"snippetVar\"},\n                {regex: /\\n/, token: \"newline\", merge: false}\n            ],\n            snippetVar: [\n                {regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function(val, state, stack) {\n                    stack[0].choices = val.slice(1, -1).split(\",\");\n                }, next: \"start\"},\n                {regex: \"/(\" + escape(\"/\") + \"+)/(?:(\" + escape(\"/\") + \"*)/)(\\\\w*):?\",\n                 onMatch: function(val, state, stack) {\n                    var ts = stack[0];\n                    ts.fmtString = val;\n\n                    val = this.splitRegex.exec(val);\n                    ts.guard = val[1];\n                    ts.fmt = val[2];\n                    ts.flag = val[3];\n                    return \"\";\n                }, next: \"start\"},\n                {regex: \"`\" + escape(\"`\") + \"*`\", onMatch: function(val, state, stack) {\n                    stack[0].code = val.splice(1, -1);\n                    return \"\";\n                }, next: \"start\"},\n                {regex: \"\\\\?\", onMatch: function(val, state, stack) {\n                    if (stack[0])\n                        stack[0].expectIf = true;\n                }, next: \"start\"},\n                {regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\"}\n            ],\n            formatString: [\n                {regex: \"/(\" + escape(\"/\") + \"+)/\", token: \"regex\"},\n                {regex: \"\", onMatch: function(val, state, stack) {\n                    stack.inFormatString = true;\n                }, next: \"start\"}\n            ]\n        });\n        SnippetManager.prototype.getTokenizer = function() {\n            return SnippetManager.$tokenizer;\n        };\n        return SnippetManager.$tokenizer;\n    };\n\n    this.tokenizeTmSnippet = function(str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function(x) {\n            return x.value || x;\n        });\n    };\n\n    this.$getDefaultValue = function(editor, name) {\n        if (/^[A-Z]\\d+$/.test(name)) {\n            var i = name.substr(1);\n            return (this.variables[name[0] + \"__\"] || {})[i];\n        }\n        if (/^\\d+$/.test(name)) {\n            return (this.variables.__ || {})[name];\n        }\n        name = name.replace(/^TM_/, \"\");\n\n        if (!editor)\n            return;\n        var s = editor.session;\n        switch(name) {\n            case \"CURRENT_WORD\":\n                var r = s.getWordRange();\n            case \"SELECTION\":\n            case \"SELECTED_TEXT\":\n                return s.getTextRange(r);\n            case \"CURRENT_LINE\":\n                return s.getLine(editor.getCursorPosition().row);\n            case \"PREV_LINE\": // not possible in textmate\n                return s.getLine(editor.getCursorPosition().row - 1);\n            case \"LINE_INDEX\":\n                return editor.getCursorPosition().column;\n            case \"LINE_NUMBER\":\n                return editor.getCursorPosition().row + 1;\n            case \"SOFT_TABS\":\n                return s.getUseSoftTabs() ? \"YES\" : \"NO\";\n            case \"TAB_SIZE\":\n                return s.getTabSize();\n            case \"FILENAME\":\n            case \"FILEPATH\":\n                return \"\";\n            case \"FULLNAME\":\n                return \"Ace\";\n        }\n    };\n    this.variables = {};\n    this.getVariableValue = function(editor, varName) {\n        if (this.variables.hasOwnProperty(varName))\n            return this.variables[varName](editor, varName) || \"\";\n        return this.$getDefaultValue(editor, varName) || \"\";\n    };\n    this.tmStrFormat = function(str, ch, editor) {\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gi]/, \"\"));\n        var fmtTokens = this.tokenizeTmSnippet(ch.fmt, \"formatString\");\n        var _self = this;\n        var formatted = str.replace(re, function() {\n            _self.variables.__ = arguments;\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i  = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    } else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                } else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                } else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            return fmtParts.join(\"\");\n        });\n        this.variables.__ = null;\n        return formatted;\n    };\n\n    this.resolveVariables = function(snippet, editor) {\n        var result = [];\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n            } else if (typeof ch != \"object\") {\n                continue;\n            } else if (ch.skip) {\n                gotoNext(ch);\n            } else if (ch.processed < i) {\n                continue;\n            } else if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text);\n                if (value && ch.fmtString)\n                    value = this.tmStrFormat(value, ch);\n                ch.processed = i;\n                if (ch.expectIf == null) {\n                    if (value) {\n                        result.push(value);\n                        gotoNext(ch);\n                    }\n                } else {\n                    if (value) {\n                        ch.skip = ch.elseBranch;\n                    } else\n                        gotoNext(ch);\n                }\n            } else if (ch.tabstopId != null) {\n                result.push(ch);\n            } else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n\n    this.insertSnippetForSelection = function(editor, snippetText) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var tabString = editor.session.getTabString();\n        var indentString = line.match(/^\\s*/)[0];\n        \n        if (cursor.column < indentString.length)\n            indentString = indentString.slice(0, cursor.column);\n\n        snippetText = snippetText.replace(/\\r/g, \"\");\n        var tokens = this.tokenizeTmSnippet(snippetText);\n        tokens = this.resolveVariables(tokens, editor);\n        tokens = tokens.map(function(x) {\n            if (x == \"\\n\")\n                return x + indentString;\n            if (typeof x == \"string\")\n                return x.replace(/\\t/g, tabString);\n            return x;\n        });\n        var tabstops = [];\n        tokens.forEach(function(p, i) {\n            if (typeof p != \"object\")\n                return;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            if (!ts) {\n                ts = tabstops[id] = [];\n                ts.index = id;\n                ts.value = \"\";\n            }\n            if (ts.indexOf(p) !== -1)\n                return;\n            ts.push(p);\n            var i1 = tokens.indexOf(p, i + 1);\n            if (i1 === -1)\n                return;\n\n            var value = tokens.slice(i + 1, i1);\n            var isNested = value.some(function(t) {return typeof t === \"object\";});\n            if (isNested && !ts.value) {\n                ts.value = value;\n            } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                ts.value = value.join(\"\");\n            }\n        });\n        tabstops.forEach(function(ts) {ts.length = 0;});\n        var expanding = {};\n        function copyValue(val) {\n            var copy = [];\n            for (var i = 0; i < val.length; i++) {\n                var p = val[i];\n                if (typeof p == \"object\") {\n                    if (expanding[p.tabstopId])\n                        continue;\n                    var j = val.lastIndexOf(p, i - 1);\n                    p = copy[j] || {tabstopId: p.tabstopId};\n                }\n                copy[i] = p;\n            }\n            return copy;\n        }\n        for (var i = 0; i < tokens.length; i++) {\n            var p = tokens[i];\n            if (typeof p != \"object\")\n                continue;\n            var id = p.tabstopId;\n            var i1 = tokens.indexOf(p, i + 1);\n            if (expanding[id]) {\n                if (expanding[id] === p)\n                    expanding[id] = null;\n                continue;\n            }\n            \n            var ts = tabstops[id];\n            var arg = typeof ts.value == \"string\" ? [ts.value] : copyValue(ts.value);\n            arg.unshift(i + 1, Math.max(0, i1 - i));\n            arg.push(p);\n            expanding[id] = p;\n            tokens.splice.apply(tokens, arg);\n\n            if (ts.indexOf(p) === -1)\n                ts.push(p);\n        }\n        var row = 0, column = 0;\n        var text = \"\";\n        tokens.forEach(function(t) {\n            if (typeof t === \"string\") {\n                var lines = t.split(\"\\n\");\n                if (lines.length > 1){\n                    column = lines[lines.length - 1].length;\n                    row += lines.length - 1;\n                } else\n                    column += t.length;\n                text += t;\n            } else {\n                if (!t.start)\n                    t.start = {row: row, column: column};\n                else\n                    t.end = {row: row, column: column};\n            }\n        });\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, text);\n\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n    };\n    \n    this.insertSnippet = function(editor, snippetText) {\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText);\n        \n        editor.forEachSelection(function() {\n            self.insertSnippetForSelection(editor, snippetText);\n        }, null, {keepOrder: true});\n        \n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n\n    this.$getScope = function(editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp) \n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        \n        return scope;\n    };\n\n    this.getActiveScopes = function(editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n\n    this.expandWithTab = function(editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function() {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, {keepOrder: true});\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    \n    this.expandSnippetForSelection = function(editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row,\n            cursor.column - snippet.replaceBefore.length,\n            cursor.column + snippet.replaceAfter.length\n        );\n\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n\n    this.findMatchingSnippet = function(snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n    this.register = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        \n        if (!snippets) \n            snippets = [];\n        \n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            } else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            \n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            \n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger, \"\", true);\n\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger, \"\", true);\n        }\n\n        if (snippets && snippets.content)\n            addSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(addSnippet);\n        \n        this._signal(\"registerSnippets\", {scope: scope});\n    };\n    this.unregister = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope||scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope||scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    this.parseSnippetFile = function(str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                } catch (e) {}\n            } if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            } else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                } else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                } else {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    this.getSnippetByName = function(name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n\n}).call(SnippetManager.prototype);\n\n\nvar TabstopManager = function(editor) {\n    if (editor.tabstopManager)\n        return editor.tabstopManager;\n    editor.tabstopManager = this;\n    this.$onChange = this.onChange.bind(this);\n    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n    this.$onChangeSession = this.onChangeSession.bind(this);\n    this.$onAfterExec = this.onAfterExec.bind(this);\n    this.attach(editor);\n};\n(function() {\n    this.attach = function(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n\n        this.editor = editor;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.detach = function() {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges = null;\n        this.tabstops = null;\n        this.selectedTabstop = null;\n        this.editor.removeListener(\"change\", this.$onChange);\n        this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n        this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.editor = null;\n    };\n\n    this.onChange = function(delta) {\n        var changeRange = delta;\n        var isRemove = delta.action[0] == \"r\";\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var lineDif = endRow - startRow;\n        var colDiff = end.column - start.column;\n\n        if (isRemove) {\n            lineDif = -lineDif;\n            colDiff = -colDiff;\n        }\n        if (!this.$inChange && isRemove) {\n            var ts = this.selectedTabstop;\n            var changedOutside = ts && !ts.some(function(r) {\n                return comparePoints(r.start, start) <= 0 && comparePoints(r.end, end) >= 0;\n            });\n            if (changedOutside)\n                return this.detach();\n        }\n        var ranges = this.ranges;\n        for (var i = 0; i < ranges.length; i++) {\n            var r = ranges[i];\n            if (r.end.row < start.row)\n                continue;\n\n            if (isRemove && comparePoints(start, r.start) < 0 && comparePoints(end, r.end) > 0) {\n                this.removeRange(r);\n                i--;\n                continue;\n            }\n\n            if (r.start.row == startRow && r.start.column > start.column)\n                r.start.column += colDiff;\n            if (r.end.row == startRow && r.end.column >= start.column)\n                r.end.column += colDiff;\n            if (r.start.row >= startRow)\n                r.start.row += lineDif;\n            if (r.end.row >= startRow)\n                r.end.row += lineDif;\n\n            if (comparePoints(r.start, r.end) > 0)\n                this.removeRange(r);\n        }\n        if (!ranges.length)\n            this.detach();\n    };\n    this.updateLinkedFields = function() {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges)\n            return;\n        this.$inChange = true;\n        var session = this.editor.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = ts.length; i--;) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var fmt = exports.snippetManager.tmStrFormat(text, range.original);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    this.onAfterExec = function(e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    this.onChangeSelection = function() {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = this.ranges.length; i--;) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    this.onChangeSession = function() {\n        this.detach();\n    };\n    this.tabNext = function(dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        if (index === 0)\n            this.detach();\n    };\n    this.selectTabstop = function(index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        \n        this.selectedTabstop = ts;\n        if (!this.editor.inVirtualSelectionMode) {        \n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(ts.firstNonLinked.clone());\n            for (var i = ts.length; i--;) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n            if (sel.ranges[0])\n                sel.addRange(sel.ranges[0].clone());\n        } else {\n            this.editor.selection.setRange(ts.firstNonLinked);\n        }\n        \n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.addTabstops = function(tabstops, start, end) {\n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        tabstops.forEach(function(ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n                \n            for (var i = ts.length; i--;) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                } else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n        }, this);\n        \n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n\n    this.addTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            if  (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    this.removeTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    this.removeRange = function(range) {\n        var i = range.tabstop.indexOf(range);\n        range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        this.ranges.splice(i, 1);\n        this.editor.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys({\n        \"Tab\": function(ed) {\n            if (exports.snippetManager && exports.snippetManager.expandWithTab(ed)) {\n                return;\n            }\n\n            ed.tabstopManager.tabNext(1);\n        },\n        \"Shift-Tab\": function(ed) {\n            ed.tabstopManager.tabNext(-1);\n        },\n        \"Esc\": function(ed) {\n            ed.tabstopManager.detach();\n        },\n        \"Return\": function(ed) {\n            return false;\n        }\n    });\n}).call(TabstopManager.prototype);\n\n\n\nvar changeTracker = {};\nchangeTracker.onChange = Anchor.prototype.onChange;\nchangeTracker.setPosition = function(row, column) {\n    this.pos.row = row;\n    this.pos.column = column;\n};\nchangeTracker.update = function(pos, delta, $insertRight) {\n    this.$insertRight = $insertRight;\n    this.pos = pos; \n    this.onChange(delta);\n};\n\nvar movePoint = function(point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\n\nvar moveRelative = function(point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\n\n\nacequire(\"./lib/dom\").importCssString(\"\\\n.ace_snippet-marker {\\\n    -moz-box-sizing: border-box;\\\n    box-sizing: border-box;\\\n    background: rgba(194, 193, 208, 0.09);\\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\\n    position: absolute;\\\n}\");\n\nexports.snippetManager = new SnippetManager();\n\n\nvar Editor = acequire(\"./editor\").Editor;\n(function() {\n    this.insertSnippet = function(content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function(options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Renderer = acequire(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = acequire(\"../editor\").Editor;\nvar Range = acequire(\"../range\").Range;\nvar event = acequire(\"../lib/event\");\nvar lang = acequire(\"../lib/lang\");\nvar dom = acequire(\"../lib/dom\");\n\nvar $singleLineEditor = function(el) {\n    var renderer = new Renderer(el);\n\n    renderer.$maxLines = 4;\n\n    var editor = new Editor(renderer);\n\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n\n    editor.$mouseHandler.$focusWaitTimout = 0;\n    editor.$highlightTagPending = true;\n\n    return editor;\n};\n\nvar AcePopup = function(parentNode) {\n    var el = dom.createElement(\"div\");\n    var popup = new $singleLineEditor(el);\n\n    if (parentNode)\n        parentNode.appendChild(el);\n    el.style.display = \"none\";\n    popup.renderer.content.style.cursor = \"default\";\n    popup.renderer.setStyle(\"ace_autocomplete\");\n\n    popup.setOption(\"displayIndentGuides\", false);\n    popup.setOption(\"dragDelay\", 150);\n\n    var noop = function(){};\n\n    popup.focus = noop;\n    popup.$isFocused = true;\n\n    popup.renderer.$cursorLayer.restartTimer = noop;\n    popup.renderer.$cursorLayer.element.style.opacity = 0;\n\n    popup.renderer.$maxLines = 8;\n    popup.renderer.$keepTextAreaAtCursor = false;\n\n    popup.setHighlightActiveLine(false);\n    popup.session.highlight(\"\");\n    popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n\n    popup.on(\"mousedown\", function(e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n    });\n\n    var lastMouseEvent;\n    var hoverMarker = new Range(-1,0,-1,Infinity);\n    var selectionMarker = new Range(-1,0,-1,Infinity);\n    selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n    popup.setSelectOnHover = function(val) {\n        if (!val) {\n            hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        } else if (hoverMarker.id) {\n            popup.session.removeMarker(hoverMarker.id);\n            hoverMarker.id = null;\n        }\n    };\n    popup.setSelectOnHover(false);\n    popup.on(\"mousemove\", function(e) {\n        if (!lastMouseEvent) {\n            lastMouseEvent = e;\n            return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n            return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row);\n        }\n    });\n    popup.renderer.on(\"beforeRender\", function() {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n            lastMouseEvent.$pos = null;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row, true);\n        }\n    });\n    popup.renderer.on(\"afterRender\", function() {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = t.element.childNodes[row - t.config.firstRow];\n        if (selected == t.selectedNode)\n            return;\n        if (t.selectedNode)\n            dom.removeCssClass(t.selectedNode, \"ace_selected\");\n        t.selectedNode = selected;\n        if (selected)\n            dom.addCssClass(selected, \"ace_selected\");\n    });\n    var hideHoverMarker = function() { setHoverMarker(-1); };\n    var setHoverMarker = function(row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n            hoverMarker.start.row = hoverMarker.end.row = row;\n            if (!suppressRedraw)\n                popup.session._emit(\"changeBackMarker\");\n            popup._emit(\"changeHoverMarker\");\n        }\n    };\n    popup.getHoveredRow = function() {\n        return hoverMarker.start.row;\n    };\n\n    event.addListener(popup.container, \"mouseout\", hideHoverMarker);\n    popup.on(\"hide\", hideHoverMarker);\n    popup.on(\"changeSelection\", hideHoverMarker);\n\n    popup.session.doc.getLength = function() {\n        return popup.data.length;\n    };\n    popup.session.doc.getLine = function(i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\")\n            return data;\n        return (data && data.value) || \"\";\n    };\n\n    var bgTokenizer = popup.session.bgTokenizer;\n    bgTokenizer.$tokenizeRow = function(row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data)\n            return tokens;\n        if (typeof data == \"string\")\n            data = {value: data};\n        if (!data.caption)\n            data.caption = data.value || data.name;\n\n        var last = -1;\n        var flag, c;\n        for (var i = 0; i < data.caption.length; i++) {\n            c = data.caption[i];\n            flag = data.matchMask & (1 << i) ? 1 : 0;\n            if (last !== flag) {\n                tokens.push({type: data.className || \"\" + ( flag ? \"completion-highlight\" : \"\"), value: c});\n                last = flag;\n            } else {\n                tokens[tokens.length - 1].value += c;\n            }\n        }\n\n        if (data.meta) {\n            var maxW = popup.renderer.$size.scrollerWidth / popup.renderer.layerConfig.characterWidth;\n            var metaData = data.meta;\n            if (metaData.length + data.caption.length > maxW - 2) {\n                metaData = metaData.substr(0, maxW - data.caption.length - 3) + \"\\u2026\";\n            }\n            tokens.push({type: \"rightAlignedText\", value: metaData});\n        }\n        return tokens;\n    };\n    bgTokenizer.$updateOnChange = noop;\n    bgTokenizer.start = noop;\n\n    popup.session.$computeWidth = function() {\n        return this.screenWidth = 0;\n    };\n\n    popup.$blockScrolling = Infinity;\n    popup.isOpen = false;\n    popup.isTopdown = false;\n    popup.autoSelect = true;\n\n    popup.data = [];\n    popup.setData = function(list) {\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n    };\n    popup.getData = function(row) {\n        return popup.data[row];\n    };\n\n    popup.getRow = function() {\n        return selectionMarker.start.row;\n    };\n    popup.setRow = function(line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));\n        if (selectionMarker.start.row != line) {\n            popup.selection.clearSelection();\n            selectionMarker.start.row = selectionMarker.end.row = line || 0;\n            popup.session._emit(\"changeBackMarker\");\n            popup.moveCursorTo(line || 0, 0);\n            if (popup.isOpen)\n                popup._signal(\"select\");\n        }\n    };\n\n    popup.on(\"changeSelection\", function() {\n        if (popup.isOpen)\n            popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n    });\n\n    popup.hide = function() {\n        this.container.style.display = \"none\";\n        this._signal(\"hide\");\n        popup.isOpen = false;\n    };\n    popup.show = function(pos, lineHeight, topdownOnly) {\n        var el = this.container;\n        var screenHeight = window.innerHeight;\n        var screenWidth = window.innerWidth;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var top = pos.top + this.$borderSize;\n        var allowTopdown = top > screenHeight / 2 && !topdownOnly;\n        if (allowTopdown && top + lineHeight + maxH > screenHeight) {\n            renderer.$maxPixelHeight = top - 2 * this.$borderSize;\n            el.style.top = \"\";\n            el.style.bottom = screenHeight - top + \"px\";\n            popup.isTopdown = false;\n        } else {\n            top += lineHeight;\n            renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;\n            el.style.top = top + \"px\";\n            el.style.bottom = \"\";\n            popup.isTopdown = true;\n        }\n\n        el.style.display = \"\";\n        this.renderer.$textLayer.checkForSizeChanges();\n\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth)\n            left = screenWidth - el.offsetWidth;\n\n        el.style.left = left + \"px\";\n\n        this._signal(\"show\");\n        lastMouseEvent = null;\n        popup.isOpen = true;\n    };\n\n    popup.getTextLeftOffset = function() {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n    };\n\n    popup.$imageSize = 0;\n    popup.$borderSize = 1;\n\n    return popup;\n};\n\ndom.importCssString(\"\\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\\n    background-color: #CAD6FA;\\\n    z-index: 1;\\\n}\\\n.ace_editor.ace_autocomplete .ace_line-hover {\\\n    border: 1px solid #abbffe;\\\n    margin-top: -1px;\\\n    background: rgba(233,233,253,0.4);\\\n}\\\n.ace_editor.ace_autocomplete .ace_line-hover {\\\n    position: absolute;\\\n    z-index: 2;\\\n}\\\n.ace_editor.ace_autocomplete .ace_scroller {\\\n   background: none;\\\n   border: none;\\\n   box-shadow: none;\\\n}\\\n.ace_rightAlignedText {\\\n    color: gray;\\\n    display: inline-block;\\\n    position: absolute;\\\n    right: 4px;\\\n    text-align: right;\\\n    z-index: -1;\\\n}\\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\\n    color: #000;\\\n    text-shadow: 0 0 0.01em;\\\n}\\\n.ace_editor.ace_autocomplete {\\\n    width: 280px;\\\n    z-index: 200000;\\\n    background: #fbfbfb;\\\n    color: #444;\\\n    border: 1px lightgray solid;\\\n    position: fixed;\\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\\n    line-height: 1.4;\\\n}\");\n\nexports.AcePopup = AcePopup;\n\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nexports.parForEach = function(array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function(result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\n\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\uFFFF]/;\n\nexports.retrievePrecedingIdentifier = function(text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos-1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\n\nexports.retrieveFollowingIdentifier = function(text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\n\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function(completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function(identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar HashHandler = acequire(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = acequire(\"./autocomplete/popup\").AcePopup;\nvar util = acequire(\"./autocomplete/util\");\nvar event = acequire(\"./lib/event\");\nvar lang = acequire(\"./lib/lang\");\nvar dom = acequire(\"./lib/dom\");\nvar snippetManager = acequire(\"./snippets\").snippetManager;\n\nvar Autocomplete = function() {\n    this.autoInsert = false;\n    this.autoSelect = true;\n    this.exactMatch = false;\n    this.gatherCompletionsId = 0;\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys(this.commands);\n\n    this.blurListener = this.blurListener.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.mousedownListener = this.mousedownListener.bind(this);\n    this.mousewheelListener = this.mousewheelListener.bind(this);\n\n    this.changeTimer = lang.delayedCall(function() {\n        this.updateCompletions(true);\n    }.bind(this));\n\n    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n};\n\n(function() {\n\n    this.$init = function() {\n        this.popup = new AcePopup(document.body || document.documentElement);\n        this.popup.on(\"click\", function(e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"select\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        return this.popup;\n    };\n\n    this.getPopup = function() {\n        return this.popup || this.$init();\n    };\n\n    this.openPopup = function(editor, prefix, keepPopupPosition) {\n        if (!this.popup)\n            this.$init();\n\n\tthis.popup.autoSelect = this.autoSelect;\n\n        this.popup.setData(this.completions.filtered);\n\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        \n        var renderer = editor.renderer;\n        this.popup.setRow(this.autoSelect ? 0 : -1);\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n\n            var lineHeight = renderer.layerConfig.lineHeight;\n\n            var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n            pos.left -= this.popup.getTextLeftOffset();\n\n            var rect = editor.container.getBoundingClientRect();\n            pos.top += rect.top - renderer.layerConfig.offset;\n            pos.left += rect.left - editor.renderer.scrollLeft;\n            pos.left += renderer.gutterWidth;\n\n            this.popup.show(pos, lineHeight);\n        } else if (keepPopupPosition && !prefix) {\n            this.detach();\n        }\n    };\n\n    this.detach = function() {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n\n        this.gatherCompletionsId += 1;\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completions = this.base = null;\n    };\n\n    this.changeListener = function(e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n\n    this.blurListener = function(e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text\n        ) {\n            this.detach();\n        }\n    };\n\n    this.mousedownListener = function(e) {\n        this.detach();\n    };\n\n    this.mousewheelListener = function(e) {\n        this.detach();\n    };\n\n    this.goTo = function(where) {\n        var row = this.popup.getRow();\n        var max = this.popup.session.getLength() - 1;\n\n        switch(where) {\n            case \"up\": row = row <= 0 ? max : row - 1; break;\n            case \"down\": row = row >= max ? -1 : row + 1; break;\n            case \"start\": row = 0; break;\n            case \"end\": row = max; break;\n        }\n\n        this.popup.setRow(row);\n    };\n\n    this.insertMatch = function(data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(this.editor, data);\n        } else {\n            if (this.completions.filterText) {\n                var ranges = this.editor.selection.getAllRanges();\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= this.completions.filterText.length;\n                    this.editor.session.remove(range);\n                }\n            }\n            if (data.snippet)\n                snippetManager.insertSnippet(this.editor, data.snippet);\n            else\n                this.editor.execCommand(\"insertstring\", data.value || data);\n        }\n        this.detach();\n    };\n\n\n    this.commands = {\n        \"Up\": function(editor) { editor.completer.goTo(\"up\"); },\n        \"Down\": function(editor) { editor.completer.goTo(\"down\"); },\n        \"Ctrl-Up|Ctrl-Home\": function(editor) { editor.completer.goTo(\"start\"); },\n        \"Ctrl-Down|Ctrl-End\": function(editor) { editor.completer.goTo(\"end\"); },\n\n        \"Esc\": function(editor) { editor.completer.detach(); },\n        \"Return\": function(editor) { return editor.completer.insertMatch(); },\n        \"Shift-Return\": function(editor) { editor.completer.insertMatch(null, {deleteSuffix: true}); },\n        \"Tab\": function(editor) {\n            var result = editor.completer.insertMatch();\n            if (!result && !editor.tabstopManager)\n                editor.completer.goTo(\"down\");\n            else\n                return result;\n        },\n\n        \"PageUp\": function(editor) { editor.completer.popup.gotoPageUp(); },\n        \"PageDown\": function(editor) { editor.completer.popup.gotoPageDown(); }\n    };\n\n    this.gatherCompletions = function(editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n\n        var prefix = util.getCompletionPrefix(editor);\n\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n\n        var matches = [];\n        var total = editor.completers.length;\n        editor.completers.forEach(function(completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function(err, results) {\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n\n    this.showPopup = function(editor) {\n        if (this.editor)\n            this.detach();\n\n        this.activated = true;\n\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n\n        this.updateCompletions();\n    };\n\n    this.updateCompletions = function(keepPopupPosition) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({start: this.base, end: pos});\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n            && this.completions.filtered[0].value == prefix\n            && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        var _id = this.gatherCompletionsId;\n        this.gatherCompletions(this.editor, function(err, results) {\n            var detachIfFinished = function() {\n                if (!results.finished) return;\n                return this.detach();\n            }.bind(this);\n\n            var prefix = results.prefix;\n            var matches = results && results.matches;\n\n            if (!matches || !matches.length)\n                return detachIfFinished();\n            if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId)\n                return;\n\n            this.completions = new FilteredList(matches);\n\n            if (this.exactMatch)\n                this.completions.exactMatch = true;\n\n            this.completions.setFilter(prefix);\n            var filtered = this.completions.filtered;\n            if (!filtered.length)\n                return detachIfFinished();\n            if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)\n                return detachIfFinished();\n            if (this.autoInsert && filtered.length == 1 && results.finished)\n                return this.insertMatch(filtered[0]);\n\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n        }.bind(this));\n    };\n\n    this.cancelContextMenu = function() {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n\n    this.updateDocTooltip = function() {\n        var popup = this.popup;\n        var all = popup.data;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        this.editor.completers.some(function(completer) {\n            if (completer.getDocTooltip)\n                doc = completer.getDocTooltip(selected);\n            return doc;\n        });\n        if (!doc)\n            doc = selected;\n\n        if (typeof doc == \"string\")\n            doc = {docText: doc};\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n\n    this.showDocTooltip = function(item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip\";\n            this.tooltipNode.style.margin = 0;\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        }\n\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        } else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n\n        if (!tooltipNode.parentNode)\n            document.body.appendChild(tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        tooltipNode.style.top = popup.container.style.top;\n        tooltipNode.style.bottom = popup.container.style.bottom;\n\n        if (window.innerWidth - rect.right < 320) {\n            tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n            tooltipNode.style.left = \"\";\n        } else {\n            tooltipNode.style.left = (rect.right + 1) + \"px\";\n            tooltipNode.style.right = \"\";\n        }\n        tooltipNode.style.display = \"block\";\n    };\n\n    this.hideDocTooltip = function() {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode) return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n\n    this.onTooltipClick = function(e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n\n}).call(Autocomplete.prototype);\n\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function(editor) {\n        if (!editor.completer)\n            editor.completer = new Autocomplete();\n        editor.completer.autoInsert = false;\n        editor.completer.autoSelect = true;\n        editor.completer.showPopup(editor);\n        editor.completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\n\nvar FilteredList = function(array, filterText) {\n    this.all = array;\n    this.filtered = array;\n    this.filterText = filterText || \"\";\n    this.exactMatch = false;\n};\n(function(){\n    this.setFilter = function(str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function(a, b) {\n            return b.exactMatch - a.exactMatch || b.score - a.score;\n        });\n        var prev = null;\n        matches = matches.filter(function(item){\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev) return false;\n            prev = caption;\n            return true;\n        });\n\n        this.filtered = matches;\n    };\n    this.filterCompletions = function(items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            var caption = item.value || item.caption || item.snippet;\n            if (!caption) continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            }else{\n                for (var j = 0; j < needle.length; j++) {\n                    var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                    var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                    index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                    if (index < 0)\n                        continue loop;\n                    distance = index - lastIndex - 1;\n                    if (distance > 0) {\n                        if (lastIndex === -1)\n                            penalty += 10;\n                        penalty += distance;\n                    }\n                    matchMask = matchMask | (1 << index);\n                    lastIndex = index;\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n}).call(FilteredList.prototype);\n\nexports.Autocomplete = Autocomplete;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/autocomplete/text_completer\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n    var Range = acequire(\"../range\").Range;\n    \n    var splitRegex = /[^a-zA-Z_0-9\\$\\-\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/;\n\n    function getWordIndex(doc, pos) {\n        var textBefore = doc.getTextRange(Range.fromPoints({row: 0, column:0}, pos));\n        return textBefore.split(splitRegex).length - 1;\n    }\n    function wordDistance(doc, pos) {\n        var prefixPos = getWordIndex(doc, pos);\n        var words = doc.getValue().split(splitRegex);\n        var wordScores = Object.create(null);\n        \n        var currentWord = words[prefixPos];\n\n        words.forEach(function(word, idx) {\n            if (!word || word === currentWord) return;\n\n            var distance = Math.abs(prefixPos - idx);\n            var score = words.length - distance;\n            if (wordScores[word]) {\n                wordScores[word] = Math.max(score, wordScores[word]);\n            } else {\n                wordScores[word] = score;\n            }\n        });\n        return wordScores;\n    }\n\n    exports.getCompletions = function(editor, session, pos, prefix, callback) {\n        var wordScore = wordDistance(session, pos, prefix);\n        var wordList = Object.keys(wordScore);\n        callback(null, wordList.map(function(word) {\n            return {\n                caption: word,\n                value: word,\n                score: wordScore[word],\n                meta: \"local\"\n            };\n        }));\n    };\n});\n\nace.define(\"ace/ext/language_tools\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete\",\"ace/config\",\"ace/lib/lang\",\"ace/autocomplete/util\",\"ace/autocomplete/text_completer\",\"ace/editor\",\"ace/config\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar snippetManager = acequire(\"../snippets\").snippetManager;\nvar Autocomplete = acequire(\"../autocomplete\").Autocomplete;\nvar config = acequire(\"../config\");\nvar lang = acequire(\"../lib/lang\");\nvar util = acequire(\"../autocomplete/util\");\n\nvar textCompleter = acequire(\"../autocomplete/text_completer\");\nvar keyWordCompleter = {\n    getCompletions: function(editor, session, pos, prefix, callback) {\n        if (session.$mode.completer) {\n            return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);\n        }\n        var state = editor.session.getState(pos.row);\n        var completions = session.$mode.getCompletions(state, session, pos, prefix);\n        callback(null, completions);\n    }\n};\n\nvar snippetCompleter = {\n    getCompletions: function(editor, session, pos, prefix, callback) {\n        var snippetMap = snippetManager.snippetMap;\n        var completions = [];\n        snippetManager.getActiveScopes(editor).forEach(function(scope) {\n            var snippets = snippetMap[scope] || [];\n            for (var i = snippets.length; i--;) {\n                var s = snippets[i];\n                var caption = s.name || s.tabTrigger;\n                if (!caption)\n                    continue;\n                completions.push({\n                    caption: caption,\n                    snippet: s.content,\n                    meta: s.tabTrigger && !s.name ? s.tabTrigger + \"\\u21E5 \" : \"snippet\",\n                    type: \"snippet\"\n                });\n            }\n        }, this);\n        callback(null, completions);\n    },\n    getDocTooltip: function(item) {\n        if (item.type == \"snippet\" && !item.docHTML) {\n            item.docHTML = [\n                \"<b>\", lang.escapeHTML(item.caption), \"</b>\", \"<hr></hr>\",\n                lang.escapeHTML(item.snippet)\n            ].join(\"\");\n        }\n    }\n};\n\nvar completers = [snippetCompleter, textCompleter, keyWordCompleter];\nexports.setCompleters = function(val) {\n    completers.length = 0;\n    if (val) completers.push.apply(completers, val);\n};\nexports.addCompleter = function(completer) {\n    completers.push(completer);\n};\nexports.textCompleter = textCompleter;\nexports.keyWordCompleter = keyWordCompleter;\nexports.snippetCompleter = snippetCompleter;\n\nvar expandSnippet = {\n    name: \"expandSnippet\",\n    exec: function(editor) {\n        return snippetManager.expandWithTab(editor);\n    },\n    bindKey: \"Tab\"\n};\n\nvar onChangeMode = function(e, editor) {\n    loadSnippetsForMode(editor.session.$mode);\n};\n\nvar loadSnippetsForMode = function(mode) {\n    var id = mode.$id;\n    if (!snippetManager.files)\n        snippetManager.files = {};\n    loadSnippetFile(id);\n    if (mode.modes)\n        mode.modes.forEach(loadSnippetsForMode);\n};\n\nvar loadSnippetFile = function(id) {\n    if (!id || snippetManager.files[id])\n        return;\n    var snippetFilePath = id.replace(\"mode\", \"snippets\");\n    snippetManager.files[id] = {};\n    config.loadModule(snippetFilePath, function(m) {\n        if (m) {\n            snippetManager.files[id] = m;\n            if (!m.snippets && m.snippetText)\n                m.snippets = snippetManager.parseSnippetFile(m.snippetText);\n            snippetManager.register(m.snippets || [], m.scope);\n            if (m.includeScopes) {\n                snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;\n                m.includeScopes.forEach(function(x) {\n                    loadSnippetFile(\"ace/mode/\" + x);\n                });\n            }\n        }\n    });\n};\n\nvar doLiveAutocomplete = function(e) {\n    var editor = e.editor;\n    var hasCompleter = editor.completer && editor.completer.activated;\n    if (e.command.name === \"backspace\") {\n        if (hasCompleter && !util.getCompletionPrefix(editor))\n            editor.completer.detach();\n    }\n    else if (e.command.name === \"insertstring\") {\n        var prefix = util.getCompletionPrefix(editor);\n        if (prefix && !hasCompleter) {\n            if (!editor.completer) {\n                editor.completer = new Autocomplete();\n            }\n            editor.completer.autoInsert = false;\n            editor.completer.showPopup(editor);\n        }\n    }\n};\n\nvar Editor = acequire(\"../editor\").Editor;\nacequire(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableBasicAutocompletion: {\n        set: function(val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val)? val: completers;\n                this.commands.addCommand(Autocomplete.startCommand);\n            } else {\n                this.commands.removeCommand(Autocomplete.startCommand);\n            }\n        },\n        value: false\n    },\n    enableLiveAutocompletion: {\n        set: function(val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val)? val: completers;\n                this.commands.on('afterExec', doLiveAutocomplete);\n            } else {\n                this.commands.removeListener('afterExec', doLiveAutocomplete);\n            }\n        },\n        value: false\n    },\n    enableSnippets: {\n        set: function(val) {\n            if (val) {\n                this.commands.addCommand(expandSnippet);\n                this.on(\"changeMode\", onChangeMode);\n                onChangeMode(null, this);\n            } else {\n                this.commands.removeCommand(expandSnippet);\n                this.off(\"changeMode\", onChangeMode);\n            }\n        },\n        value: false\n    }\n});\n});\n                (function() {\n                    ace.acequire([\"ace/ext/language_tools\"], function() {});\n                })();\n            \n\n\n// WEBPACK FOOTER //\n// ./~/brace/ext/language_tools.js","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (acequire, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof acequirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _acequire = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && acequire.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar acequire = function(module, callback) {\n    var packagedModule = _acequire(\"\", module, callback);\n    if (packagedModule == undefined && acequire.original)\n        return acequire.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin acequires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative acequires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _acequire(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.acequire || !root.acequire.packaged) {\n        acequire.original = root.acequire;\n        root.acequire = acequire;\n        root.acequire.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/regexp\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\n    var real = {\n            exec: RegExp.prototype.exec,\n            test: RegExp.prototype.test,\n            match: String.prototype.match,\n            replace: String.prototype.replace,\n            split: String.prototype.split\n        },\n        compliantExecNpcg = real.exec.call(/()??/, \"\")[1] === undefined, // check `exec` handling of nonparticipating capturing groups\n        compliantLastIndexIncrement = function () {\n            var x = /^/g;\n            real.test.call(x, \"\");\n            return !x.lastIndex;\n        }();\n\n    if (compliantLastIndexIncrement && compliantExecNpcg)\n        return;\n    RegExp.prototype.exec = function (str) {\n        var match = real.exec.apply(this, arguments),\n            name, r2;\n        if ( typeof(str) == 'string' && match) {\n            if (!compliantExecNpcg && match.length > 1 && indexOf(match, \"\") > -1) {\n                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), \"g\", \"\"));\n                real.replace.call(str.slice(match.index), r2, function () {\n                    for (var i = 1; i < arguments.length - 2; i++) {\n                        if (arguments[i] === undefined)\n                            match[i] = undefined;\n                    }\n                });\n            }\n            if (this._xregexp && this._xregexp.captureNames) {\n                for (var i = 1; i < match.length; i++) {\n                    name = this._xregexp.captureNames[i - 1];\n                    if (name)\n                       match[name] = match[i];\n                }\n            }\n            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n        }\n        return match;\n    };\n    if (!compliantLastIndexIncrement) {\n        RegExp.prototype.test = function (str) {\n            var match = real.exec.call(this, str);\n            if (match && this.global && !match[0].length && (this.lastIndex > match.index))\n                this.lastIndex--;\n            return !!match;\n        };\n    }\n\n    function getNativeFlags (regex) {\n        return (regex.global     ? \"g\" : \"\") +\n               (regex.ignoreCase ? \"i\" : \"\") +\n               (regex.multiline  ? \"m\" : \"\") +\n               (regex.extended   ? \"x\" : \"\") + // Proposed for ES4; included in AS3\n               (regex.sticky     ? \"y\" : \"\");\n    }\n\n    function indexOf (array, item, from) {\n        if (Array.prototype.indexOf) // Use the native array method if available\n            return array.indexOf(item, from);\n        for (var i = from || 0; i < array.length; i++) {\n            if (array[i] === item)\n                return i;\n        }\n        return -1;\n    }\n\n});\n\nace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        var target = this;\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        var args = slice.call(arguments, 1); // for normal call\n        var bound = function () {\n\n            if (this instanceof bound) {\n\n                var result = target.apply(\n                    this,\n                    args.concat(slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                return target.apply(\n                    that,\n                    args.concat(slice.call(arguments))\n                );\n\n            }\n\n        };\n        if(target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            Empty.prototype = null;\n        }\n        return bound;\n    };\n}\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar slice = prototypeOfArray.slice;\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\nif ([1,2].splice(0).length != 2) {\n    if(function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = new Array(l+2);\n            a[0] = a[1] = 0;\n            return a;\n        }\n        var array = [], lengthBefore;\n        \n        array.splice.apply(array, makeArray(20));\n        array.splice.apply(array, makeArray(26));\n\n        lengthBefore = array.length; //46\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        lengthBefore + 1 == array.length\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n    }()) {//IE 6/7\n        var array_splice = Array.prototype.splice;\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(slice.call(arguments, 2)))\n            }\n        };\n    } else {//IE8\n        Array.prototype.splice = function(pos, removeCount){\n            var length = this.length;\n            if (pos > 0) {\n                if (pos > length)\n                    pos = length;\n            } else if (pos == void 0) {\n                pos = 0;\n            } else if (pos < 0) {\n                pos = Math.max(length + pos, 0);\n            }\n\n            if (!(pos+removeCount < length))\n                removeCount = length - pos;\n\n            var removed = this.slice(pos, pos+removeCount);\n            var insert = slice.call(arguments, 2);\n            var add = insert.length;            \n            if (pos === length) {\n                if (add) {\n                    this.push.apply(this, insert);\n                }\n            } else {\n                var remove = Math.min(removeCount, length - pos);\n                var tailOldPos = pos + remove;\n                var tailNewPos = tailOldPos + add - remove;\n                var tailCount = length - tailOldPos;\n                var lengthAfterRemove = length - remove;\n\n                if (tailNewPos < tailOldPos) { // case A\n                    for (var i = 0; i < tailCount; ++i) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } else if (tailNewPos > tailOldPos) { // case B\n                    for (i = tailCount; i--; ) {\n                        this[tailNewPos+i] = this[tailOldPos+i];\n                    }\n                } // else, add == remove (nothing to do)\n\n                if (add && pos === lengthAfterRemove) {\n                    this.length = lengthAfterRemove; // truncate array\n                    this.push.apply(this, insert);\n                } else {\n                    this.length = lengthAfterRemove + add; // reserves space\n                    for (i = 0; i < add; ++i) {\n                        this[pos+i] = insert[i];\n                    }\n                }\n            }\n            return removed;\n        };\n    }\n}\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\nif (!Object.getPrototypeOf) {\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor ?\n            object.constructor.prototype :\n            prototypeOfObject\n        );\n    };\n}\nif (!Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a \" +\n                         \"non-object: \";\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT + object);\n        if (!owns(object, property))\n            return;\n\n        var descriptor, getter, setter;\n        descriptor =  { enumerable: true, configurable: true };\n        if (supportsAccessors) {\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) descriptor.get = getter;\n                if (setter) descriptor.set = setter;\n                return descriptor;\n            }\n        }\n        descriptor.value = object[property];\n        return descriptor;\n    };\n}\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\nif (!Object.create) {\n    var createEmpty;\n    if (Object.prototype.__proto__ === null) {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        createEmpty = function () {\n            var empty = {};\n            for (var i in empty)\n                empty[i] = null;\n            empty.constructor =\n            empty.hasOwnProperty =\n            empty.propertyIsEnumerable =\n            empty.isPrototypeOf =\n            empty.toLocaleString =\n            empty.toString =\n            empty.valueOf =\n            empty.__proto__ = null;\n            return empty;\n        }\n    }\n\n    Object.create = function create(prototype, properties) {\n        var object;\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype != \"object\")\n                throw new TypeError(\"typeof prototype[\"+(typeof prototype)+\"] != 'object'\");\n            var Type = function () {};\n            Type.prototype = prototype;\n            object = new Type();\n            object.__proto__ = prototype;\n        }\n        if (properties !== void 0)\n            Object.defineProperties(object, properties);\n        return object;\n    };\n}\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n    }\n}\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null)\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null)\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n            }\n        }\n        if (owns(descriptor, \"value\")) {\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                delete object[property];\n                object[property] = descriptor.value;\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors)\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            if (owns(descriptor, \"get\"))\n                defineGetter(object, property, descriptor.get);\n            if (owns(descriptor, \"set\"))\n                defineSetter(object, property, descriptor.set);\n        }\n\n        return object;\n    };\n}\nif (!Object.defineProperties) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        for (var property in properties) {\n            if (owns(properties, property))\n                Object.defineProperty(object, property, properties[property]);\n        }\n        return object;\n    };\n}\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        return object;\n    };\n}\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        return object;\n    };\n}\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        return object;\n    };\n}\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        if (Object(object) === object) {\n            throw new TypeError(); // TODO message\n        }\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\nif (!Object.keys) {\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim || ws.trim()) {\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        return String(this).replace(trimBeginRegexp, \"\").replace(trimEndRegexp, \"\");\n    };\n}\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\",\"ace/lib/regexp\",\"ace/lib/es5-shim\"], function(acequire, exports, module) {\n\"use strict\";\n\nacequire(\"./regexp\");\nacequire(\"./es5-shim\");\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n\n    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {\n        while (index < sheets.length)\n            if (sheets[index++].owningElement.id === id) return true;\n    } else if ((sheets = doc.getElementsByTagName(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id) return true;\n    }\n\n    return false;\n};\n\nexports.importCssString = function importCssString(cssText, id, doc) {\n    doc = doc || document;\n    if (id && exports.hasCssString(id, doc))\n        return null;\n    \n    var style;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    if (doc.createStyleSheet) {\n        style = doc.createStyleSheet();\n        style.cssText = cssText;\n        if (id)\n            style.owningElement.id = id;\n    } else {\n        style = exports.createElement(\"style\");\n        style.appendChild(doc.createTextNode(cssText));\n        if (id)\n            style.id = id;\n\n        exports.getDocumentHead(doc).appendChild(style);\n    }\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    if (doc.createStyleSheet) {\n        doc.createStyleSheet(uri);\n    } else {\n        var link = exports.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = uri;\n\n        exports.getDocumentHead(doc).appendChild(link);\n    }\n};\n\nexports.getInnerWidth = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingLeft\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingRight\"), 10) + \n        element.clientWidth\n    );\n};\n\nexports.getInnerHeight = function(element) {\n    return (\n        parseInt(exports.computedStyle(element, \"paddingTop\"), 10) +\n        parseInt(exports.computedStyle(element, \"paddingBottom\"), 10) +\n        element.clientHeight\n    );\n};\n\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n    return;\n}\n\nif (window.pageYOffset !== undefined) {\n    exports.getPageScrollTop = function() {\n        return window.pageYOffset;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return window.pageXOffset;\n    };\n}\nelse {\n    exports.getPageScrollTop = function() {\n        return document.body.scrollTop;\n    };\n\n    exports.getPageScrollLeft = function() {\n        return document.body.scrollLeft;\n    };\n}\n\nif (window.getComputedStyle)\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return (window.getComputedStyle(element, \"\") || {})[style] || \"\";\n        return window.getComputedStyle(element, \"\") || {};\n    };\nelse\n    exports.computedStyle = function(element, style) {\n        if (style)\n            return element.currentStyle[style];\n        return element.currentStyle;\n    };\nexports.setInnerHtml = function(el, innerHtml) {\n    var element = el.cloneNode(false);//document.createElement(\"div\");\n    element.innerHTML = innerHtml;\n    el.parentNode.replaceChild(element, el);\n    return element;\n};\n\nif (\"textContent\" in document.documentElement) {\n    exports.setInnerText = function(el, innerText) {\n        el.textContent = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.textContent;\n    };\n}\nelse {\n    exports.setInnerText = function(el, innerText) {\n        el.innerText = innerText;\n    };\n\n    exports.getInnerText = function(el) {\n        return el.innerText;\n    };\n}\n\nexports.getParentWindow = function(document) {\n    return document.defaultView || document.parentWindow;\n};\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\"], function(acequire, exports, module) {\n\"use strict\";\n\nacequire(\"./fixoldbrowsers\");\n\nvar oop = acequire(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nif (typeof navigator != \"object\")\n    return;\n\nvar os = (navigator.platform.match(/mac|win|linux/i) || [\"other\"])[0].toLowerCase();\nvar ua = navigator.userAgent;\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (navigator.appName == \"Microsoft Internet Explorer\" || navigator.appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = (window.Controllers || window.controllers) && window.navigator.product === \"Gecko\";\nexports.isOldGecko = exports.isGecko && parseInt((ua.match(/rv:(\\d+)/)||[])[1], 10) < 4;\nexports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isIPad = ua.indexOf(\"iPad\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\nif (exports.isIOS) exports.isMac = true;\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar keys = acequire(\"./keys\");\nvar useragent = acequire(\"./useragent\");\n\nvar pressedKeys = null;\nvar ts = 0;\n\nexports.addListener = function(elem, type, callback) {\n    if (elem.addEventListener) {\n        return elem.addEventListener(type, callback, false);\n    }\n    if (elem.attachEvent) {\n        var wrapper = function() {\n            callback.call(elem, window.event);\n        };\n        callback._wrapper = wrapper;\n        elem.attachEvent(\"on\" + type, wrapper);\n    }\n};\n\nexports.removeListener = function(elem, type, callback) {\n    if (elem.removeEventListener) {\n        return elem.removeEventListener(type, callback, false);\n    }\n    if (elem.detachEvent) {\n        elem.detachEvent(\"on\" + type, callback._wrapper || callback);\n    }\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n    else\n        e.cancelBubble = true;\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n    else\n        e.returnValue = false;\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    if (e.preventDefault) {\n        return e.button;\n    }\n    else {\n        return {1:0, 2:2, 4:1}[e.button];\n    }\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        exports.removeListener(document, \"mousemove\", eventHandler, true);\n        exports.removeListener(document, \"mouseup\", onMouseUp, true);\n        exports.removeListener(document, \"dragstart\", onMouseUp, true);\n    }\n\n    exports.addListener(document, \"mousemove\", eventHandler, true);\n    exports.addListener(document, \"mouseup\", onMouseUp, true);\n    exports.addListener(document, \"dragstart\", onMouseUp, true);\n    \n    return onMouseUp;\n};\n\nexports.addTouchMoveListener = function (el, callback) {\n    var startx, starty;\n    exports.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        var touchObj = touches[0];\n        startx = touchObj.clientX;\n        starty = touchObj.clientY;\n    });\n    exports.addListener(el, \"touchmove\", function (e) {\n        var touches = e.touches;\n        if (touches.length > 1) return;\n\n        var touchObj = touches[0];\n\n        e.wheelX = startx - touchObj.clientX;\n        e.wheelY = starty - touchObj.clientY;\n\n        startx = touchObj.clientX;\n        starty = touchObj.clientY;\n\n        callback(e);\n    });\n};\n\nexports.addMouseWheelListener = function(el, callback) {\n    if (\"onmousewheel\" in el) {\n        exports.addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        });\n    } else if (\"onwheel\" in el) {\n        exports.addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        });\n    } else {\n        exports.addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        });\n    }\n};\n\nexports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    function onDblclick(e) {\n        clicks = 2;\n        if (timer)\n            clearTimeout(timer);\n        timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n        eventHandler[callbackName](\"mousedown\", e);\n        eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function(el) {\n        exports.addListener(el, \"mousedown\", onMousedown);\n        if (useragent.isOldIE)\n            exports.addListener(el, \"dblclick\", onDblclick);\n    });\n};\n\nvar getModifierHash = useragent.isMac && useragent.isOpera && !(\"KeyboardEvent\" in window)\n    ? function(e) {\n        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);\n    }\n    : function(e) {\n        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n    };\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    if (hashId & 8 && (keyCode >= 91 && keyCode <= 93)) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\n\nexports.addCommandKeyListener = function(el, callback) {\n    var addListener = exports.addListener;\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        });\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        });\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        });\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        });\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        });\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + postMessageId;\n        exports.addListener(win, \"message\", function listener(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                exports.removeListener(win, \"message\", listener);\n                callback();\n            }\n        });\n        win.postMessage(messageName, \"*\");\n    };\n}\n\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return str.replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\nace.define(\"ace/keyboard/textinput_ios\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/keys\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar event = acequire(\"../lib/event\");\nvar useragent = acequire(\"../lib/useragent\");\nvar dom = acequire(\"../lib/dom\");\nvar lang = acequire(\"../lib/lang\");\nvar KEYS = acequire(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\n\nvar TextInput = function(parentNode, host) {\n    var self = this;\n    var text = dom.createElement(\"textarea\");\n    text.className = useragent.isIOS ? \"ace_text-input ace_text-input-ios\" : \"ace_text-input\";\n\n    if (useragent.isTouchPad)\n        text.setAttribute(\"x-palm-disable-auto-cap\", true);\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var PLACEHOLDER = \"\\n aaaa a\\n\";\n\n    var copied = false;\n    var cut = false;\n    var pasted = false;\n    var inComposition = false;\n    var tempStyle = '';\n    var isSelectionEmpty = true;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n\n    event.addListener(text, \"blur\", function(e) {\n        host.onBlur(e);\n        isFocused = false;\n    });\n    event.addListener(text, \"focus\", function(e) {\n        isFocused = true;\n        host.onFocus(e);\n        resetSelection();\n    });\n    this.focus = function() {\n        if (tempStyle) return text.focus();\n        text.style.position = \"fixed\";\n        text.focus();\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    var syncSelection = lang.delayedCall(function() {\n        isFocused && resetSelection(isSelectionEmpty);\n    });\n    var syncValue = lang.delayedCall(function() {\n         if (!inComposition) {\n            text.value = PLACEHOLDER;\n            isFocused && resetSelection();\n         }\n    });\n\n    function resetSelection(isEmpty) {\n        if (inComposition)\n            return;\n        inComposition = true;\n\n        if (inputHandler) {\n            selectionStart = 0;\n            selectionEnd = isEmpty ? 0 : text.value.length - 1;\n        } else {\n            var selectionStart = 4;\n            var selectionEnd = 5;\n        }\n        try {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        } catch(e) {}\n\n        inComposition = false;\n    }\n\n    function resetValue() {\n        if (inComposition)\n            return;\n        text.value = PLACEHOLDER;\n        if (useragent.isWebKit)\n            syncValue.schedule();\n    }\n\n    useragent.isWebKit || host.addEventListener('changeSelection', function() {\n        if (host.selection.isEmpty() != isSelectionEmpty) {\n            isSelectionEmpty = !isSelectionEmpty;\n            syncSelection.schedule();\n        }\n    });\n\n    resetValue();\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n    };\n\n    var onSelect = function(e) {\n        if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (inputHandler) {\n            resetSelection(host.selection.isEmpty());\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n\n    var sendText = function(data) {\n        if (text.selectionStart === 4 && text.selectionEnd === 5) {\n          return;\n        }\n        if (inputHandler) {\n            data = inputHandler(data);\n            inputHandler = null;\n        }\n        if (pasted) {\n            resetSelection();\n            if (data)\n                host.onPaste(data);\n            pasted = false;\n        } else if (data == PLACEHOLDER.substr(0) && text.selectionStart === 4) {\n            if (afterContextMenu)\n                host.execCommand(\"del\", {source: \"ace\"});\n            else // some versions of android do not fire keydown when pressing backspace\n                host.execCommand(\"backspace\", {source: \"ace\"});\n        } else if (!copied) {\n            if (data.substring(0, 9) == PLACEHOLDER && data.length > PLACEHOLDER.length)\n                data = data.substr(9);\n            else if (data.substr(0, 4) == PLACEHOLDER.substr(0, 4))\n                data = data.substr(4, data.length - PLACEHOLDER.length + 1);\n            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            if (data == PLACEHOLDER.charAt(0)) {\n            } else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n\n            if (data)\n                host.onTextInput(data);\n        }\n        if (copied) {\n          copied = false;\n        }\n        if (afterContextMenu)\n            afterContextMenu = false;\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return;\n        var data = text.value;\n        sendText(data);\n        resetValue();\n    };\n\n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            if (useragent.isIOS) {\n                cut = isCut;\n                text.value = \"\\n aa\" + data + \"a a\\n\";\n                text.setSelectionRange(4, 4 + data.length);\n                copied = {\n                    value: data\n                };\n            }\n            isCut ? host.onCut() : host.onCopy();\n            if (!useragent.isIOS) event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetValue();\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n\n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n\n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n\n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n    event.addListener(text, \"select\", onSelect);\n\n    event.addListener(text, \"input\", onInput);\n\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly)\n            return;\n        inComposition = {};\n        inComposition.canUndo = host.session.$undoManager;\n        host.onCompositionStart();\n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", onCompositionEnd);\n        if (inComposition.canUndo && !host.selection.isEmpty()) {\n            host.insert(\"\");\n            host.session.markUndoGroup();\n            host.selection.clearSelection();\n        }\n        host.session.markUndoGroup();\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        var val = text.value.replace(/\\x01/g, \"\");\n        if (inComposition.lastValue === val) return;\n\n        host.onCompositionUpdate(val);\n        if (inComposition.lastValue)\n            host.undo();\n        if (inComposition.canUndo)\n            inComposition.lastValue = val;\n        if (inComposition.lastValue) {\n            var r = host.selection.getRange();\n            host.insert(inComposition.lastValue);\n            host.session.markUndoGroup();\n            inComposition.range = host.selection.getRange();\n            host.selection.setRange(r);\n            host.selection.clearSelection();\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        var c = inComposition;\n        inComposition = false;\n        var timer = setTimeout(function() {\n            timer = null;\n            var str = text.value.replace(/\\x01/g, \"\");\n            if (inComposition)\n                return;\n            else if (str == c.lastValue)\n                resetValue();\n            else if (!c.lastValue && str) {\n                resetValue();\n                sendText(str);\n            }\n        });\n        inputHandler = function compositionInputHandler(str) {\n            if (timer)\n                clearTimeout(timer);\n            str = str.replace(/\\x01/g, \"\");\n            if (str == c.lastValue)\n                return \"\";\n            if (c.lastValue && timer)\n                host.undo();\n            return str;\n        };\n        host.onCompositionEnd();\n        host.removeListener(\"mousedown\", onCompositionEnd);\n        if (e.type == \"compositionend\" && c.range) {\n            host.selection.setRange(c.range);\n        }\n        var needsOnInput =\n            (!!useragent.isChrome && useragent.isChrome >= 53) ||\n            (!!useragent.isWebKit && useragent.isWebKit >= 603);\n\n        if (needsOnInput) {\n          onInput();\n        }\n    };\n\n\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n    if (useragent.isGecko) {\n        event.addListener(text, \"text\", function(){syncComposition.schedule();});\n    } else {\n        event.addListener(text, \"keyup\", function(){syncComposition.schedule();});\n        event.addListener(text, \"keydown\", function(){syncComposition.schedule();});\n    }\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function() {\n        return text;\n    };\n\n    this.setReadOnly = function(readOnly) {\n       text.readOnly = readOnly;\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection(host.selection.isEmpty());\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n\n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + \"height:\" + text.style.height + \";\"\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            text.style.left = e.clientX - left - 2 + \"px\";\n            text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n        };\n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        if (host.renderer.$keepTextAreaAtCursor)\n            host.renderer.$keepTextAreaAtCursor = null;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            if (host.renderer.$keepTextAreaAtCursor == null) {\n                host.renderer.$keepTextAreaAtCursor = true;\n                host.renderer.$moveTextAreaToCursor();\n            }\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    });\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n    event.addListener(text, \"contextmenu\", onContextMenu);\n\n    if (useragent.isIOS) {\n        var typingResetTimeout = null;\n        var typing = false;\n\n        parentNode.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout) clearTimeout(typingResetTimeout);\n            typing = true;\n        });\n\n        parentNode.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        });\n        var detectArrowKeys = function(e) {\n            if (document.activeElement !== text) return;\n            if (typing) return;\n\n            if (cut) {\n                return setTimeout(function () {\n                    cut = false;\n                }, 100);\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            text.setSelectionRange(4, 5);\n            if (selectionStart == selectionEnd) {\n                switch (selectionStart) {\n                    case 0: host.onCommandKey(null, 0, KEYS.up); break;\n                    case 1: host.onCommandKey(null, 0, KEYS.home); break;\n                    case 2: host.onCommandKey(null, MODS.option, KEYS.left); break;\n                    case 4: host.onCommandKey(null, 0, KEYS.left); break;\n                    case 5: host.onCommandKey(null, 0, KEYS.right); break;\n                    case 7: host.onCommandKey(null, MODS.option, KEYS.right); break;\n                    case 8: host.onCommandKey(null, 0, KEYS.end); break;\n                    case 9: host.onCommandKey(null, 0, KEYS.down); break;\n                }\n            } else {\n                switch (selectionEnd) {\n                    case 6: host.onCommandKey(null, MODS.shift, KEYS.right); break;\n                    case 7: host.onCommandKey(null, MODS.shift | MODS.option, KEYS.right); break;\n                    case 8: host.onCommandKey(null, MODS.shift, KEYS.end); break;\n                    case 9: host.onCommandKey(null, MODS.shift, KEYS.down); break;\n                }\n                switch (selectionStart) {\n                    case 0: host.onCommandKey(null, MODS.shift, KEYS.up); break;\n                    case 1: host.onCommandKey(null, MODS.shift, KEYS.home); break;\n                    case 2: host.onCommandKey(null, MODS.shift | MODS.option, KEYS.left); break;\n                    case 3: host.onCommandKey(null, MODS.shift, KEYS.left); break;\n                }\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n};\n\nexports.TextInput = TextInput;\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/keyboard/textinput_ios\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar event = acequire(\"../lib/event\");\nvar useragent = acequire(\"../lib/useragent\");\nvar dom = acequire(\"../lib/dom\");\nvar lang = acequire(\"../lib/lang\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\n\nvar TextInputIOS = acequire(\"./textinput_ios\").TextInput;\nvar TextInput = function(parentNode, host) {\n    if (useragent.isIOS)\n        return TextInputIOS.call(this, parentNode, host);\n\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var PLACEHOLDER = \"\\u2028\\u2028\";\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var tempStyle = '';\n    var isSelectionEmpty = true;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        host.onBlur(e);\n        isFocused = false;\n    });\n    event.addListener(text, \"focus\", function(e) {\n        isFocused = true;\n        host.onFocus(e);\n        resetSelection();\n    });\n    this.focus = function() {\n        if (tempStyle) return text.focus();\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        text.focus();\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    var syncSelection = lang.delayedCall(function() {\n        isFocused && resetSelection(isSelectionEmpty);\n    });\n    var syncValue = lang.delayedCall(function() {\n         if (!inComposition) {\n            text.value = PLACEHOLDER;\n            isFocused && resetSelection();\n         }\n    });\n\n    function resetSelection(isEmpty) {\n        if (inComposition)\n            return;\n        inComposition = true;\n        \n        if (inputHandler) {\n            var selectionStart = 0;\n            var selectionEnd = isEmpty ? 0 : text.value.length - 1;\n        } else {\n            var selectionStart = isEmpty ? 2 : 1;\n            var selectionEnd = 2;\n        }\n        try {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        } catch(e){}\n        \n        inComposition = false;\n    }\n\n    function resetValue() {\n        if (inComposition)\n            return;\n        text.value = PLACEHOLDER;\n        if (useragent.isWebKit)\n            syncValue.schedule();\n    }\n\n    useragent.isWebKit || host.addEventListener('changeSelection', function() {\n        if (host.selection.isEmpty() != isSelectionEmpty) {\n            isSelectionEmpty = !isSelectionEmpty;\n            syncSelection.schedule();\n        }\n    });\n\n    resetValue();\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd === text.value.length;\n    };\n\n    var onSelect = function(e) {\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (inputHandler) {\n            resetSelection(host.selection.isEmpty());\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n    \n    var sendText = function(data) {\n        if (inputHandler) {\n            data = inputHandler(data);\n            inputHandler = null;\n        }\n        if (pasted) {\n            resetSelection();\n            if (data)\n                host.onPaste(data);\n            pasted = false;\n        } else if (data == PLACEHOLDER.charAt(0)) {\n            if (afterContextMenu)\n                host.execCommand(\"del\", {source: \"ace\"});\n            else // some versions of android do not fire keydown when pressing backspace\n                host.execCommand(\"backspace\", {source: \"ace\"});\n        } else {\n            if (data.substring(0, 2) == PLACEHOLDER)\n                data = data.substr(2);\n            else if (data.charAt(0) == PLACEHOLDER.charAt(0))\n                data = data.substr(1);\n            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))\n                data = data.slice(0, -1);\n            \n            if (data)\n                host.onTextInput(data);\n        }\n        if (afterContextMenu)\n            afterContextMenu = false;\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return;\n        var data = text.value;\n        sendText(data);\n        resetValue();\n    };\n    \n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetValue();\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host));\n\n    event.addListener(text, \"select\", onSelect);\n\n    event.addListener(text, \"input\", onInput);\n\n    event.addListener(text, \"cut\", onCut);\n    event.addListener(text, \"copy\", onCopy);\n    event.addListener(text, \"paste\", onPaste);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        });\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        inComposition = {};\n        inComposition.canUndo = host.session.$undoManager;\n        host.onCompositionStart();\n        setTimeout(onCompositionUpdate, 0);\n        host.on(\"mousedown\", onCompositionEnd);\n        if (inComposition.canUndo && !host.selection.isEmpty()) {\n            host.insert(\"\");\n            host.session.markUndoGroup();\n            host.selection.clearSelection();\n        }\n        host.session.markUndoGroup();\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        var val = text.value.replace(/\\u2028/g, \"\");\n        if (inComposition.lastValue === val) return;\n        \n        host.onCompositionUpdate(val);\n        if (inComposition.lastValue)\n            host.undo();\n        if (inComposition.canUndo)\n            inComposition.lastValue = val;\n        if (inComposition.lastValue) {\n            var r = host.selection.getRange();\n            host.insert(inComposition.lastValue);\n            host.session.markUndoGroup();\n            inComposition.range = host.selection.getRange();\n            host.selection.setRange(r);\n            host.selection.clearSelection();\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        var c = inComposition;\n        inComposition = false;\n        var timer = setTimeout(function() {\n            timer = null;\n            var str = text.value.replace(/\\u2028/g, \"\");\n            if (inComposition)\n                return;\n            else if (str == c.lastValue)\n                resetValue();\n            else if (!c.lastValue && str) {\n                resetValue();\n                sendText(str);\n            }\n        });\n        inputHandler = function compositionInputHandler(str) {\n            if (timer)\n                clearTimeout(timer);\n            str = str.replace(/\\u2028/g, \"\");\n            if (str == c.lastValue)\n                return \"\";\n            if (c.lastValue && timer)\n                host.undo();\n            return str;\n        };\n        host.onCompositionEnd();\n        host.removeListener(\"mousedown\", onCompositionEnd);\n        if (e.type == \"compositionend\" && c.range) {\n            host.selection.setRange(c.range);\n        }\n        var needsOnInput =\n            (!!useragent.isChrome && useragent.isChrome >= 53) ||\n            (!!useragent.isWebKit && useragent.isWebKit >= 603);\n\n        if (needsOnInput) {\n          onInput();\n        }\n    };\n    \n    \n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);\n\n    event.addListener(text, \"compositionstart\", onCompositionStart);\n    if (useragent.isGecko) {\n        event.addListener(text, \"text\", function(){syncComposition.schedule();});\n    } else {\n        event.addListener(text, \"keyup\", function(){syncComposition.schedule();});\n        event.addListener(text, \"keydown\", function(){syncComposition.schedule();});\n    }\n    event.addListener(text, \"compositionend\", onCompositionEnd);\n\n    this.getElement = function() {\n        return text;\n    };\n\n    this.setReadOnly = function(readOnly) {\n       text.readOnly = readOnly;\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection(host.selection.isEmpty());\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + \"height:\" + text.style.height + \";\"\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\");\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            text.style.left = e.clientX - left - 2 + \"px\";\n            text.style.top = Math.min(e.clientY - top - 2, maxTop) + \"px\";\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        if (host.renderer.$keepTextAreaAtCursor)\n            host.renderer.$keepTextAreaAtCursor = null;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            if (host.renderer.$keepTextAreaAtCursor == null) {\n                host.renderer.$keepTextAreaAtCursor = true;\n                host.renderer.$moveTextAreaToCursor();\n            }\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    });\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu);\n    event.addListener(text, \"contextmenu\", onContextMenu);\n};\n\nexports.TextInput = TextInput;\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar dom = acequire(\"../lib/dom\");\nvar event = acequire(\"../lib/event\");\nvar useragent = acequire(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 250; // milliseconds\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n    editor.setDefaultHandler(\"touchmove\", this.onTouchMove.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            editor.$blockScrolling++;\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            editor.$blockScrolling--;\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        editor.$blockScrolling++;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n        editor.$blockScrolling--;\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        editor.$blockScrolling++;\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.$blockScrolling--;\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        editor.$blockScrolling++;\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.$blockScrolling--;\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        \n        var editor = this.editor;\n\n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n\n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = ev.wheelX / dt;\n        var vy = ev.wheelY / dt;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n\n        var direction = Math.abs(vx / vy);\n\n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n\n        if (canScroll) {\n            prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.1 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.1 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n\n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n    this.onTouchMove = function(ev) {\n        this.editor._emit(\"mousewheel\", ev);\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar dom = acequire(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        dom.setInnerText(this.getElement(), text);\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n\n    this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(acequire, exports, module) {\n\"use strict\";\nvar dom = acequire(\"../lib/dom\");\nvar oop = acequire(\"../lib/oop\");\nvar event = acequire(\"../lib/event\");\nvar Tooltip = acequire(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.removeEventListener(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    });\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar event = acequire(\"../lib/event\");\nvar useragent = acequire(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar dom = acequire(\"../lib/dom\");\nvar event = acequire(\"../lib/event\");\nvar useragent = acequire(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.addEventListener(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.renderer.$cursorLayer.setBlinking(true);\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler));\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler));\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler));\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.$blockScrolling += 1;\n            editor.moveCursorToPosition(cursor);\n            editor.$blockScrolling -= 1;\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.$blockScrolling += 1;\n        editor.selection.fromOrientedRange(range);\n        editor.$blockScrolling -= 1;\n        if (editor.isFocused() && !isInternal)\n            editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\"use strict\";\nvar dom = acequire(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    callback && this.addEventListener(eventName, function newCallback() {\n        _self.removeEventListener(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        var old = handlers[eventName];\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (this._eventRegistry) this._eventRegistry[eventName] = [];\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"no use strict\";\n\nvar oop = acequire(\"./oop\");\nvar EventEmitter = acequire(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            optionNames = Object.keys(this.$options);\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(acequire, exports, module) {\n\"no use strict\";\n\nvar lang = acequire(\"./lib/lang\");\nvar oop = acequire(\"./lib/oop\");\nvar net = acequire(\"./lib/net\");\nvar AppConfig = acequire(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {}\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    options[key] = value;\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = acequire(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        acequire([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    options.packaged = packaged || acequire.packaged || module.packaged || (global.define && define.packaged);\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n}\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/config\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar event = acequire(\"../lib/event\");\nvar useragent = acequire(\"../lib/useragent\");\nvar DefaultHandlers = acequire(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = acequire(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = acequire(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = acequire(\"./dragdrop_handler\").DragdropHandler;\nvar config = acequire(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"));\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"));\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\");\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"));\n    event.addTouchMoveListener(editor.container, this.onTouchMove.bind(this, \"touchmove\"));\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"));\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"));\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"));\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"));\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor);\n    }\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    });\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.onTouchMove = function (name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = 1;//this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n        this.editor._emit(name, mouseEvent);\n    };\n\n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var renderer = this.editor.renderer;\n        if (renderer.$keepTextAreaAtCursor)\n            renderer.$keepTextAreaAtCursor = null;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            if (renderer.$keepTextAreaAtCursor == null) {\n                renderer.$keepTextAreaAtCursor = true;\n                renderer.$moveTextAreaToCursor();\n            }\n            self.isMousePressed = false;\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar keyUtil  = acequire(\"../lib/keys\");\nvar event = acequire(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        \n        if (!success && hashId == -1) {\n            toExecute = {command: \"insertstring\"};\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        \n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        \n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        this.$callKeyboardHandlers(-1, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\n\nvar impTab_LTR = [\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t0x11,\t\t2,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t],\t[\t0,\t\t3,\t\t0x15,\t\t0x15,\t\t4,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]\n];\n\nvar impTab_RTL = [\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t],\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t0x21,\t\t3,\t\t1,\t\t1\t]\n];\n\nvar LTR = 0, RTL = 1;\n\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\n\nvar UnicodeTBL00 = [\nBN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,\nWS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,\nEN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,\nBN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nCS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,\nET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON\n];\n\nvar UnicodeTBL20 = [\nWS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R\t,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,\nET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS\n];\n\nfunction _computeLevels(chars, levels, len, charTypes) {\n\tvar impTab = dir ? impTab_RTL : impTab_LTR\n\t\t, prevState = null, newClass = null, newLevel = null, newState = 0\n\t\t, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n\n\tif (!charTypes) {\n\t\tfor (i = 0, charTypes = []; i < len; i++) {\n\t\t\tcharTypes[i] = _getCharacterType(chars[i]);\n\t\t}\n\t}\n\thiLevel = dir;\n\tlastArabic = false;\n\thasUBAT_AL = false;\n\thasUBAT_B = false;\n\thasUBAT_S = false;\n\tfor (ix = 0; ix < len; ix++){\n\t\tprevState = newState;\n\t\tclasses[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n\t\tnewState = impTab[prevState][newClass];\n\t\taction = newState & 0xF0;\n\t\tnewState &= 0x0F;\n\t\tlevels[ix] = newLevel = impTab[newState][5];\n\t\tif (action > 0){\n\t\t\tif (action == 0x10){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t} else {\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tcond = impTab[newState][6];\n\t\tif (cond){\n\t\t\tif(condPos == -1){\n\t\t\t\tcondPos = ix;\n\t\t\t}\n\t\t}else{\n\t\t\tif (condPos > -1){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tif (charTypes[ix] == B){\n\t\t\tlevels[ix] = 0;\n\t\t}\n\t\thiLevel |= newLevel;\n\t}\n\tif (hasUBAT_S){\n\t\tfor(i = 0; i < len; i++){\n\t\t\tif(charTypes[i] == S){\n\t\t\t\tlevels[i] = dir;\n\t\t\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\t\t\tif(charTypes[j] == WS){\n\t\t\t\t\t\tlevels[j] = dir;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _invertLevel(lev, levels, _array) {\n\tif (hiLevel < lev){\n\t\treturn;\n\t}\n\tif (lev == 1 && dir == RTL && !hasUBAT_B){\n\t\t_array.reverse();\n\t\treturn;\n\t}\n\tvar len = _array.length, start = 0, end, lo, hi, tmp;\n\twhile(start < len){\n\t\tif (levels[start] >= lev){\n\t\t\tend = start + 1;\n\t\twhile(end < len && levels[end] >= lev){\n\t\t\tend++;\n\t\t}\n\t\tfor(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){\n\t\t\ttmp = _array[lo];\n\t\t\t_array[lo] = _array[hi];\n\t\t\t_array[hi] = tmp;\n\t\t}\n\t\tstart = end;\n\t}\n\tstart++;\n\t}\n}\n\nfunction _getCharClass(chars, types, classes, ix) {\n\tvar cType = types[ix], wType, nType, len, i;\n\tswitch(cType){\n\t\tcase L:\n\t\tcase R:\n\t\t\tlastArabic = false;\n\t\tcase ON:\n\t\tcase AN:\n\t\t\treturn cType;\n\t\tcase EN:\n\t\t\treturn lastArabic ? AN : EN;\n\t\tcase AL:\n\t\t\tlastArabic = true;\n\t\t\thasUBAT_AL = true;\n\t\t\treturn R;\n\t\tcase WS:\n\t\t\treturn ON;\n\t\tcase CS:\n\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t((wType = classes[ix - 1]) != EN && wType != AN) ||\n\t\t\t\t((nType = types[ix + 1]) != EN && nType != AN)){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\tif (lastArabic){nType = AN;}\n\t\t\treturn nType == wType ? nType : ON;\n\t\tcase ES:\n\t\t\twType = ix > 0 ? classes[ix - 1] : B;\n\t\t\tif (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase ET:\n\t\t\tif (ix > 0 && classes[ix - 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\tif (lastArabic){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\ti = ix + 1;\n\t\t\tlen = types.length;\n\t\t\twhile (i < len && types[i] == ET){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len && types[i] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase NSM:\n\t\t\tlen = types.length;\n\t\t\ti = ix + 1;\n\t\t\twhile (i < len && types[i] == NSM){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len){\n\t\t\t\tvar c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n\n\t\t\t\twType = types[i];\n\t\t\t\tif (rtlCandidate && (wType == R || wType == AL)){\n\t\t\t\t\treturn R;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ix < 1 || (wType = types[ix - 1]) == B){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\treturn classes[ix - 1];\n\t\tcase B:\n\t\t\tlastArabic = false;\n\t\t\thasUBAT_B = true;\n\t\t\treturn dir;\n\t\tcase S:\n\t\t\thasUBAT_S = true;\n\t\t\treturn ON;\n\t\tcase LRE:\n\t\tcase RLE:\n\t\tcase LRO:\n\t\tcase RLO:\n\t\tcase PDF:\n\t\t\tlastArabic = false;\n\t\tcase BN:\n\t\t\treturn ON;\n\t}\n}\n\nfunction _getCharacterType( ch ) {\n\tvar uc = ch.charCodeAt(0), hi = uc >> 8;\n\n\tif (hi == 0) {\n\t\treturn ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n\t} else if (hi == 5) {\n\t\treturn (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n\t} else if (hi == 6) {\n\t\tif (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n\t\t\treturn NSM;\n\t\telse if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n\t\t\treturn AN;\n\t\telse if (uc == 0x066A)\n\t\t\treturn ET;\n\t\telse if (/[\\u06f0-\\u06f9]/.test(ch))\n\t\t\treturn EN;\n\t\telse\n\t\t\treturn AL;\n\t} else if (hi == 0x20 && uc <= 0x205F) {\n\t\treturn UnicodeTBL20[uc & 0xFF];\n\t} else if (hi == 0xFE) {\n\t\treturn (uc >= 0xFE70 ? AL : ON);\n\t}\n\treturn ON;\n}\n\nfunction _isArabicDiacritics( ch ) {\n\treturn (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\n\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function(text, textCharTypes, isRtl) {\n\tif (text.length < 2)\n\t\treturn {};\n\n\tvar chars = text.split(\"\"), logicalFromVisual = new Array(chars.length),\n\t\tbidiLevels = new Array(chars.length), levels = [];\n\n\tdir = isRtl ? RTL : LTR;\n\n\t_computeLevels(chars, levels, chars.length, textCharTypes);\n\n\tfor (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);\n\n\t_invertLevel(2, levels, logicalFromVisual);\n\t_invertLevel(1, levels, logicalFromVisual);\n\n\tfor (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n\t\tif (textCharTypes[i] === AN) {\n\t\t\tlevels[i] = exports.AN;\n\t\t} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE)\n\t\t\t|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n\t\t\tlevels[i] = exports.ON_R;\n\t\t} else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n\t\t\tlevels[i - 1] = levels[i] = exports.R_H;\n\t\t\ti++;\n\t\t}\n\t}\n\tif (chars[chars.length - 1] === exports.DOT)\n\t\tlevels[chars.length - 1] = exports.B;\n\n\tfor (var i = 0; i < logicalFromVisual.length; i++) {\n\t\tbidiLevels[i] = levels[logicalFromVisual[i]];\n\t}\n\n\treturn {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};\n};\nexports.hasBidiCharacters = function(text, textCharTypes){\n\tvar ret = false;\n\tfor (var i = 0; i < text.length; i++){\n\t\ttextCharTypes[i] = _getCharacterType(text.charAt(i));\n\t\tif (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL))\n\t\t\tret = true;\n\t}\n\treturn ret;\n};\nexports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n\tfor (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n\t\tif (rowMap.logicalFromVisual[i] == logIdx)\n\t\t\treturn i;\n\t}\n\treturn 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\",\"ace/lib/useragent\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar bidiUtil = acequire(\"./lib/bidiutil\");\nvar lang = acequire(\"./lib/lang\");\nvar useragent = acequire(\"./lib/useragent\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\nvar BidiHandler = function(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.isLastRow = false;\n    this.EOF = \"\\xB6\";\n    this.seenBidi = false;\n};\n\n(function() {\n    this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function(delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        }\n        else {\n            this.currentRow = null;\n        }\n    };\n\n    this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n    };\n\n    this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        }\n\n        return splitIndex;\n    };\n\n    this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n\n        this.wrapIndent = 0;\n        this.isLastRow = (docRow === this.session.getLength() - 1);\n        this.line = this.session.getLine(docRow);\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n\n                if(splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splits.length - 1]) :\n                            this.line.substring(splits[splits.length - 1]);\n                } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n            }\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function(ch, i){\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n    };\n\n    this.updateBidiMap = function() {\n        var textCharTypes = [], endOfLine = this.isLastRow ? this.EOF : this.EOL;\n        var line = this.line + (this.showInvisibles ? endOfLine : bidiUtil.DOT);\n        if (bidiUtil.hasBidiCharacters(line, textCharTypes)) {\n            this.bidiMap = bidiUtil.doBidiReorder(line, textCharTypes, this.isRtlDir);\n        } else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function() {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function(fontMetrics) {\n        if (!this.seenBidi)\n            return;\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = useragent.isChrome ? bidiCharWidth : bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = 0;\n\n        this.currentRow = null;\n    };\n\n    this.getShowInvisibles = function() {\n        return this.showInvisibles;\n    };\n\n    this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n\n    this.setEolChar = function(eolChar) {\n        this.EOL = eolChar;\n    };\n\n    this.setTextDir = function(isRtlDir) {\n        this.isRtlDir = isRtlDir;\n    };\n    this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(col > 0 ? col - 1 : 0, this.bidiMap),\n            levels = this.bidiMap.bidiLevels, left = 0;\n\n        if (col === 0 && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n\n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n\n        if (col !== 0 && levels[visualIdx] % 2 === 0)\n            left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n            left += this.wrapIndent * this.charWidths[bidiUtil.L];\n\n        return left;\n    };\n    this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, offset = this.wrapIndent * this.charWidths[bidiUtil.L], selections = [],\n            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false, isSelectedPrev = false, selectionStart = 0;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            } else if (!isSelected && isSelectedPrev) {\n                selections.push({left: selectionStart, width: offset - selectionStart});\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({left: selectionStart, width: offset - selectionStart});\n        }\n\n        return selections;\n    };\n    this.offsetToCol = function(posX) {\n        var logicalIdx = 0, posX = Math.max(posX, 0),\n            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent) {\n            posX -= this.wrapIndent * this.charWidths[bidiUtil.L];\n        }\n\n        while(posX > offset + charWidth/2) {\n            offset += charWidth;\n            if(visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n\n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){\n            if(posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n\n        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n\n        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        return (logicalIdx + this.wrapIndent);\n    };\n\n}).call(BidiHandler.prototype);\n\nexports.BidiHandler = BidiHandler;\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar lang = acequire(\"./lib/lang\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar Range = acequire(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);\n    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);\n\n    var self = this;\n    this.lead.on(\"change\", function(e) {\n        self._emit(\"changeCursor\");\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.selectionAnchor.on(\"change\", function() {\n        if (!self.$isEmpty)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return (this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        ));\n    };\n    this.isMultiLine = function() {\n        if (this.isEmpty()) {\n            return false;\n        }\n\n        return this.getRange().isMultiLine();\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.anchor.setPosition(row, column);\n\n        if (this.$isEmpty) {\n            this.$isEmpty = false;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        else\n            return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.shiftSelection = function(columns) {\n        if (this.$isEmpty) {\n            this.moveCursorTo(this.lead.row, this.lead.column + columns);\n            return;\n        }\n\n        var anchor = this.getSelectionAnchor();\n        var lead = this.getSelectionLead();\n\n        var isBackwards = this.isBackwards();\n\n        if (!isBackwards || anchor.column !== 0)\n            this.setSelectionAnchor(anchor.row, anchor.column + columns);\n\n        if (isBackwards || lead.column !== 0) {\n            this.$moveSelection(function() {\n                this.moveCursorTo(lead.row, lead.column + columns);\n            });\n        }\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.isEmpty())\n            return Range.fromPoints(lead, lead);\n\n        if (this.isBackwards()) {\n            return Range.fromPoints(lead, anchor);\n        }\n        else {\n            return Range.fromPoints(anchor, lead);\n        }\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        var lastRow = this.doc.getLength() - 1;\n        this.setSelectionAnchor(0, 0);\n        this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        if (reverse) {\n            this.setSelectionAnchor(range.end.row, range.end.column);\n            this.selectTo(range.start.row, range.start.column);\n        } else {\n            this.setSelectionAnchor(range.start.row, range.start.column);\n            this.selectTo(range.end.row, range.end.column);\n        }\n        if (this.getRange().isEmpty())\n            this.$isEmpty = true;\n        this.$desiredColumn = null;\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length-1 == tabSize;\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            } else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            } else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (match = this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        var match;\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (match = this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (match = this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var match, index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (match = this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n\n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            if (this.session.lineWidgets && this.session.lineWidgets[docPos.row]) {\n                if (docPos.row > 0 || rows > 0)\n                    docPos.row++;\n            }\n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start,end);\n        } catch(e) {\n            return Range.fromPoints(start,start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else\n                data = data[0];\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar config = acequire(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\[(?:\\\\.|[^\\]])*?\\]|\\\\.|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n        \n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 2000),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar lang = acequire(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function(x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            if (ignoreCase)\n                a = a.toLowerCase();\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; )\n                keywords[list[i]] = className;\n        });\n        if (Object.getPrototypeOf(keywords)) {\n            keywords.__proto__ = null;\n        }\n        this.$keywordList = Object.keys(keywords);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }\n            : function(value) {return keywords[value] || defaultToken; };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"./range\").Range;\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n    this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n\n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../../lib/oop\");\nvar Behaviour = acequire(\"../behaviour\").Behaviour;\nvar TokenIterator = acequire(\"../../token_iterator\").TokenIterator;\nvar lang = acequire(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar defaultQuotes = {'\"' : '\"', \"'\" : \"'\"};\n\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function(options) {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)\n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n\n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n\n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n\n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && (selected == '\"' || selected == \"'\")) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n\nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\nexports.packages = {};\n\naddUnicodePackage({\n    L:  \"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    Ll: \"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A\",\n    Lu: \"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A\",\n    Lt: \"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC\",\n    Lm: \"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F\",\n    Lo: \"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC\",\n    M:  \"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26\",\n    Mn: \"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26\",\n    Mc: \"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC\",\n    Me: \"0488048906DE20DD-20E020E2-20E4A670-A672\",\n    N:  \"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nd: \"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19\",\n    Nl: \"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF\",\n    No: \"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835\",\n    P:  \"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65\",\n    Pd: \"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D\",\n    Ps: \"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62\",\n    Pe: \"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63\",\n    Pi: \"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20\",\n    Pf: \"00BB2019201D203A2E032E052E0A2E0D2E1D2E21\",\n    Pc: \"005F203F20402054FE33FE34FE4D-FE4FFF3F\",\n    Po: \"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65\",\n    S:  \"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD\",\n    Sm: \"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC\",\n    Sc: \"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6\",\n    Sk: \"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3\",\n    So: \"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD\",\n    Z:  \"002000A01680180E2000-200A20282029202F205F3000\",\n    Zs: \"002000A01680180E2000-200A202F205F3000\",\n    Zl: \"2028\",\n    Zp: \"2029\",\n    C:  \"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF\",\n    Cc: \"0000-001F007F-009F\",\n    Cf: \"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB\",\n    Co: \"E000-F8FF\",\n    Cs: \"D800-DFFF\",\n    Cn: \"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF\"\n});\n\nfunction addUnicodePackage (pack) {\n    var codePoint = /\\w{4}/g;\n    for (var name in pack)\n        exports.packages[name] = pack[name].replace(codePoint, \"\\\\u$&\");\n}\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Tokenizer = acequire(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = acequire(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = acequire(\"../unicode\");\nvar lang = acequire(\"../lib/lang\");\nvar TokenIterator = acequire(\"../token_iterator\").TokenIterator;\nvar Range = acequire(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n};\n\n(function() {\n    this.$defaultBehaviour = new CstyleBehaviour();\n\n    this.tokenRe = new RegExp(\"^[\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]+\", \"g\"\n    );\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\"\n        + unicode.packages.L\n        + unicode.packages.Mn + unicode.packages.Mc\n        + unicode.packages.Nd\n        + unicode.packages.Pc + \"\\\\$_]|\\\\s])+\", \"g\"\n    );\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n                return true;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                this.$embeds.push(i);\n                this.$modes[i] = new mapping[i]();\n            }\n        }\n\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            }(this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0];\n        if (typeof state != \"string\")\n            state = state[0];\n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.removeEventListener(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar applyDelta = acequire(\"./apply_delta\").applyDelta;\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar Range = acequire(\"./range\").Range;\nvar Anchor = acequire(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000)\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        applyDelta(this.$lines, delta, doNotValidate);\n        this._signal(\"change\", delta);\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        var from = 0, to = 0;\n        do {\n            from = to;\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            if (to > l) {\n                delta.lines = chunk;\n                delta.start.row = row + from;\n                delta.start.column = column;\n                break;\n            }\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        } while(true);\n    };\n    this.revertDelta = function(delta) {\n        this.applyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: lines[l-1].length};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {                \n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (endLine == -1)\n            endLine = currentLine;\n\n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar lang = acequire(\"./lib/lang\");\nvar oop = acequire(\"./lib/oop\");\nvar Range = acequire(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\nvar Range = acequire(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        if (delta.action == \"insert\"){\n            var start = delta.start;\n            var end = delta.end;\n        } else {\n            var end = delta.start;\n            var start = delta.end;\n        }\n        var startRow = start.row;\n        var endRow = end.row;\n        var lineDif = endRow - startRow;\n\n        var colDiff = -start.column + end.column;\n        var ranges = this.ranges;\n\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row < startRow)\n                continue;\n            if (r.start.row > startRow)\n                break;\n\n            if (r.start.row == startRow && r.start.column >= start.column ) {\n                if (r.start.column == start.column && this.$insertRight) {\n                } else {\n                    r.start.column += colDiff;\n                    r.start.row += lineDif;\n                }\n            }\n            if (r.end.row == startRow && r.end.column >= start.column) {\n                if (r.end.column == start.column && this.$insertRight) {\n                    continue;\n                }\n                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {                \n                    if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                        r.end.column -= colDiff;\n                }\n                r.end.column += colDiff;\n                r.end.row += lineDif;\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/range_list\",\"ace/lib/oop\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"../range\").Range;\nvar RangeList = acequire(\"../range_list\").RangeList;\nvar oop = acequire(\"../lib/oop\");\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n\n        if (!this.range.containsRange(fold))\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n\n        if (cmp == 0)\n            return afterStart.addSubFold(fold);\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterEnd = this.subFolds[j];\n\n        if (cmp == 0)\n            throw new Error(\"A fold can't intersect already existing fold\" + fold.range + this.range);\n\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"../range\").Range;\nvar FoldLine = acequire(\"./fold_line\").FoldLine;\nvar Fold = acequire(\"./fold\").Fold;\nvar TokenIterator = acequire(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var fold = folds[i];\n            if (fold.range.contains(row, column)) {\n                if (side == 1 && fold.range.isEnd(row, column)) {\n                    continue;\n                } else if (side == -1 && fold.range.isStart(row, column)) {\n                    continue;\n                }\n                return fold;\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            } else if (end >= first){\n                if (start >= first) // fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n        if (!(startRow < endRow || \n            startRow == endRow && startColumn <= endColumn - 2))\n            throw new Error(\"The range has to be at least 2 characters width\");\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            folds.forEach(function(subFold) {\n                fold.addSubFold(subFold);\n            });\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner) {\n            this.removeFolds(folds);\n        } else {\n            var subFolds = folds;\n            while (subFolds.length) {\n                this.expandFolds(subFolds);\n                subFolds = this.getFoldsInRangeList(range);\n            }\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                try {\n                    var fold = this.addFold(\"...\", range);\n                    if (fold)\n                        fold.collapseChildren = depth;\n                } catch(e) {}\n            }\n        }\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\n\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar TokenIterator = acequire(\"../token_iterator\").TokenIterator;\nvar Range = acequire(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column-1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar lang = acequire(\"./lib/lang\");\nvar BidiHandler = acequire(\"./bidihandler\").BidiHandler;\nvar config = acequire(\"./config\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar Selection = acequire(\"./selection\").Selection;\nvar TextMode = acequire(\"./mode/text\").Mode;\nvar Range = acequire(\"./range\").Range;\nvar Document = acequire(\"./document\").Document;\nvar BackgroundTokenizer = acequire(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = acequire(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.$bidiHandler = new BidiHandler(this);\n    this.setDocument(text);\n    this.selection = new Selection(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\nEditSession.$uid = 0;\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager && !delta.ignore) {\n            this.$deltasDoc.push(delta);\n            if (removedFolds && removedFolds.length != 0) {\n                this.$deltasFold.push({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                });\n            }\n\n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        this.$deltas = [];\n        this.$deltasDoc = [];\n        this.$deltasFold = [];\n\n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n\n        if (undoManager) {\n            var self = this;\n\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n\n                if (self.$deltasFold.length) {\n                    self.$deltas.push({\n                        group: \"fold\",\n                        deltas: self.$deltasFold\n                    });\n                    self.$deltasFold = [];\n                }\n\n                if (self.$deltasDoc.length) {\n                    self.$deltas.push({\n                        group: \"doc\",\n                        deltas: self.$deltasDoc\n                    });\n                    self.$deltasDoc = [];\n                }\n\n                if (self.$deltas.length > 0) {\n                    undoManager.execute({\n                        action: \"aceupdate\",\n                        args: [self.$deltas, self],\n                        merge: self.mergeUndoDeltas\n                    });\n                }\n                self.mergeUndoDeltas = false;\n                self.$deltas = [];\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        reset: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        if (marker) {\n            delete (markers[markerId]);\n            this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n        }\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = {};\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.addEventListener !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.addEventListener(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.addEventListener(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\");\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.revertDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, true, lastUndoRange);\n            } else {\n                delta.deltas.forEach(function(foldDelta) {\n                    this.addFolds(foldDelta.folds);\n                }, this);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        var lastUndoRange = null;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.group == \"doc\") {\n                this.doc.applyDeltas(delta.deltas);\n                lastUndoRange =\n                    this.$getUndoSelection(delta.deltas, false, lastUndoRange);\n            }\n        }\n        this.$fromUndo = false;\n        lastUndoRange &&\n            this.$undoSelect &&\n            !dontSelect &&\n            this.selection.setSelectionRange(lastUndoRange);\n        return lastUndoRange;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo, lastUndoRange) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var delta = deltas[0];\n        var range, point;\n        var lastDeltaIsInsert = false;\n        if (isInsert(delta)) {\n            range = Range.fromPoints(delta.start, delta.end);\n            lastDeltaIsInsert = true;\n        } else {\n            range = Range.fromPoints(delta.start, delta.start);\n            lastDeltaIsInsert = false;\n        }\n\n        for (var i = 1; i < deltas.length; i++) {\n            delta = deltas[i];\n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n                lastDeltaIsInsert = true;\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                lastDeltaIsInsert = false;\n            }\n        }\n        if (lastUndoRange != null) {\n            if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {\n                lastUndoRange.start.column += range.end.column - range.start.column;\n                lastUndoRange.end.column += range.end.column - range.start.column;\n            }\n\n            var cmp = lastUndoRange.compareRange(range);\n            if (cmp == 1) {\n                range.setStart(lastUndoRange.start);\n            } else if (cmp == -1) {\n                range.setEnd(lastUndoRange.end);\n            }\n        }\n\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var displayed = tokens.slice(lastSplit, screenPos);\n            var len = displayed.length;\n            displayed.join(\"\")\n                .replace(/12/g, function() {\n                    len -= 1;\n                })\n                .replace(/2/g, function() {\n                    len -= 1;\n                });\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        if (this.lineWidgets)\n            var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - screenColumn % this.$tabSize;\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            \n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            \n            return [screenColumn, column];\n        };\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n    };\n\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    }\n\n}).call(EditSession.prototype);\n\nacequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nacequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$modified = true;\n                    this.$resetRowCache(0);\n                    this.$updateWrapData(0, this.getLength() - 1);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: { initialValue: true },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            if (isNaN(tabSize) || this.$tabSize === tabSize) return;\n\n            this.$modified = true;\n            this.$rowLengthCache = [];\n            this.$tabSize = tabSize;\n            this._signal(\"changeTabSize\");\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: {initialValue: false},\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val);},\n        get: function() {return this.doc.getNewLineMode();},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val); },\n        get: function() { return this.$modeId; }\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar lang = acequire(\"./lib/lang\");\nvar oop = acequire(\"./lib/oop\");\nvar Range = acequire(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)\n            ) {\n                firstRange = null;\n                return false;\n            }\n\n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        return re;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n\n        if (backwards) {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        \n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function(row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0) return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1) return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset) return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function(row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length) break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function(row, startIndex, callback) {\n                var line = session.getLine(row);\n                var m;\n                var last = startIndex;\n                re.lastIndex = startIndex;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row,last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length) return false;\n                    }\n                }\n            };\n        }\n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\n\nexports.Search = Search;\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar keyUtil = acequire(\"../lib/keys\");\nvar useragent = acequire(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position\n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n\n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x;});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar MultiHashHandler = acequire(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n\n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        if (command.isAvailable && !command.isAvailable(editor))\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.removeEventListener(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar lang = acequire(\"../lib/lang\");\nvar config = acequire(\"../config\");\nvar Range = acequire(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor) {\n        var line = parseInt(prompt(\"Enter line number:\"), 10);\n        if (!isNaN(line)) {\n            editor.gotoLine(line);\n        }\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor);});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    bindKey: bindKey(\"Ctrl-P\", \"Ctrl-P\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    bindKey: bindKey(\"Ctrl-Shift-P\", \"Ctrl-Shift-P\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    exec: function(editor) {\n        var range = editor.getSelectionRange();\n        editor._emit(\"cut\", range);\n\n        if (!editor.selection.isEmpty()) {\n            editor.session.remove(range);\n            editor.clearSelection();\n        }\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true);});\n    }\n}, {\n    name: \"undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestarthard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.start.column = 0;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineendhard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.end.column = Number.MAX_VALUE;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"expandtoline\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}];\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\"], function(acequire, exports, module) {\n\"use strict\";\n\nacequire(\"./lib/fixoldbrowsers\");\n\nvar oop = acequire(\"./lib/oop\");\nvar dom = acequire(\"./lib/dom\");\nvar lang = acequire(\"./lib/lang\");\nvar useragent = acequire(\"./lib/useragent\");\nvar TextInput = acequire(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = acequire(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = acequire(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = acequire(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = acequire(\"./edit_session\").EditSession;\nvar Search = acequire(\"./search\").Search;\nvar Range = acequire(\"./range\").Range;\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = acequire(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = acequire(\"./commands/default_commands\").commands;\nvar config = acequire(\"./config\");\nvar TokenIterator = acequire(\"./token_iterator\").TokenIterator;\nvar Editor = function(renderer, session) {\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput  = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n\n    this.$blockScrolling = 0;\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || new EditSession(\"\"));\n    config.resetOptions(this);\n    config._signal(\"editor\", this);\n};\n\nEditor.$uid = 0;\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        function last(a) {return a[a.length - 1];}\n\n        this.selections = [];\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));\n\n        this.on(\"change\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n\n        this.on(\"changeSelection\", function() {\n            this.curOp || this.startOperation();\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commadEvent) {\n        if (this.curOp) {\n            if (!commadEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commadEvent) {\n            this.previousCommand = null;\n            commadEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = {\n            command: commadEvent.command || {},\n            args: commadEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        if (this.curOp.command.name && this.curOp.command.scrollIntoView !== undefined)\n            this.$blockScrolling++;\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp) {\n            if (e && e.returnValue === false)\n                return this.curOp = null;\n            this._signal(\"beforeEndOperation\");\n            var command = this.curOp.command;\n            if (command.name && this.$blockScrolling > 0)\n                this.$blockScrolling--;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            \n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.$blockScrolling += 1;\n            this.onCursorChange();\n            this.$blockScrolling -= 1;\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n\n        if (session && session.bgTokenizer)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container, \"fontSize\");\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.session.$bracketHighlight) {\n            this.session.removeMarker(this.session.$bracketHighlight);\n            this.session.$bracketHighlight = null;\n        }\n\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function() {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            var pos = session.findMatchingBracket(self.getCursorPosition());\n            if (pos) {\n                var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);\n            } else if (session.$mode.getMatching) {\n                var range = session.$mode.getMatching(self.session);\n            }\n            if (range)\n                session.$bracketHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") != -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value == '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n                    \n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                        if (prevToken.value === '<'){\n                            depth++;\n                        } else if (prevToken.value === '</'){\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                        if (prevToken.value === '<') {\n                            depth++;\n                        } else if (prevToken.value === '</') {\n                            depth--;\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (range && !session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n        this.$updateHighlightActiveLine();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n\n        if (!this.$blockScrolling) {\n            config.warn(\"Automatically scrolling cursor into view after selection change\",\n                \"this will be disabled in the next version\",\n                \"set editor.$blockScrolling = Infinity to disable this message\"\n            );\n            this.renderer.scrollCursorIntoView();\n        }\n\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if ((this.$selectionStyle != \"line\" || !this.selection.isMultiLine()))\n                highlight = this.getCursorPosition();\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startOuter = selection.start.column - 1;\n        var endOuter = selection.end.column + 1;\n        var line = session.getLine(selection.start.row);\n        var lineCols = line.length;\n        var needle = line.substring(Math.max(startOuter, 0),\n                                    Math.min(endOuter, lineCols));\n        if ((startOuter >= 0 && /^[\\w\\d]/.test(needle)) ||\n            (endOuter <= lineCols && /[\\w\\d]$/.test(needle)))\n            return;\n\n        needle = line.substring(selection.start.column, selection.end.column);\n        if (!/^[\\w\\d]+$/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n\n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        this._signal(\"copy\", text);\n        return text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            this.insert(text);\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            if (lines.length > ranges.length || lines.length < 2 || !lines[1])\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    this.session.remove(range);\n    \n                this.session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    this.session.mergeUndoDeltas = false;\n                    this.$mergeNextCommand = false;\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        var end = session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n\n        if (session.getDocument().isNewLine(text)) {\n            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n            session.insert({row: cursor.row+1, column: 0}, lineIndent);\n        }\n        if (shouldOutdent)\n            mode.autoOutdent(lineState, session, cursor.row);\n    };\n\n    this.onTextInput = function(text) {\n        this.keyBinding.onTextInput(text);\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(text) {\n        this.renderer.showComposition(this.getCursorPosition());\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        this.$blockScrolling++;\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n        this.$blockScrolling--;\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.$blockScrolling += 1;\n        this.selection.selectAll();\n        this.$blockScrolling -= 1;\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token && token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n\n        this.$blockScrolling += 1;\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n        this.$blockScrolling -= 1;\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n        if (range !== null) {\n            this.selection.setSelectionRange(range);\n            this.renderer.scrollSelectionIntoView(range.start, range.end);\n        }\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        this.$blockScrolling += 1;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n        this.$blockScrolling -= 1;\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.$blockScrolling += 1;\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n        this.$blockScrolling -= 1;\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().undo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.$blockScrolling++;\n        this.session.getUndoManager().redo();\n        this.$blockScrolling--;\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session) {\n            this.session.destroy();\n        }\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val);}\n    },\n    keyboardHandler: {\n        set: function(val) { this.setKeyboardHandler(val); },\n        get: function() { return this.keybindingId; },\n        handlesSet: true\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    showLineNumbers: \"renderer\",\n    showGutter: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\nexports.Editor = Editor;\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\"], function(acequire, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.reset();\n};\n\n(function() {\n    this.execute = function(options) {\n        var deltaSets = options.args[0];\n        this.$doc  = options.args[1];\n        if (options.merge && this.hasUndo()){\n            this.dirtyCounter--;\n            deltaSets = this.$undoStack.pop().concat(deltaSets);\n        }\n        this.$undoStack.push(deltaSets);\n        this.$redoStack = [];\n        if (this.dirtyCounter < 0) {\n            this.dirtyCounter = NaN;\n        }\n        this.dirtyCounter++;\n    };\n    this.undo = function(dontSelect) {\n        var deltaSets = this.$undoStack.pop();\n        var undoSelectionRange = null;\n        if (deltaSets) {\n            undoSelectionRange = this.$doc.undoChanges(deltaSets, dontSelect);\n            this.$redoStack.push(deltaSets);\n            this.dirtyCounter--;\n        }\n\n        return undoSelectionRange;\n    };\n    this.redo = function(dontSelect) {\n        var deltaSets = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        if (deltaSets) {\n            redoSelectionRange =\n                this.$doc.redoChanges(this.$deserializeDeltas(deltaSets), dontSelect);\n            this.$undoStack.push(deltaSets);\n            this.dirtyCounter++;\n        }\n        return redoSelectionRange;\n    };\n    this.reset = function() {\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.dirtyCounter = 0;\n    };\n    this.hasUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.hasRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.markClean = function() {\n        this.dirtyCounter = 0;\n    };\n    this.isClean = function() {\n        return this.dirtyCounter === 0;\n    };\n    this.$serializeDeltas = function(deltaSets) {\n        return cloneDeltaSetsObj(deltaSets, $serializeDelta);\n    };\n    this.$deserializeDeltas = function(deltaSets) {\n        return cloneDeltaSetsObj(deltaSets, $deserializeDelta);\n    };\n    \n    function $serializeDelta(delta){\n        return {\n            action: delta.action,\n            start: delta.start,\n            end: delta.end,\n            lines: delta.lines.length == 1 ? null : delta.lines,\n            text: delta.lines.length == 1 ? delta.lines[0] : null\n        };\n    }\n        \n    function $deserializeDelta(delta) {\n        return {\n            action: delta.action,\n            start: delta.start,\n            end: delta.end,\n            lines: delta.lines || [delta.text]\n        };\n    }\n    \n    function cloneDeltaSetsObj(deltaSets_old, fnGetModifiedDelta) {\n        var deltaSets_new = new Array(deltaSets_old.length);\n        for (var i = 0; i < deltaSets_old.length; i++) {\n            var deltaSet_old = deltaSets_old[i];\n            var deltaSet_new = { group: deltaSet_old.group, deltas: new Array(deltaSet_old.length)};\n            \n            for (var j = 0; j < deltaSet_old.deltas.length; j++) {\n                var delta_old = deltaSet_old.deltas[j];\n                deltaSet_new.deltas[j] = fnGetModifiedDelta(delta_old);\n            }\n            \n            deltaSets_new[i] = deltaSet_new;\n        }\n        return deltaSets_new;\n    }\n    \n}).call(UndoManager.prototype);\n\nexports.UndoManager = UndoManager;\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar dom = acequire(\"../lib/dom\");\nvar oop = acequire(\"../lib/oop\");\nvar lang = acequire(\"../lib/lang\");\nvar EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n\n    this.$cells = [];\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.removeEventListener(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className){\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineNumber = 0;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$cells.length > index + 1) {\n                    cell = this.$cells.pop();\n                    this.element.removeChild(cell.element);\n                }\n                break;\n            }\n\n            cell = this.$cells[++index];\n            if (!cell) {\n                cell = {element: null, textNode: null, foldWidget: null};\n                cell.element = dom.createElement(\"div\");\n                cell.textNode = document.createTextNode('');\n                cell.element.appendChild(cell.textNode);\n                this.element.appendChild(cell.element);\n                this.$cells[index] = cell;\n            }\n\n            var className = \"ace_gutter-cell \";\n            if (breakpoints[row])\n                className += breakpoints[row];\n            if (decorations[row])\n                className += decorations[row];\n            if (this.$annotations[row])\n                className += this.$annotations[row].className;\n            if (cell.element.className != className)\n                cell.element.className = className;\n\n            var height = session.getRowLength(row) * config.lineHeight + \"px\";\n            if (height != cell.element.style.height)\n                cell.element.style.height = height;\n\n            if (foldWidgets) {\n                var c = foldWidgets[row];\n                if (c == null)\n                    c = foldWidgets[row] = session.getFoldWidget(row);\n            }\n\n            if (c) {\n                if (!cell.foldWidget) {\n                    cell.foldWidget = dom.createElement(\"span\");\n                    cell.element.appendChild(cell.foldWidget);\n                }\n                var className = \"ace_fold-widget ace_\" + c;\n                if (c == \"start\" && row == foldStart && row < fold.end.row)\n                    className += \" ace_closed\";\n                else\n                    className += \" ace_open\";\n                if (cell.foldWidget.className != className)\n                    cell.foldWidget.className = className;\n\n                var height = config.lineHeight + \"px\";\n                if (cell.foldWidget.style.height != height)\n                    cell.foldWidget.style.height = height;\n            } else {\n                if (cell.foldWidget) {\n                    cell.element.removeChild(cell.foldWidget);\n                    cell.foldWidget = null;\n                }\n            }\n            \n            var text = lastLineNumber = gutterRenderer\n                ? gutterRenderer.getText(session, row)\n                : row + firstLineNumber;\n            if (text !== cell.textNode.data)\n                cell.textNode.data = text;\n\n            row++;\n        }\n\n        this.element.style.height = config.minHeight + \"px\";\n\n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineNumber = session.getLength() + firstLineNumber;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineNumber, config)\n            : lastLineNumber.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._emit(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return \"\";},\n            getText: function() {return \"\";}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;\n        this.$padding.right = parseInt(style.paddingRight) || 0;\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"../range\").Range;\nvar dom = acequire(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n\n    this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n\n        var html = [];\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + (this.session.$bidiHandler.isBidiRow(range.start.row)\n                    ? this.session.$bidiHandler.getPosLeft(range.start.column)\n                    : range.start.column * config.characterWidth);\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n                    this.drawBidiSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n                } else {\n                    this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n                }\n            }\n        }\n        this.element.innerHTML = html.join(\"\");\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var clazzModified = null;\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            clazzModified = clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end);\n\n            if (this.session.$bidiHandler.isBidiRow(row)) {\n                this.drawBidiSingleLineMarker(stringBuilder, lineRange, clazzModified,\n                    layerConfig, row == end ? 0 : 1, extraStyle);\n            } else {\n                this.drawSingleLineMarker(stringBuilder, lineRange, clazzModified,\n                    layerConfig, row == end ? 0 : 1, extraStyle);\n            }\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height, top, left;\n        extraStyle = extraStyle || \"\";\n       if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n           var range1 = range.clone();\n           range1.end.row = range1.start.row;\n           range1.end.column = this.session.getLine(range1.start.row).length;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        } else {\n           height = config.lineHeight;\n           top = this.$getTop(range.start.row, config);\n           left = padding + range.start.column * config.characterWidth;\n           stringBuilder.push(\n               \"<div class='\", clazz, \" ace_br1 ace_start' style='\",\n               \"height:\", height, \"px;\",\n               \"right:0;\",\n               \"top:\", top, \"px;\",\n               \"left:\", left, \"px;\", extraStyle, \"'></div>\"\n           );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n           var range1 = range.clone();\n           range1.start.row = range1.end.row;\n           range1.start.column = 0;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        } else {\n           var width = range.end.column * config.characterWidth;\n           height = config.lineHeight;\n           top = this.$getTop(range.end.row, config);\n           stringBuilder.push(\n               \"<div class='\", clazz, \" ace_br12' style='\",\n               \"height:\", height, \"px;\",\n               \"width:\", width, \"px;\",\n               \"top:\", top, \"px;\",\n               \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n           );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        stringBuilder.push(\n            \"<div class='\", clazz, (radiusClass ? \" ace_br\" + radiusClass : \"\"), \"' style='\",\n            \"height:\", height, \"px;\",\n            \"right:0;\",\n            \"top:\", top, \"px;\",\n            \"left:\", padding, \"px;\", extraStyle, \"'></div>\"\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"width:\", width, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:\", left, \"px;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n        selections.forEach(function(selection) {\n            stringBuilder.push(\n                \"<div class='\", clazz, \"' style='\",\n                \"height:\", height, \"px;\",\n                \"width:\", selection.width + (extraLength || 0), \"px;\",\n                \"top:\", top, \"px;\",\n                \"left:\", padding + selection.left, \"px;\", extraStyle || \"\", \"'></div>\"\n            );\n        });\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        stringBuilder.push(\n            \"<div class='\", clazz, \"' style='\",\n            \"height:\", height, \"px;\",\n            \"top:\", top, \"px;\",\n            \"left:0;right:0;\", extraStyle || \"\", \"'></div>\"\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar dom = acequire(\"../lib/dom\");\nvar lang = acequire(\"../lib/lang\");\nvar useragent = acequire(\"../lib/useragent\");\nvar EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n\n    this.$updateEolChar = function() {\n        var EOL_CHAR = this.session.doc.getNewLineCharacter() == \"\\n\"\n           ? this.EOL_CHAR_LF\n           : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.padding = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showInvisibles) {\n                tabStr.push(\"<span class='ace_invisible ace_invisible_tab'>\"\n                    + lang.stringRepeat(this.TAB_CHAR, i)\n                    + \"</span>\");\n            } else {\n                tabStr.push(lang.stringRepeat(\" \", i));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = \"\";\n            var tabClass = \"\";\n            if (this.showInvisibles) {\n                className += \" ace_invisible\";\n                spaceClass = \" ace_invisible_space\";\n                tabClass = \" ace_invisible_tab\";\n                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);\n                var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);\n            } else{\n                var spaceContent = lang.stringRepeat(\" \", this.tabSize);\n                var tabContent = spaceContent;\n            }\n\n            this.$tabStrings[\" \"] = \"<span class='\" + className + spaceClass + \"'>\" + spaceContent + \"</span>\";\n            this.$tabStrings[\"\\t\"] = \"<span class='\" + className + tabClass + \"'>\" + tabContent + \"</span>\";\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            this.scrollLines(config);\n        }\n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                var html = [];\n                this.$renderLine(\n                    html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false\n                );\n                lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n                lineElement.innerHTML = html.join(\"\");\n            }\n            row++;\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        var el = this.element;\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                el.removeChild(el.firstChild);\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                el.removeChild(el.lastChild);\n\n        if (config.firstRow < oldConfig.firstRow) {\n            var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);\n            if (el.firstChild)\n                el.insertBefore(fragment, el.firstChild);\n            else\n                el.appendChild(fragment);\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);\n            el.appendChild(fragment);\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = this.element.ownerDocument.createDocumentFragment();\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var container = dom.createElement(\"div\");\n\n            var html = [];\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n            container.innerHTML = html.join(\"\");\n            if (this.$useLineGroups()) {\n                container.className = 'ace_line_group';\n                fragment.appendChild(container);\n                container.style.height = config.lineHeight * this.session.getRowLength(row) + \"px\";\n\n            } else {\n                while(container.firstChild)\n                    fragment.appendChild(container.firstChild);\n            }\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var html = [];\n        var firstRow = config.firstRow, lastRow = config.lastRow;\n\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            if (this.$useLineGroups())\n                html.push(\"<div class='ace_line_group' style='height:\", config.lineHeight*this.session.getRowLength(row), \"px'>\");\n\n            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups())\n                html.push(\"</div>\"); // end the line group\n\n            row++;\n        }\n        this.element.innerHTML = html.join(\"\");\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(stringBuilder, screenColumn, token, value) {\n        var self = this;\n        var replaceReg = /\\t|&|<|>|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF\\uFFF9-\\uFFFC])|[\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3000-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n        var replaceFunc = function(c, a, b, tabIdx, idx4) {\n            if (a) {\n                return self.showInvisibles\n                    ? \"<span class='ace_invisible ace_invisible_space'>\" + lang.stringRepeat(self.SPACE_CHAR, c.length) + \"</span>\"\n                    : c;\n            } else if (c == \"&\") {\n                return \"&#38;\";\n            } else if (c == \"<\") {\n                return \"&#60;\";\n            } else if (c == \">\") {\n                return \"&#62;\";\n            } else if (c == \"\\t\") {\n                var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);\n                screenColumn += tabSize - 1;\n                return self.$tabStrings[tabSize];\n            } else if (c == \"\\u3000\") {\n                var classToUse = self.showInvisibles ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                var space = self.showInvisibles ? self.SPACE_CHAR : \"\";\n                screenColumn += 1;\n                return \"<span class='\" + classToUse + \"' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + space + \"</span>\";\n            } else if (b) {\n                return \"<span class='ace_invisible ace_invisible_space ace_invalid'>\" + self.SPACE_CHAR + \"</span>\";\n            } else {\n                screenColumn += 1;\n                return \"<span class='ace_cjk' style='width:\" +\n                    (self.config.characterWidth * 2) +\n                    \"px'>\" + c + \"</span>\";\n            }\n        };\n\n        var output = value.replace(replaceReg, replaceFunc);\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var style = \"\";\n            if (token.type == \"fold\")\n                style = \" style='width:\" + (token.value.length * this.config.characterWidth) + \"px;' \";\n            stringBuilder.push(\"<span class='\", classes, \"'\", style, \">\", output, \"</span>\");\n        }\n        else {\n            stringBuilder.push(output);\n        }\n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(stringBuilder, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\" \"], cols/this.tabSize));\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            stringBuilder.push(lang.stringRepeat(this.$tabStrings[\"\\t\"], cols));\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$renderWrappedLine = function(stringBuilder, tokens, splits, onlyContents) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(stringBuilder, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    if (!onlyContents) {\n                        stringBuilder.push(\"</div>\",\n                            \"<div class='ace_line' style='height:\",\n                            this.config.lineHeight, \"px'>\"\n                        );\n                    }\n\n                    stringBuilder.push(lang.stringRepeat(\"\\xa0\", splits.indent));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        stringBuilder, screenColumn, token, value\n                    );\n                }\n            }\n        }\n    };\n\n    this.$renderSimpleLine = function(stringBuilder, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(stringBuilder, value);\n        if (value)\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);\n        }\n    };\n    this.$renderLine = function(stringBuilder, row, onlyContents, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n\n        if (!onlyContents) {\n            stringBuilder.push(\n                \"<div class='ace_line' style='height:\", \n                    this.config.lineHeight * (\n                        this.$useLineGroups() ? 1 :this.session.getRowLength(row)\n                    ), \"px'>\"\n            );\n        }\n\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length)\n                this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);\n            else\n                this.$renderSimpleLine(stringBuilder, tokens);\n        }\n\n        if (this.showInvisibles) {\n            if (foldLine)\n                row = foldLine.end.row;\n\n            stringBuilder.push(\n                \"<span class='ace_invisible ace_invisible_eol'>\",\n                row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,\n                \"</span>\"\n            );\n        }\n        if (!onlyContents)\n            stringBuilder.push(\"</div>\");\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$measureNode)\n            this.$measureNode.parentNode.removeChild(this.$measureNode);\n        delete this.$measureNode;\n    };\n\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar dom = acequire(\"../lib/dom\");\nvar isIE8;\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    if (isIE8 === undefined)\n        isIE8 = !(\"opacity\" in this.element.style);\n\n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = (isIE8\n        ? this.$updateVisibility\n        : this.$updateOpacity).bind(this);\n};\n\n(function() {\n    \n    this.$updateVisibility = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.visibility = val ? \"\" : \"hidden\";\n    };\n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.opacity = val ? \"\" : \"0\";\n    };\n    \n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking){\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval){\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking && !isIE8) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.$updateCursors = (this.$updateOpacity).bind(this);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible)\n            return;\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        var blink = function(){\n            this.timeoutId = setTimeout(function() {\n                update(false);\n            }, 0.6 * this.blinkInterval);\n        }.bind(this);\n\n        this.intervalId = setInterval(function() {\n            update(true);\n            blink();\n        }, this.blinkInterval);\n\n        blink();\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var style = (this.cursors[cursorIndex++] || this.addCursor()).style;\n            \n            if (!this.drawCursor) {\n                style.left = pixelPos.left + \"px\";\n                style.top = pixelPos.top + \"px\";\n                style.width = config.characterWidth + \"px\";\n                style.height = config.lineHeight + \"px\";\n            } else {\n                this.drawCursor(style, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar dom = acequire(\"./lib/dom\");\nvar event = acequire(\"./lib/event\");\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight =\n    this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar event = acequire(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.window = win || window;\n};\n\n(function() {\n\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (!this.pending && this.changes) {\n            this.pending = true;\n            var _self = this;\n            event.nextFrame(function() {\n                _self.pending = false;\n                var changes;\n                while (changes = _self.changes) {\n                    _self.changes = 0;\n                    _self.onRender(changes);\n                }\n            }, this.window);\n        }\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\nvar oop = acequire(\"../lib/oop\");\nvar dom = acequire(\"../lib/dom\");\nvar lang = acequire(\"../lib/lang\");\nvar useragent = acequire(\"../lib/useragent\");\nvar EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 0;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    if (!CHAR_COUNT)\n        this.$testFractionalRect();\n    this.$measureNode.innerHTML = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$testFractionalRect = function() {\n        var el = dom.createElement(\"div\");\n        this.$setMeasureNodeStyles(el.style);\n        el.style.width = \"0.2px\";\n        document.documentElement.appendChild(el);\n        var w = el.getBoundingClientRect().width;\n        if (w > 0 && w < 1)\n            CHAR_COUNT = 50;\n        else\n            CHAR_COUNT = 100;\n        el.parentNode.removeChild(el);\n    };\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function() {\n        var size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        return this.$pollSizeChangesTimer = setInterval(function() {\n            self.checkForSizeChanges();\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function() {\n        if (CHAR_COUNT === 50) {\n            var rect = null;\n            try { \n               rect = this.$measureNode.getBoundingClientRect();\n            } catch(e) {\n               rect = {width: 0, height:0 };\n            }\n            var size = {\n                height: rect.height,\n                width: rect.width / CHAR_COUNT\n            };\n        } else {\n            var size = {\n                height: this.$measureNode.clientHeight,\n                width: this.$measureNode.clientWidth / CHAR_COUNT\n            };\n        }\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/lib/useragent\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar dom = acequire(\"./lib/dom\");\nvar config = acequire(\"./config\");\nvar useragent = acequire(\"./lib/useragent\");\nvar GutterLayer = acequire(\"./layer/gutter\").Gutter;\nvar MarkerLayer = acequire(\"./layer/marker\").Marker;\nvar TextLayer = acequire(\"./layer/text\").Text;\nvar CursorLayer = acequire(\"./layer/cursor\").Cursor;\nvar HScrollBar = acequire(\"./scrollbar\").HScrollBar;\nvar VScrollBar = acequire(\"./scrollbar\").VScrollBar;\nvar RenderLoop = acequire(\"./renderloop\").RenderLoop;\nvar FontMetrics = acequire(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \".ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ntext-indent: -1em;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: inherit;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\ntext-indent: 0;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\n-webkit-transition: opacity 0.18s;\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\n-moz-box-sizing: border-box;\\\n-webkit-box-sizing: border-box;\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\n-webkit-transition: opacity 0.4s ease 0.05s;\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\n-webkit-transition: opacity 0.05s ease 0.05s;\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_text-input-ios {\\\nposition: absolute !important;\\\ntop: -100000px !important;\\\nleft: -100000px !important;\\\n}\\\n\";\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n    this.$keepTextAreaAtCursor = !useragent.isOldIE;\n\n    dom.addCssClass(this.container, \"ace_editor\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.addEventListener(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.addEventListener(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._emit(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            this.scrollBarH.element.style.left = \n            this.scroller.style.left = gutterWidth + \"px\";\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());           \n            \n            this.scrollBarH.element.style.right = \n            this.scroller.style.right = this.scrollBarV.getWidth() + \"px\";\n            this.scroller.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force)\n                changes |= this.CHANGE_FULL;\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function() {\n        var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n            this.$loop.schedule(this.CHANGE_MARKER);\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updateGutterLineHighlight = function() {\n        var pos = this.$cursorLayer.$pixelPos;\n        var height = this.layerConfig.lineHeight;\n        if (this.session.getUseWrapMode()) {\n            var cursor = this.session.selection.getCursor();\n            cursor.column = 0;\n            pos = this.$cursorLayer.getPixelPosition(cursor, true);\n            height *= this.session.getRowLength(cursor.row);\n        }\n        this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + \"px\";\n        this.$gutterLineHighlight.style.height = height + \"px\";\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = ((this.characterWidth * this.$printMarginColumn) + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (!this.$keepTextAreaAtCursor)\n            return;\n        var config = this.layerConfig;\n        var posTop = this.$cursorLayer.$pixelPos.top;\n        var posLeft = this.$cursorLayer.$pixelPos.left;\n        posTop -= config.offset;\n\n        var style = this.textarea.style;\n        var h = this.lineHeight;\n        if (posTop < 0 || posTop > config.height - h) {\n            style.top = style.left = \"0\";\n            return;\n        }\n\n        var w = this.characterWidth;\n        if (this.$composition) {\n            var val = this.textarea.value.replace(/^\\x01+/, \"\");\n            w *= (this.session.$getStringScreenWidth(val)[0]+2);\n            h += 2;\n        }\n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth;\n        style.height = h + \"px\";\n        style.width = w + \"px\";\n        style.left = Math.min(posLeft, this.$size.scrollerWidth - w) + \"px\";\n        style.top = Math.min(posTop, this.$size.height - h) + \"px\";\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\");\n\n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            this.$gutterLayer.element.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.marginTop = (-config.offset) + \"px\";\n            this.content.style.width = config.width + 2 * this.$padding + \"px\";\n            this.content.style.height = config.minHeight + \"px\";\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            this.content.style.marginLeft = -this.scrollLeft + \"px\";\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this._signal(\"afterRender\");\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\");\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this.$highlightGutterLine && this.$updateGutterLineHighlight();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\");\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight,\n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        var vScroll = height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var offset = this.scrollTop % this.lineHeight;\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height : this.$size.scrollerHeight\n        };\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n\n        var col = Math.round(offsetX / this.characterWidth);\n\n        var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n             ? this.session.$bidiHandler.getPosLeft(pos.column)\n             : Math.round(pos.column * this.characterWidth));\n\n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(position) {\n        if (!this.$composition)\n            this.$composition = {\n                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,\n                cssText: this.textarea.style.cssText\n            };\n\n        this.$keepTextAreaAtCursor = true;\n        dom.addCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = \"\";\n        this.$moveTextAreaToCursor();\n    };\n    this.setCompositionText = function(text) {\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;\n        this.textarea.style.cssText = this.$composition.cssText;\n        this.$composition = null;\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container.ownerDocument\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        if (this.scroller.style.cursor != style)\n            this.scroller.style.cursor = style;\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        this.scroller.style.cursor = cursorStyle;\n    };\n    this.destroy = function() {\n        this.$textLayer.destroy();\n        this.$cursorLayer.destroy();\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {this.$gutterLayer.setShowFoldWidgets(show);},\n        initialValue: true\n    },\n    showLineNumbers: {\n        set: function(show) {\n            this.$gutterLayer.setShowLineNumbers(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            if (!this.$gutterLineHighlight) {\n                this.$gutterLineHighlight = dom.createElement(\"div\");\n                this.$gutterLineHighlight.className = \"ace_gutter-active-line\";\n                this.$gutter.appendChild(this.$gutterLineHighlight);\n                return;\n            }\n\n            this.$gutterLineHighlight.style.display = shouldHighlight ? \"\" : \"none\";\n            if (this.$cursorLayer.$pixelPos)\n                this.$updateGutterLineHighlight();\n        },\n        initialValue: false,\n        value: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize:  {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function(val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val); },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar net = acequire(\"../lib/net\");\nvar EventEmitter = acequire(\"../lib/event_emitter\").EventEmitter;\nvar config = acequire(\"../config\");\n\nfunction $workerBlob(workerUrl, mod) {\n    var script = mod.src;\"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl, mod) {\n    var blob = $workerBlob(workerUrl, mod);\n    var URL = window.URL || window.webkitURL;\n    var blobURL = URL.createObjectURL(blob);\n    return new Worker(blobURL);\n}\n\nvar WorkerClient = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n    if (acequire.nameToUrl && !acequire.toUrl)\n        acequire.toUrl = acequire.nameToUrl;\n    \n    if (config.get(\"packaged\") || !acequire.toUrl) {\n        workerUrl = workerUrl || config.moduleUrl(mod.id, \"worker\");\n    } else {\n        var normalizePath = this.$normalizePath;\n        workerUrl = workerUrl || normalizePath(acequire.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n        var tlns = {};\n        topLevelNamespaces.forEach(function(ns) {\n            tlns[ns] = normalizePath(acequire.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n        });\n    }\n\n    this.$worker = createWorker(workerUrl, mod);\n    if (importScripts) {\n        this.send(\"importScripts\", importScripts);\n    }\n    this.$worker.postMessage({\n        init : true,\n        tlns : tlns,\n        module : mod.id,\n        classname : classname\n    });\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.callbackId = 1;\n    this.callbacks = {};\n    this.messageBuffer = [];\n\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n    var _self = this;\n\n    this.$worker = {};\n    this.$worker.terminate = function() {};\n    this.$worker.postMessage = function(e) {\n        _self.messageBuffer.push(e);\n        if (main) {\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    };\n    this.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = _self.messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        _self.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (_self.messageBuffer.length)\n            processNext();\n    });\n};\n\nUIWorkerClient.prototype = WorkerClient.prototype;\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"./range\").Range;\nvar EventEmitter = acequire(\"./lib/event_emitter\").EventEmitter;\nvar oop = acequire(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n            \n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        \n        this.updateAnchors(delta);\n        \n        if (inMainRange)\n            this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            } else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        \n        this.$updating = false;\n        this.updateMarkers();\n    };\n    \n    this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    \n    this.updateMarkers = function() {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.removeEventListener(\"change\", this.$onUpdate);\n        this.session.selection.removeEventListener(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(acequire, exports, module) {\n\nvar event = acequire(\"../lib/event\");\nvar useragent = acequire(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        \n        editor.$blockScrolling++;\n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.$blockScrolling--;\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.$blockScrolling++;\n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n            editor.$blockScrolling--;\n        };\n        editor.$blockScrolling++;\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        editor.$blockScrolling--;\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            editor.$blockScrolling++;\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n            editor.$blockScrolling--;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(acequire, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"splitIntoLines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}\n}];\n\nvar HashHandler = acequire(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(acequire, exports, module) {\n\nvar RangeList = acequire(\"./range_list\").RangeList;\nvar Range = acequire(\"./range\").Range;\nvar Selection = acequire(\"./selection\").Selection;\nvar onMouseDown = acequire(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = acequire(\"./lib/event\");\nvar lang = acequire(\"./lib/lang\");\nvar commands = acequire(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = acequire(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = acequire(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n        else if(this.ranges[0])\n            this.fromOrientedRange(this.ranges[0]);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n\n    this.splitIntoLines = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var range = this.getRange();\n            var isBackwards = this.isBackwards();\n            var startRow = range.start.row;\n            var endRow = range.end.row;\n            if (startRow == endRow) {\n                if (isBackwards)\n                    var start = range.end, end = range.start;\n                else\n                    var start = range.start, end = range.end;\n                \n                this.addRange(Range.fromPoints(end, end));\n                this.addRange(Range.fromPoints(start, start));\n                return;\n            }\n\n            var rectSel = [];\n            var r = this.getLineRange(startRow, true);\n            r.start.column = range.start.column;\n            rectSel.push(r);\n\n            for (var i = startRow + 1; i < endRow; i++)\n                rectSel.push(this.getLineRange(i, true));\n\n            r = this.getLineRange(endRow, true);\n            r.end.column = range.end.column;\n            rectSel.push(r);\n\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.selectionLead);\n            var anchor = this.session.documentToScreenPosition(this.selectionAnchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),\n                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                var docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = acequire(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        this.$blockScrolling += 1;\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        this.$blockScrolling -= 1;\n\n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.$blockScrolling += 1;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.$blockScrolling -= 1;\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW, \" \")\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    });\n\n    event.addListener(el, \"keyup\", reset);\n    event.addListener(el, \"blur\", reset);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nacequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar Range = acequire(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel)\n                break;\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\n\nvar dom = acequire(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"./lib/oop\");\nvar dom = acequire(\"./lib/dom\");\nvar Range = acequire(\"./range\").Range;\n\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            } else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    \n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.addLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n            \n        this.session.lineWidgets[w.row] = w;\n        \n        w.session = this.session;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n        }\n        \n        if (!w.coverGutter) {\n            w.el.style.zIndex = 3;\n        }\n        if (w.pixelHeight == null) {\n            w.pixelHeight = w.el.offsetHeight;\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        \n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n            \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            } else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.session != this.session) continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            \n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            \n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(acequire, exports, module) {\n\"use strict\";\nvar LineWidgets = acequire(\"../line_widgets\").LineWidgets;\nvar dom = acequire(\"../lib/dom\");\nvar Range = acequire(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(acequire, exports, module) {\n\"use strict\";\n\nacequire(\"./lib/fixoldbrowsers\");\n\nvar dom = acequire(\"./lib/dom\");\nvar event = acequire(\"./lib/event\");\n\nvar Editor = acequire(\"./editor\").Editor;\nvar EditSession = acequire(\"./edit_session\").EditSession;\nvar UndoManager = acequire(\"./undomanager\").UndoManager;\nvar Renderer = acequire(\"./virtual_renderer\").VirtualRenderer;\nacequire(\"./worker/worker_client\");\nacequire(\"./keyboard/hash_handler\");\nacequire(\"./placeholder\");\nacequire(\"./multi_select\");\nacequire(\"./mode/folding/fold_mode\");\nacequire(\"./theme/textmate\");\nacequire(\"./ext/error_marker\");\n\nexports.config = acequire(\"./config\");\nexports.acequire = acequire;\n\nif (typeof define === \"function\")\n    exports.define = define;\nexports.edit = function(el) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = dom.getInnerText(el);\n        el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el));\n    editor.setSession(doc);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.version = \"1.2.9\";\n});\n            (function() {\n                ace.acequire([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                });\n            })();\n        \nmodule.exports = window.ace.acequire(\"ace/ace\");\n\n\n// WEBPACK FOOTER //\n// ./~/brace/index.js","ace.define(\"ace/mode/doc_comment_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text_highlight_rules\"], function(acequire, exports, module) {\n\"use strict\";\n\nvar oop = acequire(\"../lib/oop\");\nvar TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n\nvar DocCommentHighlightRules = function() {\n    this.$rules = {\n        \"start\" : [ {\n            token : \"comment.doc.tag\",\n            regex : \"@[\\\\w\\\\d_]+\" // TODO: fix email addresses\n        }, \n        DocCommentHighlightRules.getTagRule(),\n        {\n            defaultToken : \"comment.doc\",\n            caseInsensitive: true\n        }]\n    };\n};\n\noop.inherits(DocCommentHighlightRules, TextHighlightRules);\n\nDocCommentHighlightRules.getTagRule = function(start) {\n    return {\n        token : \"comment.doc.tag.storage.type\",\n        regex : \"\\\\b(?:TODO|FIXME|XXX|HACK)\\\\b\"\n    };\n};\n\nDocCommentHighlightRules.getStartRule = function(start) {\n    return {\n        token : \"comment.doc\", // doc comment\n        regex : \"\\\\/\\\\*(?=\\\\*)\",\n        next  : start\n    };\n};\n\nDocCommentHighlightRules.getEndRule = function (start) {\n    return {\n        token : \"comment.doc\", // closing comment\n        regex : \"\\\\*\\\\/\",\n        next  : start\n    };\n};\n\n\nexports.DocCommentHighlightRules = DocCommentHighlightRules;\n\n});\n\nace.define(\"ace/mode/mysql_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/mode/doc_comment_highlight_rules\",\"ace/mode/text_highlight_rules\"], function(acequire, exports, module) {\n\nvar oop = acequire(\"../lib/oop\");\nvar lang = acequire(\"../lib/lang\");\nvar DocCommentHighlightRules = acequire(\"./doc_comment_highlight_rules\").DocCommentHighlightRules;\nvar TextHighlightRules = acequire(\"./text_highlight_rules\").TextHighlightRules;\n\nvar MysqlHighlightRules = function() {\n\n    var mySqlKeywords = /*sql*/ \"alter|and|as|asc|between|count|create|delete|desc|distinct|drop|from|having|in|insert|into|is|join|like|not|on|or|order|select|set|table|union|update|values|where\" + \"|accessible|action|add|after|algorithm|all|analyze|asensitive|at|authors|auto_increment|autocommit|avg|avg_row_length|before|binary|binlog|both|btree|cache|call|cascade|cascaded|case|catalog_name|chain|change|changed|character|check|checkpoint|checksum|class_origin|client_statistics|close|coalesce|code|collate|collation|collations|column|columns|comment|commit|committed|completion|concurrent|condition|connection|consistent|constraint|contains|continue|contributors|convert|cross|current_date|current_time|current_timestamp|current_user|cursor|data|database|databases|day_hour|day_microsecond|day_minute|day_second|deallocate|dec|declare|default|delay_key_write|delayed|delimiter|des_key_file|describe|deterministic|dev_pop|dev_samp|deviance|directory|disable|discard|distinctrow|div|dual|dumpfile|each|elseif|enable|enclosed|end|ends|engine|engines|enum|errors|escape|escaped|even|event|events|every|execute|exists|exit|explain|extended|fast|fetch|field|fields|first|flush|for|force|foreign|found_rows|full|fulltext|function|general|global|grant|grants|group|groupby_concat|handler|hash|help|high_priority|hosts|hour_microsecond|hour_minute|hour_second|if|ignore|ignore_server_ids|import|index|index_statistics|infile|inner|innodb|inout|insensitive|insert_method|install|interval|invoker|isolation|iterate|key|keys|kill|language|last|leading|leave|left|level|limit|linear|lines|list|load|local|localtime|localtimestamp|lock|logs|low_priority|master|master_heartbeat_period|master_ssl_verify_server_cert|masters|match|max|max_rows|maxvalue|message_text|middleint|migrate|min|min_rows|minute_microsecond|minute_second|mod|mode|modifies|modify|mutex|mysql_errno|natural|next|no|no_write_to_binlog|offline|offset|one|online|open|optimize|option|optionally|out|outer|outfile|pack_keys|parser|partition|partitions|password|phase|plugin|plugins|prepare|preserve|prev|primary|privileges|procedure|processlist|profile|profiles|purge|query|quick|range|read|read_write|reads|real|rebuild|recover|references|regexp|relaylog|release|remove|rename|reorganize|repair|repeatable|replace|acequire|resignal|restrict|resume|return|returns|revoke|right|rlike|rollback|rollup|row|row_format|rtree|savepoint|schedule|schema|schema_name|schemas|second_microsecond|security|sensitive|separator|serializable|server|session|share|show|signal|slave|slow|smallint|snapshot|soname|spatial|specific|sql|sql_big_result|sql_buffer_result|sql_cache|sql_calc_found_rows|sql_no_cache|sql_small_result|sqlexception|sqlstate|sqlwarning|ssl|start|starting|starts|status|std|stddev|stddev_pop|stddev_samp|storage|straight_join|subclass_origin|sum|suspend|table_name|table_statistics|tables|tablespace|temporary|terminated|to|trailing|transaction|trigger|triggers|truncate|uncommitted|undo|uninstall|unique|unlock|upgrade|usage|use|use_frm|user|user_resources|user_statistics|using|utc_date|utc_time|utc_timestamp|value|variables|varying|view|views|warnings|when|while|with|work|write|xa|xor|year_month|zerofill|begin|do|then|else|loop|repeat\";\n    var builtins = \"by|bool|boolean|bit|blob|decimal|double|enum|float|long|longblob|longtext|medium|mediumblob|mediumint|mediumtext|time|timestamp|tinyblob|tinyint|tinytext|text|bigint|int|int1|int2|int3|int4|int8|integer|float|float4|float8|double|char|varbinary|varchar|varcharacter|precision|date|datetime|year|unsigned|signed|numeric|ucase|lcase|mid|len|round|rank|now|format|coalesce|ifnull|isnull|nvl\";\n    var variable = \"charset|clear|connect|edit|ego|exit|go|help|nopager|notee|nowarning|pager|print|prompt|quit|rehash|source|status|system|tee\";\n\n    var keywordMapper = this.createKeywordMapper({\n        \"support.function\": builtins,\n        \"keyword\": mySqlKeywords,\n        \"constant\": \"false|true|null|unknown|date|time|timestamp|ODBCdotTable|zerolessFloat\",\n        \"variable.language\": variable\n    }, \"identifier\", true);\n\n    \n    function string(rule) {\n        var start = rule.start;\n        var escapeSeq = rule.escape;\n        return {\n            token: \"string.start\",\n            regex: start,\n            next: [\n                {token: \"constant.language.escape\", regex: escapeSeq},\n                {token: \"string.end\", next: \"start\", regex: start},\n                {defaultToken: \"string\"}\n            ]\n        };\n    }\n\n    this.$rules = {\n        \"start\" : [ {\n            token : \"comment\", regex : \"(?:-- |#).*$\"\n        },  \n        string({start: '\"', escape: /\\\\[0'\"bnrtZ\\\\%_]?/}),\n        string({start: \"'\", escape: /\\\\[0'\"bnrtZ\\\\%_]?/}),\n        DocCommentHighlightRules.getStartRule(\"doc-start\"),\n        {\n            token : \"comment\", // multi line comment\n            regex : /\\/\\*/,\n            next : \"comment\"\n        }, {\n            token : \"constant.numeric\", // hex\n            regex : /0[xX][0-9a-fA-F]+|[xX]'[0-9a-fA-F]+'|0[bB][01]+|[bB]'[01]+'/\n        }, {\n            token : \"constant.numeric\", // float\n            regex : \"[+-]?\\\\d+(?:(?:\\\\.\\\\d*)?(?:[eE][+-]?\\\\d+)?)?\\\\b\"\n        }, {\n            token : keywordMapper,\n            regex : \"[a-zA-Z_$][a-zA-Z0-9_$]*\\\\b\"\n        }, {\n            token : \"constant.class\",\n            regex : \"@@?[a-zA-Z_$][a-zA-Z0-9_$]*\\\\b\"\n        }, {\n            token : \"constant.buildin\",\n            regex : \"`[^`]*`\"\n        }, {\n            token : \"keyword.operator\",\n            regex : \"\\\\+|\\\\-|\\\\/|\\\\/\\\\/|%|<@>|@>|<@|&|\\\\^|~|<|>|<=|=>|==|!=|<>|=\"\n        }, {\n            token : \"paren.lparen\",\n            regex : \"[\\\\(]\"\n        }, {\n            token : \"paren.rparen\",\n            regex : \"[\\\\)]\"\n        }, {\n            token : \"text\",\n            regex : \"\\\\s+\"\n        } ],\n        \"comment\" : [\n            {token : \"comment\", regex : \"\\\\*\\\\/\", next : \"start\"},\n            {defaultToken : \"comment\"}\n        ]\n    };\n\n    this.embedRules(DocCommentHighlightRules, \"doc-\", [ DocCommentHighlightRules.getEndRule(\"start\") ]);\n    this.normalizeRules();\n};\n\noop.inherits(MysqlHighlightRules, TextHighlightRules);\n\nexports.MysqlHighlightRules = MysqlHighlightRules;\n});\n\nace.define(\"ace/mode/mysql\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/text\",\"ace/mode/mysql_highlight_rules\"], function(acequire, exports, module) {\n\nvar oop = acequire(\"../lib/oop\");\nvar TextMode = acequire(\"../mode/text\").Mode;\nvar MysqlHighlightRules = acequire(\"./mysql_highlight_rules\").MysqlHighlightRules;\n\nvar Mode = function() {\n    this.HighlightRules = MysqlHighlightRules;\n    this.$behaviour = this.$defaultBehaviour;\n};\noop.inherits(Mode, TextMode);\n\n(function() {       \n    this.lineCommentStart = [\"--\", \"#\"]; // todo space\n    this.blockComment = {start: \"/*\", end: \"*/\"};\n\n    this.$id = \"ace/mode/mysql\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/brace/mode/mysql.js","ace.define(\"ace/theme/xcode\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(acequire, exports, module) {\n\nexports.isDark = false;\nexports.cssClass = \"ace-xcode\";\nexports.cssText = \"\\\n.ace-xcode .ace_gutter {\\\nbackground: #e8e8e8;\\\ncolor: #333\\\n}\\\n.ace-xcode .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8\\\n}\\\n.ace-xcode {\\\nbackground-color: #FFFFFF;\\\ncolor: #000000\\\n}\\\n.ace-xcode .ace_cursor {\\\ncolor: #000000\\\n}\\\n.ace-xcode .ace_marker-layer .ace_selection {\\\nbackground: #B5D5FF\\\n}\\\n.ace-xcode.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px #FFFFFF;\\\n}\\\n.ace-xcode .ace_marker-layer .ace_step {\\\nbackground: rgb(198, 219, 174)\\\n}\\\n.ace-xcode .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid #BFBFBF\\\n}\\\n.ace-xcode .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.071)\\\n}\\\n.ace-xcode .ace_gutter-active-line {\\\nbackground-color: rgba(0, 0, 0, 0.071)\\\n}\\\n.ace-xcode .ace_marker-layer .ace_selected-word {\\\nborder: 1px solid #B5D5FF\\\n}\\\n.ace-xcode .ace_constant.ace_language,\\\n.ace-xcode .ace_keyword,\\\n.ace-xcode .ace_meta,\\\n.ace-xcode .ace_variable.ace_language {\\\ncolor: #C800A4\\\n}\\\n.ace-xcode .ace_invisible {\\\ncolor: #BFBFBF\\\n}\\\n.ace-xcode .ace_constant.ace_character,\\\n.ace-xcode .ace_constant.ace_other {\\\ncolor: #275A5E\\\n}\\\n.ace-xcode .ace_constant.ace_numeric {\\\ncolor: #3A00DC\\\n}\\\n.ace-xcode .ace_entity.ace_other.ace_attribute-name,\\\n.ace-xcode .ace_support.ace_constant,\\\n.ace-xcode .ace_support.ace_function {\\\ncolor: #450084\\\n}\\\n.ace-xcode .ace_fold {\\\nbackground-color: #C800A4;\\\nborder-color: #000000\\\n}\\\n.ace-xcode .ace_entity.ace_name.ace_tag,\\\n.ace-xcode .ace_support.ace_class,\\\n.ace-xcode .ace_support.ace_type {\\\ncolor: #790EAD\\\n}\\\n.ace-xcode .ace_storage {\\\ncolor: #C900A4\\\n}\\\n.ace-xcode .ace_string {\\\ncolor: #DF0002\\\n}\\\n.ace-xcode .ace_comment {\\\ncolor: #008E00\\\n}\\\n.ace-xcode .ace_indent-guide {\\\nbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==) right repeat-y\\\n}\";\n\nvar dom = acequire(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\n\n\n// WEBPACK FOOTER //\n// ./~/brace/theme/xcode.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"editor.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-495180ce\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/libs/editor.vue\n// module id = 171\n// module chunks = 1 2 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-495180ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./editor.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0851ebd2\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-495180ce\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/libs/editor.vue\n// module id = 174\n// module chunks = 1 2 3","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-495180ce\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editor.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-495180ce\\\",\\\"hasScoped\\\":true}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./editor.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-495180ce\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/libs/editor.vue\n// module id = 175\n// module chunks = 1 2 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticStyle: {\n      \"width\": \"100%\",\n      \"height\": \"200px\"\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-495180ce\",\"hasScoped\":true}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/libs/editor.vue\n// module id = 176\n// module chunks = 1 2 3","<style lang=\"less\">\n  @import '../../styles/common.less';\n  @import 'components/table.less';\n\n  .demo-spin-icon-load {\n    animation: ani-demo-spin 1s linear infinite;\n  }\n\n  p {\n    word-wrap: break-word;\n    word-break: break-all;\n    overflow: hidden;\n  }\n</style>\n<template>\n  <div>\n    <Row>\n      <Col span=\"6\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"ios-redo\"></Icon>\n            \n          </p>\n          <div class=\"edittable-test-con\">\n            <Form :model=\"formItem\" :label-width=\"100\" ref=\"formItem\" :rules=\"ruleValidate\">\n              <Form-item label=\":\" prop=\"computer_room\">\n                <Select v-model=\"formItem.computer_room\" placeholder=\"\" @on-change=\"Connection_Name\">\n                  <Option v-for=\"i in dataset\" :value=\"i\" :key=\"i\">{{ i }}</Option>\n                </Select>\n              </Form-item>\n              <Form-item label=\":\" prop=\"connection_name\">\n                <Select v-model=\"formItem.connection_name\" placeholder=\"\" @on-change=\"DataBaseName\">\n                  <Option v-for=\"i in tableform.sqlname\" :value=\"i.connection_name\" :key=\"i.connection_name\" filterable>\n                    {{ i.connection_name }}\n                  </Option>\n                </Select>\n              </Form-item>\n              <Form-item label=\":\" prop=\"basename\">\n                <Select v-model=\"formItem.basename\" placeholder=\"\" @on-change=\"GetTableName\" filterable>\n                  <Option v-for=\"item in tableform.basename\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                </Select>\n              </Form-item>\n              <Form-item label=\":\">\n                <Select v-model=\"formItem.tablename\" placeholder=\"\" filterable>\n                  <Option v-for=\"item in tableform.info\" :value=\"item\" :key=\"item\">{{ item }}</Option>\n                </Select>\n              </Form-item>\n              <Button type=\"warning\" @click=\"canel()\" style=\"margin-left: 15%\"></Button>\n              <Button type=\"primary\" @click=\"getinfo()\" style=\"margin-left: 3%\"></Button>\n              <Button type=\"success\" @click=\"confirmsql()\" style=\"margin-left: 3%\"></Button>\n            </Form>\n            <br>\n            <Tabs value=\"order1\" style=\"height: 300px;overflow-y: scroll;\">\n              <TabPane label=\"DDL\" name=\"order1\">\n                <p v-for=\"list in sql\" style=\"font-size: 12px;color:#2b85e4\"> {{ list }}<br><br></p>\n              </TabPane>\n              <TabPane label=\"\" name=\"order2\">\n                <Button type=\"primary\" style=\"margin-left: 25%;margin-top: 20%;\" @click.native=\"orderswitch\"\n                        size=\"large\">\n                </Button>\n              </TabPane>\n            </Tabs>\n          </div>\n        </Card>\n      </Col>\n      <Col span=\"18\" class=\"padding-left-10\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"android-remove\"></Icon>\n            \n          </p>\n          <div class=\"edittable-table-height-con\">\n            <Tabs :value=\"tabs\">\n              <TabPane label=\"\" name=\"order1\" icon=\"edit\">\n                <Form>\n                  <FormItem>\n                    <editor v-model=\"formDynamic\" @init=\"editorInit\" @setCompletions=\"setCompletions\"></editor>\n                  </FormItem>\n                  <FormItem>\n                    <Table :columns=\"columnsName\" :data=\"Testresults\" highlight-row></Table>\n                  </FormItem>\n                  <FormItem>\n                    <Button type=\"warning\" @click=\"test_sql\"></Button>\n                    <Button type=\"primary\" @click=\"handleSubmit(formDynamic)\" style=\"margin-left: 3%\"\n                            :disabled=\"this.validate_gen\">DDL\n                    </Button>\n                  </FormItem>\n                </Form>\n              </TabPane>\n              <TabPane label=\"\" name=\"order3\" icon=\"plus\">\n                <Table stripe :columns=\"addcolums\" :data=\"add_row\" height=\"385\" border></Table>\n                <div style=\"margin-top: 5%\">\n                  <Input v-model=\"Add_tmp.Field\" placeholder=\"\" style=\"width: 10%\"></Input>\n                  <Select v-model=\"Add_tmp.Species\" style=\"width: 15%\" transfer placeholder=\"\">\n                    <Option v-for=\"i in optionData\" :key=\"i\" :value=\"i\">{{i}}</Option>\n                  </Select>\n                  <Input v-model=\"Add_tmp.Len\" placeholder=\"\" style=\"width: 10%\"></Input>\n                  <Select v-model=\"Add_tmp.Null\" style=\"width: 15%\" placeholder=\"\" transfer>\n                    <Option value=\"YES\">YES</Option>\n                    <Option value=\"NO\">NO</Option>\n                  </Select>\n                  <Input v-model=\"Add_tmp.Default\" placeholder=\"\" style=\"width: 15%\"></Input>\n                  <Input v-model=\"Add_tmp.Extra\" placeholder=\"\" style=\"width: 15%\"></Input>\n                  <Button type=\"warning\" @click.native=\"ClearColumns\"></Button>\n                  <Button type=\"info\" @click.native=\"AddColumns()\"></Button>\n                </div>\n              </TabPane>\n              <TabPane label=\"&\" name=\"order4\" icon=\"edit\">\n                <edittable refs=\"table2\" v-model=\"TableDataNew\" :columns-list=\"tabcolumns\" @index=\"remove\"\n                           @on-change=\"cell_change\"></edittable>\n              </TabPane>\n            </Tabs>\n          </div>\n        </Card>\n      </Col>\n    </Row>\n\n    <Modal v-model=\"openswitch\" @on-ok=\"commitorder\" :ok-text=\"''\" width=\"800\">\n      <Row>\n        <Card>\n          <div class=\"step-header-con\">\n            <h3>yupaopao SQL</h3>\n          </div>\n          <p class=\"step-content\"></p>\n          <Form class=\"step-form\" :label-width=\"100\">\n            <FormItem label=\":\">\n              <p>{{username}}</p>\n            </FormItem>\n            <FormItem label=\":\">\n              <p>{{formItem.basename}}</p>\n            </FormItem>\n            <FormItem label=\":\">\n              <p>{{formItem.tablename}}</p>\n            </FormItem>\n            <FormItem label=\"SQL:\">\n              <p v-for=\"i in sql\">{{i}}</p>\n            </FormItem>\n            <FormItem label=\":\" required>\n              <Input v-model=\"formItem.text\" placeholder=\"20\"></Input>\n            </FormItem>\n            <FormItem label=\":\" required>\n              <Select v-model=\"formItem.assigned\" filterable transfer>\n                <Option v-for=\"i in assigned\" :value=\"i\" :key=\"i\">{{i}}</Option>\n              </Select>\n            </FormItem>\n            <FormItem label=\"\">\n              <InputNumber\n                v-model=\"formItem.delay\"\n                :formatter=\"value => `${value}`\"\n                :parser=\"value => value.replace('', '')\"\n                :min=\"0\">\n              </InputNumber>\n            </FormItem>\n            <FormItem label=\"\">\n              <RadioGroup v-model=\"formItem.backup\">\n                <Radio label=\"1\"></Radio>\n                <Radio label=\"0\"></Radio>\n              </RadioGroup>\n            </FormItem>\n            <FormItem label=\"\" required>\n              <Checkbox v-model=\"pass\"></Checkbox>\n            </FormItem>\n          </Form>\n        </Card>\n      </Row>\n    </Modal>\n  </div>\n</template>\n\n<script>\n  //\n  import axios from 'axios'\n  import util from '../../libs/util'\n  import edittable from './components/editTable'\n  import ICol from 'iview/src/components/grid/col'\n\n  export default {\n    components: {\n      ICol,\n      edittable,\n      editor: require('../../libs/editor')\n    },\n    data () {\n      return {\n        dataset: [],\n        item: {},\n        basename: [],\n        sqlname: [],\n        TableDataNew: [],\n        tableform: {\n          sqlname: [],\n          basename: [],\n          info: []\n        },\n        columnsName: [\n          {\n            title: 'ID',\n            key: 'ID',\n            width: 50\n          },\n          {\n            title: '',\n            key: 'stage',\n            width: 100\n          },\n          {\n            title: '',\n            key: 'errlevel',\n            width: 100\n          },\n          {\n            title: '',\n            key: 'stagestatus',\n            width: 150\n          },\n          {\n            title: '',\n            key: 'errormessage'\n          },\n          {\n            title: 'sql',\n            key: 'sql'\n          },\n          {\n            title: 'SQL',\n            key: 'affected_rows',\n            width: 130\n          }\n        ],\n        Testresults: [],\n        tabcolumns: [\n          {\n            title: '',\n            key: 'Field'\n          },\n          {\n            title: '',\n            key: 'Type',\n            editable: true\n          },\n          {\n            title: '',\n            key: 'Null',\n            editable: true,\n            option: true\n          },\n          {\n            title: '',\n            key: 'Default',\n            editable: true\n          },\n          {\n            title: '',\n            key: 'Key'\n          },\n          {\n            title: '',\n            key: 'Extra'\n          },\n          {\n            title: '',\n            align: 'center',\n            width: 190,\n            key: 'handle',\n            handle: ['edit', 'delete']\n          }\n        ],\n        putdata: [],\n        Add_tmp: {\n          Field: '',\n          Type: '',\n          Null: null,\n          Default: null,\n          Extra: null,\n          Len: '',\n          Species: null\n        },\n        add_row: [],\n        username: sessionStorage.getItem('user'),\n        addcolums: [\n          {\n            title: '',\n            key: 'Field'\n          },\n          {\n            title: '',\n            key: 'Type'\n          },\n          {\n            title: '',\n            key: 'Null'\n          },\n          {\n            title: '',\n            key: 'Default'\n          },\n          {\n            title: '',\n            key: 'Extra'\n          },\n          {\n            title: 'action',\n            width: 80,\n            render: (h, params) => {\n              return h('Button', {\n                props: {\n                  type: 'text'\n                },\n                on: {\n                  click: () => {\n                    this.$Notice.error({\n                      title: `${this.add_row[params.index].Field}-!`\n                    })\n                    this.add_row.splice(params.index, 1)\n                  }\n                }\n              }, '')\n            }\n          }\n        ],\n        sql: [],\n        openswitch: false,\n        pass: false,\n        ruleValidate: {\n          computer_room: [{\n            required: true,\n            message: '',\n            trigger: 'change'\n          }],\n          connection_name: [{\n            required: true,\n            message: '',\n            trigger: 'change'\n          }],\n          basename: [{\n            required: true,\n            message: '',\n            trigger: 'change'\n          }],\n          tablename: [{\n            required: true,\n            message: '',\n            trigger: 'change'\n          }],\n          text: [{\n            required: true,\n            message: '',\n            trigger: 'change'\n          },\n            {\n              type: 'string',\n              max: 20,\n              message: '20',\n              trigger: 'blur'\n            }\n          ]\n        },\n        formItem: {\n          text: '',\n          computer_room: '',\n          connection_name: '',\n          basename: '',\n          tablename: '',\n          backup: '0',\n          assigned: '',\n          delay: 0\n        },\n        id: null,\n        tabs: 'order1',\n        optionData: [\n          'varchar',\n          'int',\n          'char',\n          'tinytext',\n          'text',\n          'mediumtext',\n          'longtext',\n          'blob',\n          'mediumblob',\n          'longblob',\n          'tinyint',\n          'smallint',\n          'mediumint',\n          'bigint',\n          'time',\n          'year',\n          'date',\n          'datetime',\n          'timestamp',\n          'decimal',\n          'float',\n          'double',\n          'jason'\n        ],\n        assigned: [],\n        formDynamic: '',\n        validate_gen: true,\n        wordList: []\n      }\n    },\n    methods: {\n      setCompletions (editor, session, pos, prefix, callback) {\n        callback(null, this.wordList.map(function (word) {\n          return {\n            caption: word.vl,\n            value: word.vl,\n            meta: word.meta\n          }\n        }))\n      },\n      editorInit: function () {\n        require('brace/mode/mysql')\n        require('brace/theme/xcode')\n      },\n      Connection_Name (index) {\n        if (index) {\n          this.ScreenConnection(index)\n        }\n      },\n      test_sql () {\n        let ddl = ['select', 'insert', 'update', 'delete']\n        let createtable = this.formDynamic.split(';')\n        for (let i of createtable) {\n          for (let c of ddl) {\n            i = i.replace(/(^\\s*)|(\\s*$)/g, '')\n            if (i.toLowerCase().indexOf(c) === 0) {\n              this.$Message.error('DDL!')\n              return false\n            }\n          }\n        }\n        this.$refs['formItem'].validate((valid) => {\n          if (valid) {\n            let tmp = this.formDynamic.replace(/(;|)$/gi, '').replace(//g, ';')\n            axios.put(`${util.url}/sqlsyntax/test`, {\n              'id': this.id[0].id,\n              'base': this.formItem.basename,\n              'sql': tmp\n            })\n              .then(res => {\n                if (res.data.status === 200) {\n                  this.Testresults = res.data.result\n                  let gen = 0\n                  this.Testresults.forEach(vl => {\n                    if (vl.errlevel !== 0) {\n                      gen += 1\n                    }\n                  })\n                  if (gen === 0) {\n                    this.validate_gen = false\n                  } else {\n                    this.validate_gen = true\n                  }\n                } else {\n                  util.err_notice('Inception!')\n                }\n              })\n              .catch(error => {\n                util.err_notice(error)\n              })\n          } else {\n            this.$Message.error('sql!')\n          }\n        })\n      },\n      handleSubmit () {\n        let createtable = this.formDynamic.replace(/(;|)$/gi, '').replace(/\\s/g, ' ').replace(//g, ';').split(';')\n        this.validate_gen = true\n        for (let i of createtable) {\n          this.sql.push(i)\n        }\n      },\n      DataBaseName (index) {\n        if (index) {\n          this.id = this.item.filter(item => {\n            if (item.connection_name === index) {\n              return item\n            }\n          })\n          axios.put(`${util.url}/workorder/basename`, {\n            'id': this.id[0].id\n          })\n            .then(res => {\n              this.tableform.basename = res.data\n            })\n            .catch(() => {\n              util.err_notice('!')\n            })\n        }\n      },\n      ScreenConnection (b) {\n        this.tableform.sqlname = this.item.filter(item => {\n          if (item.computer_room === b) {\n            return item\n          }\n        })\n      },\n      GetTableName () {\n        if (this.formItem.basename) {\n          let data = JSON.stringify(this.formItem)\n          axios.put(`${util.url}/workorder/tablename`, {\n            'data': data,\n            'id': this.id[0].id\n          })\n            .then(res => {\n              this.tableform.info = res.data\n            }).catch(error => {\n            util.err_notice(error)\n          })\n        }\n      },\n      getdatabases () {\n        axios.put(`${util.url}/workorder/connection`, {'permissions_type': 'ddl'})\n          .then(res => {\n            this.item = res.data['connection']\n            this.assigned = res.data['assigend']\n            this.dataset = res.data['custom']\n          })\n          .catch(error => {\n            util.err_notice(error)\n          })\n      },\n      getinfo () {\n        this.$refs['formItem'].validate((valid) => {\n          if (valid) {\n            this.$Spin.show({\n              render: (h) => {\n                return h('div', [\n                  h('Icon', {\n                    'class': 'demo-spin-icon-load',\n                    props: {\n                      type: 'load-c',\n                      size: 30\n                    }\n                  }),\n                  h('div', ',........')\n                ])\n              }\n            })\n            this.formItem.table_name = this.formItem.tablename\n            axios.put(`${util.url}/workorder/field`, {\n              'connection_info': JSON.stringify(this.formItem),\n              'id': this.id[0].id\n            })\n              .then(res => {\n                this.TableDataNew = res.data\n                this.$Spin.hide()\n              })\n              .catch(() => {\n                util.err_notice('')\n              })\n            this.getindex()\n          } else {\n            this.$Message.error('!')\n          }\n        })\n      },\n      AddColumns () {\n        if (this.Add_tmp.Field === '' || this.Add_tmp.Null === null || this.Add_tmp.Species === '') {\n          this.$Notice.warning({\n            title: ','\n          })\n        } else {\n          if (this.Add_tmp.Extra) {\n            this.Add_tmp.Extra = this.Add_tmp.Extra.replace(/\\s+/g, '')\n          }\n          if (this.Add_tmp.Len !== '') {\n            this.Add_tmp.Type = `${this.Add_tmp.Species}(${this.Add_tmp.Len})`\n          } else {\n            this.Add_tmp.Type = `${this.Add_tmp.Species}`\n          }\n          this.add_row.push(JSON.parse(JSON.stringify(this.Add_tmp)))\n          for (let c of Object.keys(this.Add_tmp)) {\n            this.Add_tmp[c] = ''\n            this.Add_tmp.Default = null\n            this.Add_tmp.Extra = null\n          }\n        }\n      },\n      ClearColumns () {\n        this.Add_tmp = {}\n      },\n      remove (index) {\n        this.putdata.push({\n          'del': index,\n          'table_name': this.formItem.tablename\n        })\n      },\n      canel () {\n        this.sql = []\n        this.pass = false\n        this.getinfo()\n      },\n      confirmsql () {\n        if (this.Add_tmp.Field !== '') {\n          util.notice('!')\n        } else {\n          this.putdata.push({\n            'add': this.add_row,\n            'table_name': this.formItem.tablename\n          })\n          axios.put(`${util.url}/gensql/sql`, {\n            'data': JSON.stringify(this.putdata),\n            'basename': this.formItem.basename\n          })\n            .then(res => {\n              for (let i of res.data) {\n                this.sql.push(i)\n              }\n              this.putdata = []\n              this.add_row = []\n            }).catch(error => {\n            util.err_notice(error)\n          })\n        }\n      },\n      orderswitch () {\n        this.openswitch = !this.openswitch\n      },\n      commitorder () {\n        if (this.sql === [] || this.formItem.basename === '' || this.assigned === '' || this.formItem.text === '' || this.formItem.assigned === '') {\n          util.err_notice(',!')\n        } else {\n          if (this.pass === true) {\n            axios.post(`${util.url}/sqlsyntax/`, {\n              'data': JSON.stringify(this.formItem),\n              'sql': JSON.stringify(this.sql),\n              'user': sessionStorage.getItem('user'),\n              'type': 0,\n              'id': this.id[0].id\n            })\n              .then(res => {\n                util.notice(res.data)\n                this.$router.push({\n                  name: 'myorder'\n                })\n              }).catch(error => {\n              util.err_notice(error)\n            })\n          } else {\n            util.err_notice('')\n          }\n        }\n      },\n      cell_change (data) {\n        this.putdata.push({\n          'edit': data,\n          'table_name': this.formItem.tablename\n        })\n      }\n    },\n    mounted () {\n      for (let i of util.highlight.split('|')) {\n        this.wordList.push({'vl': i, 'meta': ''})\n      }\n      this.getdatabases()\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// GenSQL.vue?718d0c90","<style lang=\"less\">\n  .show-edit-btn{\n    display: none;\n    margin-left: -10px;\n  }\n  .ivu-table-cell:hover .show-edit-btn{\n    display: inline-block;\n  }\n</style>\n\n<template>\n  <div>\n    <Table :ref=\"refs\" :columns=\"columnsList\" :data=\"thisTableData\" border disabled-hover></Table>\n  </div>\n</template>\n\n<script>\n  const editButton = (vm, h, currentRow, index) => {\n    return h('Button', {\n      props: {\n        type: currentRow.editting ? 'success' : 'primary',\n        loading: currentRow.saving\n      },\n      style: {\n        margin: '0 5px'\n      },\n      on: {\n        'click': () => {\n          if (!currentRow.editting) {\n            if (currentRow.edittingCell) {\n              for (let name in currentRow.edittingCell) {\n                currentRow.edittingCell[name] = false\n                vm.edittingStore[index].edittingCell[name] = false\n              }\n            }\n            vm.edittingStore[index].editting = true\n            vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore))\n          } else {\n            vm.edittingStore[index].saving = true\n            vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore))\n            let edittingRow = vm.edittingStore[index]\n            edittingRow.editting = false\n            edittingRow.saving = false\n            let data = vm.thisTableData[index]\n            vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore))\n            vm.$emit('input', vm.handleBackdata(vm.thisTableData))\n            vm.$emit('on-change', data)\n          }\n        }\n      }\n    }, currentRow.editting ? '' : '')\n  }\n  const deleteButton = (vm, h, currentRow, index) => {\n    return h('Poptip', {\n      props: {\n        confirm: true,\n        title: '?',\n        transfer: true\n      },\n      on: {\n        'on-ok': () => {\n          let data = vm.thisTableData[index]\n          vm.thisTableData.splice(index, 1)\n          vm.$emit('input', vm.handleBackdata(vm.thisTableData))\n          vm.$emit('on-delete', vm.handleBackdata(vm.thisTableData), index)\n          vm.$emit('index', data)\n        }\n      }\n    }, [\n      h('Button', {\n        style: {\n          margin: '0 5px'\n        },\n        props: {\n          type: 'error',\n          placement: 'top'\n        }\n      }, '')\n    ])\n  }\n  const incellEditBtn = (vm, h, param) => {\n    if (vm.hoverShow) {\n      return h('div', {\n        'class': {\n          'show-edit-btn': vm.hoverShow\n        }\n      }, [\n        h('Button', {\n          props: {\n            type: 'text',\n            icon: 'edit'\n          },\n          on: {\n            click: (event) => {\n              vm.edittingStore[param.index].edittingCell[param.column.key] = true\n              vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore))\n            }\n          }\n        })\n      ])\n    } else {\n      return h('Button', {\n        props: {\n          type: 'text',\n          icon: 'edit'\n        },\n        on: {\n          click: (event) => {\n            vm.edittingStore[param.index].edittingCell[param.column.key] = true\n            vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore))\n          }\n        }\n      })\n    }\n  }\n  const saveIncellEditBtn = (vm, h, param) => {\n    return h('Button', {\n      props: {\n        type: 'text',\n        icon: 'checkmark'\n      },\n      on: {\n        click: (event) => {\n          vm.edittingStore[param.index].edittingCell[param.column.key] = false\n          vm.thisTableData = JSON.parse(JSON.stringify(vm.edittingStore))\n          vm.$emit('input', vm.handleBackdata(vm.thisTableData))\n          vm.$emit('on-cell-change', vm.handleBackdata(vm.thisTableData), param.index, param.column.key)\n        }\n      }\n    })\n  }\n  const cellInput = (vm, h, param, item) => {\n    return h('Input', {\n      props: {\n        type: 'text',\n        value: vm.edittingStore[param.index][item.key]\n      },\n      on: {\n        'on-change' (event) {\n          let key = item.key\n          vm.edittingStore[param.index][key] = event.target.value\n        }\n      }\n    })\n  }\n  export default {\n    name: 'canEditTable',\n    props: {\n      refs: String,\n      columnsList: Array,\n      value: Array,\n      url: String,\n      editIncell: {\n        type: Boolean,\n        default: false\n      },\n      hoverShow: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data () {\n      return {\n        columns: [],\n        thisTableData: [],\n        edittingStore: []\n      }\n    },\n    created () {\n      this.init()\n    },\n    methods: {\n      init () {\n        let vm = this\n        let editableCell = this.columnsList.filter(item => {\n          if (item.editable) {\n            if (item.editable === true) {\n              return item\n            }\n          }\n        })\n        let cloneData = JSON.parse(JSON.stringify(this.value))\n        let res = []\n        res = cloneData.map((item, index) => {\n          let isEditting = false\n          if (this.thisTableData[index]) {\n            if (this.thisTableData[index].editting) {\n              isEditting = true\n            } else {\n              for (const cell in this.thisTableData[index].edittingCell) {\n                if (this.thisTableData[index].edittingCell[cell] === true) {\n                  isEditting = true\n                }\n              }\n            }\n          }\n          if (isEditting) {\n            return this.thisTableData[index]\n          } else {\n            this.$set(item, 'editting', false)\n            let edittingCell = {}\n            editableCell.forEach(item => {\n              edittingCell[item.key] = false\n            })\n            this.$set(item, 'edittingCell', edittingCell)\n            return item\n          }\n        })\n        this.thisTableData = res\n        this.edittingStore = JSON.parse(JSON.stringify(this.thisTableData))\n        this.columnsList.forEach(item => {\n          if (item.editable) {\n            item.render = (h, param) => {\n              let currentRow = this.thisTableData[param.index]\n              if (!currentRow.editting) {\n                if (this.editIncell) {\n                  return h('Row', {\n                    props: {\n                      type: 'flex',\n                      align: 'middle',\n                      justify: 'center'\n                    }\n                  }, [\n                    h('Col', {\n                      props: {\n                        span: '22'\n                      }\n                    }, [\n                      !currentRow.edittingCell[param.column.key] ? h('span', currentRow[item.key]) : cellInput(this, h, param, item)\n                    ]),\n                    h('Col', {\n                      props: {\n                        span: '2'\n                      }\n                    }, [\n                      currentRow.edittingCell[param.column.key] ? saveIncellEditBtn(this, h, param) : incellEditBtn(this, h, param)\n                    ])\n                  ])\n                } else {\n                  return h('span', currentRow[item.key])\n                }\n              } else {\n                if (!item.option) {\n                  return h('Input', {\n                    props: {\n                      type: 'text',\n                      value: currentRow[item.key]\n                    },\n                    on: {\n                      'on-change' (event) {\n                        let key = param.column.key\n                        vm.edittingStore[param.index][key] = event.target.value\n                      }\n                    }\n                  })\n                } else {\n                  return h('Select', {\n                    props: {\n                      type: 'text',\n                      value: currentRow[item.key]\n                    },\n                    on: {\n                      'on-change' (event) {\n                        let key = param.column.key\n                        vm.edittingStore[param.index][key] = event\n                      }\n                    }\n                  }, [\n                    h('Option', {\n                      props: {\n                        key: 'YES',\n                        value: 'YES'\n                      }\n                    }, 'YES'),\n                    h('Option', {\n                      props: {\n                        key: 'NO',\n                        value: 'NO'\n                      }\n                    }, 'NO')\n                  ])\n                }\n              }\n            }\n          }\n          if (item.handle) {\n            item.render = (h, param) => {\n              let currentRowData = this.thisTableData[param.index]\n              if (item.handle.length === 2) {\n                return h('div', [\n                  editButton(this, h, currentRowData, param.index),\n                  deleteButton(this, h, currentRowData, param.index)\n                ])\n              } else if (item.handle.length === 1) {\n                if (item.handle[0] === 'edit') {\n                  return h('div', [\n                    editButton(this, h, currentRowData, param.index)\n                  ])\n                } else {\n                  return h('div', [\n                    deleteButton(this, h, currentRowData, param.index)\n                  ])\n                }\n              }\n            }\n          }\n        })\n      },\n      handleBackdata (data) {\n        let clonedData = JSON.parse(JSON.stringify(data))\n        clonedData.forEach(item => {\n          delete item.editting\n          delete item.edittingCell\n          delete item.saving\n        })\n        return clonedData\n      }\n    },\n    watch: {\n      value (data) {\n        this.init()\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// editTable.vue?f5c10b14","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".margin-top-8{margin-top:8px}.margin-top-10{margin-top:10px}.margin-top-20{margin-top:20px}.margin-left-10{margin-left:10px}.margin-bottom-10{margin-bottom:10px}.margin-bottom-100{margin-bottom:100px}.margin-right-10{margin-right:10px}.padding-left-6{padding-left:6px}.padding-left-8{padding-left:5px}.padding-left-10{padding-left:10px}.padding-left-20{padding-left:20px}.height-100{height:100%}.height-120px{height:100px}.height-200px{height:200px}.height-492px{height:492px}.height-460px{height:460px}.line-gray{height:0;border-bottom:2px solid #dcdcdc}.notwrap{word-break:keep-all;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.padding-left-5{padding-left:10px}[v-cloak]{display:none}.dragging-tip-enter-active{opacity:1;transition:opacity .3s}.dragging-tip-enter,.dragging-tip-leave-to{opacity:0;transition:opacity .3s}.dragging-tip-con{display:block;text-align:center;width:100%;height:50px}.dragging-tip-con span{font-size:18px}.record-tip-con{display:block;width:100%;height:292px;overflow:auto}.record-item{box-sizing:content-box;display:block;overflow:hidden;height:24px;line-height:24px;padding:8px 10px;border-bottom:1px dashed #dcdcdc}.record-tip-con span{font-size:14px}.edittable-test-con{min-height:600px}.edittable-testauto-con{height:100%}.edittable-table-height-con{min-height:600px}.edittable-table-height1-con{height:200px}.edittable-con-1{box-sizing:content-box;padding:15px 0 0;height:550px}.exportable-table-download-con1{padding:16px 0 16px 20px;border-bottom:1px dashed #c3c3c3;margin-bottom:16px}.exportable-table-download-con2{padding-left:20px}.show-image{padding:20px 0}.show-image img{display:block;width:100%;height:auto}.demo-spin-icon-load{animation:ani-demo-spin 1s linear infinite}p{word-wrap:break-word;word-break:break-all;overflow:hidden}\", \"\", {\"version\":3,\"sources\":[\"/Users/vincent/Desktop/ypp_sql/webpage/src/components/Order/GenSQL.vue\"],\"names\":[],\"mappings\":\"AACA,cACE,cAAgB,CACjB,AACD,eACE,eAAiB,CAClB,AACD,eACE,eAAiB,CAClB,AACD,gBACE,gBAAkB,CACnB,AACD,kBACE,kBAAoB,CACrB,AACD,mBACE,mBAAqB,CACtB,AACD,iBACE,iBAAmB,CACpB,AACD,gBACE,gBAAkB,CACnB,AACD,gBACE,gBAAkB,CACnB,AACD,iBACE,iBAAmB,CACpB,AACD,iBACE,iBAAmB,CACpB,AACD,YACE,WAAa,CACd,AACD,cACE,YAAc,CACf,AACD,cACE,YAAc,CACf,AACD,cACE,YAAc,CACf,AACD,cACE,YAAc,CACf,AACD,WACE,SAAU,AACV,+BAAiC,CAClC,AACD,SACE,oBAAqB,AACrB,mBAAoB,AACpB,gBAAiB,AACjB,sBAAwB,CACzB,AACD,gBACE,iBAAmB,CACpB,AACD,UACE,YAAc,CACf,AACD,2BACE,UAAW,AACX,sBAAyB,CAC1B,AACD,2CAEE,UAAW,AACX,sBAAyB,CAC1B,AACD,kBACE,cAAe,AACf,kBAAmB,AACnB,WAAY,AACZ,WAAa,CACd,AACD,uBACE,cAAgB,CACjB,AACD,gBACE,cAAe,AACf,WAAY,AACZ,aAAc,AACd,aAAe,CAChB,AACD,aACE,uBAAwB,AACxB,cAAe,AACf,gBAAiB,AACjB,YAAa,AACb,iBAAkB,AAClB,iBAAkB,AAClB,gCAAoC,CACrC,AACD,qBACE,cAAgB,CACjB,AACD,oBACE,gBAAkB,CACnB,AACD,wBACE,WAAa,CACd,AACD,4BACE,gBAAkB,CACnB,AACD,6BACE,YAAc,CACf,AACD,iBACE,uBAAwB,AACxB,iBAAkB,AAClB,YAAc,CACf,AACD,gCACE,yBAA0B,AAC1B,iCAAkC,AAClC,kBAAoB,CACrB,AACD,gCACE,iBAAmB,CACpB,AACD,YACE,cAAgB,CACjB,AACD,gBACE,cAAe,AACf,WAAY,AACZ,WAAa,CACd,AACD,qBACE,0CAA4C,CAC7C,AACD,EACE,qBAAsB,AACtB,qBAAsB,AACtB,eAAiB,CAClB\",\"file\":\"GenSQL.vue\",\"sourcesContent\":[\"\\n.margin-top-8 {\\n  margin-top: 8px;\\n}\\n.margin-top-10 {\\n  margin-top: 10px;\\n}\\n.margin-top-20 {\\n  margin-top: 20px;\\n}\\n.margin-left-10 {\\n  margin-left: 10px;\\n}\\n.margin-bottom-10 {\\n  margin-bottom: 10px;\\n}\\n.margin-bottom-100 {\\n  margin-bottom: 100px;\\n}\\n.margin-right-10 {\\n  margin-right: 10px;\\n}\\n.padding-left-6 {\\n  padding-left: 6px;\\n}\\n.padding-left-8 {\\n  padding-left: 5px;\\n}\\n.padding-left-10 {\\n  padding-left: 10px;\\n}\\n.padding-left-20 {\\n  padding-left: 20px;\\n}\\n.height-100 {\\n  height: 100%;\\n}\\n.height-120px {\\n  height: 100px;\\n}\\n.height-200px {\\n  height: 200px;\\n}\\n.height-492px {\\n  height: 492px;\\n}\\n.height-460px {\\n  height: 460px;\\n}\\n.line-gray {\\n  height: 0;\\n  border-bottom: 2px solid #dcdcdc;\\n}\\n.notwrap {\\n  word-break: keep-all;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.padding-left-5 {\\n  padding-left: 10px;\\n}\\n[v-cloak] {\\n  display: none;\\n}\\n.dragging-tip-enter-active {\\n  opacity: 1;\\n  transition: opacity 0.3s;\\n}\\n.dragging-tip-enter,\\n.dragging-tip-leave-to {\\n  opacity: 0;\\n  transition: opacity 0.3s;\\n}\\n.dragging-tip-con {\\n  display: block;\\n  text-align: center;\\n  width: 100%;\\n  height: 50px;\\n}\\n.dragging-tip-con span {\\n  font-size: 18px;\\n}\\n.record-tip-con {\\n  display: block;\\n  width: 100%;\\n  height: 292px;\\n  overflow: auto;\\n}\\n.record-item {\\n  box-sizing: content-box;\\n  display: block;\\n  overflow: hidden;\\n  height: 24px;\\n  line-height: 24px;\\n  padding: 8px 10px;\\n  border-bottom: 1px dashed gainsboro;\\n}\\n.record-tip-con span {\\n  font-size: 14px;\\n}\\n.edittable-test-con {\\n  min-height: 600px;\\n}\\n.edittable-testauto-con {\\n  height: 100%;\\n}\\n.edittable-table-height-con {\\n  min-height: 600px;\\n}\\n.edittable-table-height1-con {\\n  height: 200px;\\n}\\n.edittable-con-1 {\\n  box-sizing: content-box;\\n  padding: 15px 0 0;\\n  height: 550px;\\n}\\n.exportable-table-download-con1 {\\n  padding: 16px 0 16px 20px;\\n  border-bottom: 1px dashed #c3c3c3;\\n  margin-bottom: 16px;\\n}\\n.exportable-table-download-con2 {\\n  padding-left: 20px;\\n}\\n.show-image {\\n  padding: 20px 0;\\n}\\n.show-image img {\\n  display: block;\\n  width: 100%;\\n  height: auto;\\n}\\n.demo-spin-icon-load {\\n  animation: ani-demo-spin 1s linear infinite;\\n}\\np {\\n  word-wrap: break-word;\\n  word-break: break-all;\\n  overflow: hidden;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1888123a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Order/GenSQL.vue\n// module id = 625\n// module chunks = 2","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".show-edit-btn{display:none;margin-left:-10px}.ivu-table-cell:hover .show-edit-btn{display:inline-block}\", \"\", {\"version\":3,\"sources\":[\"/Users/vincent/Desktop/ypp_sql/webpage/src/components/Order/components/editTable.vue\"],\"names\":[],\"mappings\":\"AACA,eACE,aAAc,AACd,iBAAmB,CACpB,AACD,qCACE,oBAAsB,CACvB\",\"file\":\"editTable.vue\",\"sourcesContent\":[\"\\n.show-edit-btn {\\n  display: none;\\n  margin-left: -10px;\\n}\\n.ivu-table-cell:hover .show-edit-btn {\\n  display: inline-block;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-844b6d60\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Order/components/editTable.vue\n// module id = 644\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1888123a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./GenSQL.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"22c50407\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1888123a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Order/GenSQL.vue\n// module id = 656\n// module chunks = 2","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-844b6d60\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./editTable.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0708ad80\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-844b6d60\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Order/components/editTable.vue\n// module id = 675\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-844b6d60\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editTable.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editTable.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-844b6d60\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editTable.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Order/components/editTable.vue\n// module id = 686\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Row', [_c('Col', {\n    attrs: {\n      \"span\": \"6\"\n    }\n  }, [_c('Card', [_c('p', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"ios-redo\"\n    }\n  }), _vm._v(\"\\n          \\n        \")], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"edittable-test-con\"\n  }, [_c('Form', {\n    ref: \"formItem\",\n    attrs: {\n      \"model\": _vm.formItem,\n      \"label-width\": 100,\n      \"rules\": _vm.ruleValidate\n    }\n  }, [_c('Form-item', {\n    attrs: {\n      \"label\": \":\",\n      \"prop\": \"computer_room\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    on: {\n      \"on-change\": _vm.Connection_Name\n    },\n    model: {\n      value: (_vm.formItem.computer_room),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"computer_room\", $$v)\n      },\n      expression: \"formItem.computer_room\"\n    }\n  }, _vm._l((_vm.dataset), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \":\",\n      \"prop\": \"connection_name\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    on: {\n      \"on-change\": _vm.DataBaseName\n    },\n    model: {\n      value: (_vm.formItem.connection_name),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"connection_name\", $$v)\n      },\n      expression: \"formItem.connection_name\"\n    }\n  }, _vm._l((_vm.tableform.sqlname), function(i) {\n    return _c('Option', {\n      key: i.connection_name,\n      attrs: {\n        \"value\": i.connection_name,\n        \"filterable\": \"\"\n      }\n    }, [_vm._v(\"\\n                  \" + _vm._s(i.connection_name) + \"\\n                \")])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \":\",\n      \"prop\": \"basename\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\",\n      \"filterable\": \"\"\n    },\n    on: {\n      \"on-change\": _vm.GetTableName\n    },\n    model: {\n      value: (_vm.formItem.basename),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"basename\", $$v)\n      },\n      expression: \"formItem.basename\"\n    }\n  }, _vm._l((_vm.tableform.basename), function(item) {\n    return _c('Option', {\n      key: item,\n      attrs: {\n        \"value\": item\n      }\n    }, [_vm._v(_vm._s(item))])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"placeholder\": \"\",\n      \"filterable\": \"\"\n    },\n    model: {\n      value: (_vm.formItem.tablename),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"tablename\", $$v)\n      },\n      expression: \"formItem.tablename\"\n    }\n  }, _vm._l((_vm.tableform.info), function(item) {\n    return _c('Option', {\n      key: item,\n      attrs: {\n        \"value\": item\n      }\n    }, [_vm._v(_vm._s(item))])\n  }))], 1), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"15%\"\n    },\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.canel()\n      }\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"3%\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getinfo()\n      }\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"3%\"\n    },\n    attrs: {\n      \"type\": \"success\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.confirmsql()\n      }\n    }\n  }, [_vm._v(\"\")])], 1), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('Tabs', {\n    staticStyle: {\n      \"height\": \"300px\",\n      \"overflow-y\": \"scroll\"\n    },\n    attrs: {\n      \"value\": \"order1\"\n    }\n  }, [_c('TabPane', {\n    attrs: {\n      \"label\": \"DDL\",\n      \"name\": \"order1\"\n    }\n  }, _vm._l((_vm.sql), function(list) {\n    return _c('p', {\n      staticStyle: {\n        \"font-size\": \"12px\",\n        \"color\": \"#2b85e4\"\n      }\n    }, [_vm._v(\" \" + _vm._s(list)), _c('br'), _c('br')])\n  })), _vm._v(\" \"), _c('TabPane', {\n    attrs: {\n      \"label\": \"\",\n      \"name\": \"order2\"\n    }\n  }, [_c('Button', {\n    staticStyle: {\n      \"margin-left\": \"25%\",\n      \"margin-top\": \"20%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.orderswitch($event)\n      }\n    }\n  }, [_vm._v(\"\\n              \")])], 1)], 1)], 1)])], 1), _vm._v(\" \"), _c('Col', {\n    staticClass: \"padding-left-10\",\n    attrs: {\n      \"span\": \"18\"\n    }\n  }, [_c('Card', [_c('p', {\n    attrs: {\n      \"slot\": \"title\"\n    },\n    slot: \"title\"\n  }, [_c('Icon', {\n    attrs: {\n      \"type\": \"android-remove\"\n    }\n  }), _vm._v(\"\\n          \\n        \")], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"edittable-table-height-con\"\n  }, [_c('Tabs', {\n    attrs: {\n      \"value\": _vm.tabs\n    }\n  }, [_c('TabPane', {\n    attrs: {\n      \"label\": \"\",\n      \"name\": \"order1\",\n      \"icon\": \"edit\"\n    }\n  }, [_c('Form', [_c('FormItem', [_c('editor', {\n    on: {\n      \"init\": _vm.editorInit,\n      \"setCompletions\": _vm.setCompletions\n    },\n    model: {\n      value: (_vm.formDynamic),\n      callback: function($$v) {\n        _vm.formDynamic = $$v\n      },\n      expression: \"formDynamic\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', [_c('Table', {\n    attrs: {\n      \"columns\": _vm.columnsName,\n      \"data\": _vm.Testresults,\n      \"highlight-row\": \"\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', [_c('Button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    on: {\n      \"click\": _vm.test_sql\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    staticStyle: {\n      \"margin-left\": \"3%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": this.validate_gen\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleSubmit(_vm.formDynamic)\n      }\n    }\n  }, [_vm._v(\"DDL\\n                  \")])], 1)], 1)], 1), _vm._v(\" \"), _c('TabPane', {\n    attrs: {\n      \"label\": \"\",\n      \"name\": \"order3\",\n      \"icon\": \"plus\"\n    }\n  }, [_c('Table', {\n    attrs: {\n      \"stripe\": \"\",\n      \"columns\": _vm.addcolums,\n      \"data\": _vm.add_row,\n      \"height\": \"385\",\n      \"border\": \"\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"5%\"\n    }\n  }, [_c('Input', {\n    staticStyle: {\n      \"width\": \"10%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Field),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Field\", $$v)\n      },\n      expression: \"Add_tmp.Field\"\n    }\n  }), _vm._v(\" \"), _c('Select', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"transfer\": \"\",\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Species),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Species\", $$v)\n      },\n      expression: \"Add_tmp.Species\"\n    }\n  }, _vm._l((_vm.optionData), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  })), _vm._v(\" \"), _c('Input', {\n    staticStyle: {\n      \"width\": \"10%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Len),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Len\", $$v)\n      },\n      expression: \"Add_tmp.Len\"\n    }\n  }), _vm._v(\" \"), _c('Select', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"placeholder\": \"\",\n      \"transfer\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Null),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Null\", $$v)\n      },\n      expression: \"Add_tmp.Null\"\n    }\n  }, [_c('Option', {\n    attrs: {\n      \"value\": \"YES\"\n    }\n  }, [_vm._v(\"YES\")]), _vm._v(\" \"), _c('Option', {\n    attrs: {\n      \"value\": \"NO\"\n    }\n  }, [_vm._v(\"NO\")])], 1), _vm._v(\" \"), _c('Input', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Default),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Default\", $$v)\n      },\n      expression: \"Add_tmp.Default\"\n    }\n  }), _vm._v(\" \"), _c('Input', {\n    staticStyle: {\n      \"width\": \"15%\"\n    },\n    attrs: {\n      \"placeholder\": \"\"\n    },\n    model: {\n      value: (_vm.Add_tmp.Extra),\n      callback: function($$v) {\n        _vm.$set(_vm.Add_tmp, \"Extra\", $$v)\n      },\n      expression: \"Add_tmp.Extra\"\n    }\n  }), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"warning\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        return _vm.ClearColumns($event)\n      }\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Button', {\n    attrs: {\n      \"type\": \"info\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.AddColumns()\n      }\n    }\n  }, [_vm._v(\"\")])], 1)], 1), _vm._v(\" \"), _c('TabPane', {\n    attrs: {\n      \"label\": \"&\",\n      \"name\": \"order4\",\n      \"icon\": \"edit\"\n    }\n  }, [_c('edittable', {\n    attrs: {\n      \"refs\": \"table2\",\n      \"columns-list\": _vm.tabcolumns\n    },\n    on: {\n      \"index\": _vm.remove,\n      \"on-change\": _vm.cell_change\n    },\n    model: {\n      value: (_vm.TableDataNew),\n      callback: function($$v) {\n        _vm.TableDataNew = $$v\n      },\n      expression: \"TableDataNew\"\n    }\n  })], 1)], 1)], 1)])], 1)], 1), _vm._v(\" \"), _c('Modal', {\n    attrs: {\n      \"ok-text\": '',\n      \"width\": \"800\"\n    },\n    on: {\n      \"on-ok\": _vm.commitorder\n    },\n    model: {\n      value: (_vm.openswitch),\n      callback: function($$v) {\n        _vm.openswitch = $$v\n      },\n      expression: \"openswitch\"\n    }\n  }, [_c('Row', [_c('Card', [_c('div', {\n    staticClass: \"step-header-con\"\n  }, [_c('h3', [_vm._v(\"yupaopao SQL\")])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step-content\"\n  }), _vm._v(\" \"), _c('Form', {\n    staticClass: \"step-form\",\n    attrs: {\n      \"label-width\": 100\n    }\n  }, [_c('FormItem', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.username))])]), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.formItem.basename))])]), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\"\n    }\n  }, [_c('p', [_vm._v(_vm._s(_vm.formItem.tablename))])]), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"SQL:\"\n    }\n  }, _vm._l((_vm.sql), function(i) {\n    return _c('p', [_vm._v(_vm._s(i))])\n  })), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\",\n      \"required\": \"\"\n    }\n  }, [_c('Input', {\n    attrs: {\n      \"placeholder\": \"20\"\n    },\n    model: {\n      value: (_vm.formItem.text),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"text\", $$v)\n      },\n      expression: \"formItem.text\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \":\",\n      \"required\": \"\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"filterable\": \"\",\n      \"transfer\": \"\"\n    },\n    model: {\n      value: (_vm.formItem.assigned),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"assigned\", $$v)\n      },\n      expression: \"formItem.assigned\"\n    }\n  }, _vm._l((_vm.assigned), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  }))], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('InputNumber', {\n    attrs: {\n      \"formatter\": function (value) { return (value + \"\"); },\n      \"parser\": function (value) { return value.replace('', ''); },\n      \"min\": 0\n    },\n    model: {\n      value: (_vm.formItem.delay),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"delay\", $$v)\n      },\n      expression: \"formItem.delay\"\n    }\n  })], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('RadioGroup', {\n    model: {\n      value: (_vm.formItem.backup),\n      callback: function($$v) {\n        _vm.$set(_vm.formItem, \"backup\", $$v)\n      },\n      expression: \"formItem.backup\"\n    }\n  }, [_c('Radio', {\n    attrs: {\n      \"label\": \"1\"\n    }\n  }, [_vm._v(\"\")]), _vm._v(\" \"), _c('Radio', {\n    attrs: {\n      \"label\": \"0\"\n    }\n  }, [_vm._v(\"\")])], 1)], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\",\n      \"required\": \"\"\n    }\n  }, [_c('Checkbox', {\n    model: {\n      value: (_vm.pass),\n      callback: function($$v) {\n        _vm.pass = $$v\n      },\n      expression: \"pass\"\n    }\n  }, [_vm._v(\"\")])], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1888123a\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Order/GenSQL.vue\n// module id = 695\n// module chunks = 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Table', {\n    ref: _vm.refs,\n    attrs: {\n      \"columns\": _vm.columnsList,\n      \"data\": _vm.thisTableData,\n      \"border\": \"\",\n      \"disabled-hover\": \"\"\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-844b6d60\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Order/components/editTable.vue\n// module id = 717\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1888123a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./GenSQL.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GenSQL.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1888123a\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GenSQL.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Order/GenSQL.vue\n// module id = 96\n// module chunks = 2"],"sourceRoot":""}