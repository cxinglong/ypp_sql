{"version":3,"sources":["webpack:///static/js/24.8820460054520c9e0dec.js","webpack:///workFlow.vue?10d4","webpack:///./src/components/Search/workFlow.vue?d341*","webpack:///./src/components/Search/workFlow.vue?4ae6*","webpack:///./src/components/Search/workFlow.vue?c352*","webpack:///./src/components/Search/workFlow.vue?fde2"],"names":["webpackJsonp","190","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1__libs_util__","name","props","data","stepData","title","describe","sessionStorage","getItem","step","remark","computer_room","connection_name","stepList1","stepRules","required","message","trigger","basename","item","datalist","connection_name_list","basenamelist","sqllist","computer_roomlist","methods","Connection_Name","val","this","ScreenConnection","_this","filter","$set","handleSubmit","_this2","$refs","validate","valid","a","put","url","mode","then","$router","push","mounted","_this3","permissions_type","res","catch","error","err_notice","191","exports","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","210","content","locals","212","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","span","type","show-icon","slot","ref","model","rules","label-width","label","prop","on","on-change","callback","$$v","expression","_l","key","filterable","staticStyle","width","click","staticRenderFns","77","injectStyle","ssrContext","Component"],"mappings":"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","file":"static/js/24.8820460054520c9e0dec.js","sourcesContent":["webpackJsonp([24],{\n\n/***/ 190:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__libs_util__ = __webpack_require__(2);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'work_flow',\n  props: ['msg'],\n  data: function data() {\n    return {\n      stepData: {\n        title: '比心数据库集中查询平台',\n        describe: '\\u6B22\\u8FCE\\u4F60\\uFF01 ' + sessionStorage.getItem('user')\n      },\n      step: {\n        remark: '',\n        computer_room: '',\n        connection_name: ''\n      },\n      stepList1: [{\n        title: '提交',\n        describe: '提交查询申请'\n      }, {\n        title: '审核',\n        describe: '等待审核结果'\n      }, {\n        title: '查询',\n        describe: '审核完毕，进入查询页面'\n      }],\n      stepRules: {\n        computer_room: [{\n          required: true,\n          message: '环境地址不得为空',\n          trigger: 'change'\n        }],\n        connection_name: [{\n          required: true,\n          message: '业务信息不得为空',\n          trigger: 'change'\n        }],\n        basename: [{\n          required: true,\n          message: '数据库名不得为空',\n          trigger: 'change'\n        }]\n      },\n      item: {},\n      datalist: {\n        connection_name_list: [],\n        basenamelist: [],\n        sqllist: [],\n        computer_roomlist: __WEBPACK_IMPORTED_MODULE_1__libs_util__[\"a\" /* default */].computer_room\n      }\n    };\n  },\n\n  methods: {\n    Connection_Name: function Connection_Name(val) {\n      this.datalist.connection_name_list = [];\n      this.datalist.basenamelist = [];\n      this.step.connection_name = '';\n      this.step.basename = '';\n      if (val) {\n        this.ScreenConnection(val);\n      }\n    },\n    ScreenConnection: function ScreenConnection(val) {\n      var _this = this;\n\n      this.datalist.connection_name_list = this.item.filter(function (item) {\n        if (item.computer_room === val) {\n          _this.$set(_this.step, 'connection_name', item.connection_name);\n          return item;\n        }\n      });\n    },\n    handleSubmit: function handleSubmit() {\n      var _this2 = this;\n\n      this.$refs['step'].validate(function (valid) {\n        if (valid) {\n          __WEBPACK_IMPORTED_MODULE_0_axios___default.a.put(__WEBPACK_IMPORTED_MODULE_1__libs_util__[\"a\" /* default */].url + '/query_worklf', {\n            'mode': 'put',\n            'connection_name': _this2.step.connection_name,\n            'computer_room': _this2.step.computer_room\n          }).then(function () {\n            _this2.$router.push({\n              name: 'queryready'\n            });\n          });\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    __WEBPACK_IMPORTED_MODULE_0_axios___default.a.put(__WEBPACK_IMPORTED_MODULE_1__libs_util__[\"a\" /* default */].url + '/workorder/connection', { 'permissions_type': 'query' }).then(function (res) {\n      _this3.item = res.data['connection'];\n      _this3.datalist.computer_roomlist = res.data['custom'];\n      _this3.$set(_this3.step, 'computer_room', _this3.datalist.computer_roomlist[2]);\n      _this3.ScreenConnection(_this3.datalist.computer_roomlist[2]);\n    }).catch(function (error) {\n      __WEBPACK_IMPORTED_MODULE_1__libs_util__[\"a\" /* default */].err_notice(error);\n    });\n    __WEBPACK_IMPORTED_MODULE_0_axios___default.a.put(__WEBPACK_IMPORTED_MODULE_1__libs_util__[\"a\" /* default */].url + '/query_worklf', { 'mode': 'status' }).then(function (res) {\n      if (res.data === 1) {\n        _this3.$router.push({\n          name: 'querypage'\n        });\n      } else if (res.data === 2) {\n        _this3.$router.push({\n          name: 'queryready'\n        });\n      }\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(75)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".step-header-con{text-align:center}.step-header-con h3{margin:10px 0}.step-header-con h5{margin:0 0 5px}.step-content{padding:5px 20px 26px}.step-content,.step-form{margin-bottom:20px;border-bottom:1px solid #dbdddf}.step-form{padding-bottom:10px}\", \"\", {\"version\":3,\"sources\":[\"/Users/vincent/Desktop/ypp_sql/webpage/src/components/Search/workFlow.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,iBAAmB,CACpB,AACD,oBACE,aAAe,CAChB,AACD,oBACE,cAAgB,CACjB,AACD,cACE,qBAAuB,CAGxB,AACD,yBAHE,mBAAoB,AACpB,+BAAiC,CAMlC,AAJD,WACE,mBAAqB,CAGtB\",\"file\":\"workFlow.vue\",\"sourcesContent\":[\"\\n.step-header-con {\\n  text-align: center;\\n}\\n.step-header-con h3 {\\n  margin: 10px 0;\\n}\\n.step-header-con h5 {\\n  margin: 0 0 5px;\\n}\\n.step-content {\\n  padding: 5px 20px 26px;\\n  margin-bottom: 20px;\\n  border-bottom: 1px solid #dbdddf;\\n}\\n.step-form {\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid #dbdddf;\\n  margin-bottom: 20px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 210:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(191);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(76)(\"dfec1238\", content, true, {});\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Row', [_c('Card', [_c('div', {\n    staticClass: \"step-header-con\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.stepData.title))]), _vm._v(\" \"), _c('h5', [_vm._v(_vm._s(_vm.stepData.describe))])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step-content\"\n  }), _vm._v(\" \"), _c('Row', [_c('i-col', {\n    attrs: {\n      \"span\": \"8\"\n    }\n  }, [_c('Alert', {\n    attrs: {\n      \"type\": \"warning\",\n      \"show-icon\": \"\"\n    }\n  }, [_vm._v(\"\\n            使用说明:\\n            \"), _c('span', {\n    attrs: {\n      \"slot\": \"desc\"\n    },\n    slot: \"desc\"\n  }, [_vm._v(\"\\n            1.目前仅开放 隔离只读 环境的select权限，与生产隔离且关键字段已脱敏。\\n            \"), _c('br'), _vm._v(\"\\n            2.所有提交的查询语句均会进行后台审计记录。\\n            \"), _c('br'), _vm._v(\"\\n            3.仅支持select语句,不可使用非查询语句。\\n            \"), _c('br'), _vm._v(\"\\n            4.已限制最大limit 100，如自己输入的limit数大于平台配置的最大limit数则已平台配置的Limit数为准。\\n          \")])])], 1), _vm._v(\" \"), _c('i-col', {\n    attrs: {\n      \"span\": \"6\"\n    }\n  }, [_c('Form', {\n    ref: \"step\",\n    attrs: {\n      \"model\": _vm.step,\n      \"rules\": _vm.stepRules,\n      \"label-width\": 150\n    }\n  }, [_c('FormItem', {\n    attrs: {\n      \"label\": \"环境:\",\n      \"prop\": \"computer_room\"\n    }\n  }, [_c('Select', {\n    on: {\n      \"on-change\": _vm.Connection_Name\n    },\n    model: {\n      value: (_vm.step.computer_room),\n      callback: function($$v) {\n        _vm.$set(_vm.step, \"computer_room\", $$v)\n      },\n      expression: \"step.computer_room\"\n    }\n  }, _vm._l((_vm.datalist.computer_roomlist), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"业务信息:\",\n      \"prop\": \"connection_name\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"filterable\": \"\"\n    },\n    model: {\n      value: (_vm.step.connection_name),\n      callback: function($$v) {\n        _vm.$set(_vm.step, \"connection_name\", $$v)\n      },\n      expression: \"step.connection_name\"\n    }\n  }, _vm._l((_vm.datalist.connection_name_list), function(i) {\n    return _c('Option', {\n      key: i.connection_name,\n      attrs: {\n        \"value\": i.connection_name\n      }\n    }, [_vm._v(_vm._s(i.connection_name))])\n  }))], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('Button', {\n    staticStyle: {\n      \"width\": \"100px\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSubmit\n    }\n  }, [_vm._v(\"进入查询页\")])], 1)], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(210)\n}\nvar Component = __webpack_require__(1)(\n  /* script */\n  __webpack_require__(190),\n  /* template */\n  __webpack_require__(212),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/24.8820460054520c9e0dec.js","<template>\n  <div>\n    <Row>\n      <Card>\n        <div class=\"step-header-con\">\n          <h3>{{ stepData.title }}</h3>\n          <h5>{{ stepData.describe }}</h5>\n        </div>\n        <p class=\"step-content\"></p>\n        <Row>\n          <i-col span=\"8\">\n            <Alert type=\"warning\" show-icon>\n              使用说明:\n              <span slot=\"desc\">\n              1.目前仅开放 隔离只读 环境的select权限，与生产隔离且关键字段已脱敏。\n              <br>\n              2.所有提交的查询语句均会进行后台审计记录。\n              <br>\n              3.仅支持select语句,不可使用非查询语句。\n              <br>\n              4.已限制最大limit 100，如自己输入的limit数大于平台配置的最大limit数则已平台配置的Limit数为准。\n            </span>\n            </Alert>\n          </i-col>\n          <i-col span=\"6\">\n            <Form ref=\"step\" :model=\"step\" :rules=\"stepRules\" :label-width=\"150\">\n              <FormItem label=\"环境:\" prop=\"computer_room\">\n                <Select v-model=\"step.computer_room\"  @on-change=\"Connection_Name\">\n                  <Option v-for=\"i in datalist.computer_roomlist\" :key=\"i\" :value=\"i\">{{i}}</Option>\n                </Select>\n              </FormItem>\n              <Form-item label=\"业务信息:\" prop=\"connection_name\">\n                <Select v-model=\"step.connection_name\" filterable>\n                  <Option v-for=\"i in datalist.connection_name_list\" :value=\"i.connection_name\" :key=\"i.connection_name\">{{ i.connection_name }}</Option>\n                </Select>\n              </Form-item>\n              <FormItem label=\"\">\n                <Button @click=\"handleSubmit\" style=\"width:100px;\" type=\"primary\">进入查询页</Button>\n              </FormItem>\n            </Form>\n          </i-col>\n        </Row>\n      </Card>\n    </Row>\n  </div>\n</template>\n\n<script>\n  //\n  import axios from 'axios'\n  import util from '../../libs/util'\n\n  export default {\n    name: 'work_flow',\n    props: ['msg'],\n    data () {\n      return {\n        stepData: {\n          title: '比心数据库集中查询平台',\n          describe: `欢迎你！ ${sessionStorage.getItem('user')}`\n        },\n        step: {\n          remark: '',\n          computer_room: '',\n          connection_name: ''\n        },\n        stepList1: [\n          {\n            title: '提交',\n            describe: '提交查询申请'\n          },\n          {\n            title: '审核',\n            describe: '等待审核结果'\n          },\n          {\n            title: '查询',\n            describe: '审核完毕，进入查询页面'\n          }\n        ],\n        stepRules: {\n          computer_room: [{\n            required: true,\n            message: '环境地址不得为空',\n            trigger: 'change'\n          }],\n          connection_name: [{\n            required: true,\n            message: '业务信息不得为空',\n            trigger: 'change'\n          }],\n          basename: [{\n            required: true,\n            message: '数据库名不得为空',\n            trigger: 'change'\n          }]\n        },\n        item: {},\n        datalist: {\n          connection_name_list: [],\n          basenamelist: [],\n          sqllist: [],\n          computer_roomlist: util.computer_room\n        }\n      }\n    },\n    methods: {\n      Connection_Name (val) {\n        this.datalist.connection_name_list = []\n        this.datalist.basenamelist = []\n        this.step.connection_name = ''\n        this.step.basename = ''\n        if (val) {\n          this.ScreenConnection(val)\n        }\n      },\n      ScreenConnection (val) {\n        this.datalist.connection_name_list = this.item.filter(item => {\n          if (item.computer_room === val) {\n            this.$set(this.step, 'connection_name', item.connection_name)\n            return item\n          }\n        })\n      },\n      handleSubmit () {\n        this.$refs['step'].validate((valid) => {\n          if (valid) {\n            axios.put(`${util.url}/query_worklf`, {\n              'mode': 'put',\n              'connection_name': this.step.connection_name,\n              'computer_room': this.step.computer_room\n            })\n              .then(() => {\n                this.$router.push({\n                  name: 'queryready'\n                })\n              })\n          }\n        })\n      }\n    },\n    mounted () {\n      axios.put(`${util.url}/workorder/connection`, {'permissions_type': 'query'})\n        .then(res => {\n          this.item = res.data['connection']\n          this.datalist.computer_roomlist = res.data['custom']\n          this.$set(this.step, 'computer_room', this.datalist.computer_roomlist[2])\n          this.ScreenConnection(this.datalist.computer_roomlist[2])\n        })\n        .catch(error => {\n          util.err_notice(error)\n        })\n      axios.put(`${util.url}/query_worklf`, {'mode': 'status'})\n        .then(res => {\n          if (res.data === 1) {\n            this.$router.push({\n              name: 'querypage'\n            })\n          } else if (res.data === 2) {\n            this.$router.push({\n              name: 'queryready'\n            })\n          }\n        })\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  .step {\n    &-header-con {\n      text-align: center;\n      h3 {\n        margin: 10px 0;\n      }\n      h5 {\n        margin: 0 0 5px;\n      }\n    }\n    &-content {\n      padding: 5px 20px 26px;\n      margin-bottom: 20px;\n      border-bottom: 1px solid #dbdddf;\n    }\n    &-form {\n      padding-bottom: 10px;\n      border-bottom: 1px solid #dbdddf;\n      margin-bottom: 20px;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// workFlow.vue?59353d5e","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".step-header-con{text-align:center}.step-header-con h3{margin:10px 0}.step-header-con h5{margin:0 0 5px}.step-content{padding:5px 20px 26px}.step-content,.step-form{margin-bottom:20px;border-bottom:1px solid #dbdddf}.step-form{padding-bottom:10px}\", \"\", {\"version\":3,\"sources\":[\"/Users/vincent/Desktop/ypp_sql/webpage/src/components/Search/workFlow.vue\"],\"names\":[],\"mappings\":\"AACA,iBACE,iBAAmB,CACpB,AACD,oBACE,aAAe,CAChB,AACD,oBACE,cAAgB,CACjB,AACD,cACE,qBAAuB,CAGxB,AACD,yBAHE,mBAAoB,AACpB,+BAAiC,CAMlC,AAJD,WACE,mBAAqB,CAGtB\",\"file\":\"workFlow.vue\",\"sourcesContent\":[\"\\n.step-header-con {\\n  text-align: center;\\n}\\n.step-header-con h3 {\\n  margin: 10px 0;\\n}\\n.step-header-con h5 {\\n  margin: 0 0 5px;\\n}\\n.step-content {\\n  padding: 5px 20px 26px;\\n  margin-bottom: 20px;\\n  border-bottom: 1px solid #dbdddf;\\n}\\n.step-form {\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid #dbdddf;\\n  margin-bottom: 20px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1e51e312\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Search/workFlow.vue\n// module id = 191\n// module chunks = 1 24","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e51e312\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./workFlow.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"dfec1238\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-1e51e312\",\"scoped\":false,\"hasInlineConfig\":false}!./~/less-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Search/workFlow.vue\n// module id = 210\n// module chunks = 1 24","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Row', [_c('Card', [_c('div', {\n    staticClass: \"step-header-con\"\n  }, [_c('h3', [_vm._v(_vm._s(_vm.stepData.title))]), _vm._v(\" \"), _c('h5', [_vm._v(_vm._s(_vm.stepData.describe))])]), _vm._v(\" \"), _c('p', {\n    staticClass: \"step-content\"\n  }), _vm._v(\" \"), _c('Row', [_c('i-col', {\n    attrs: {\n      \"span\": \"8\"\n    }\n  }, [_c('Alert', {\n    attrs: {\n      \"type\": \"warning\",\n      \"show-icon\": \"\"\n    }\n  }, [_vm._v(\"\\n            使用说明:\\n            \"), _c('span', {\n    attrs: {\n      \"slot\": \"desc\"\n    },\n    slot: \"desc\"\n  }, [_vm._v(\"\\n            1.目前仅开放 隔离只读 环境的select权限，与生产隔离且关键字段已脱敏。\\n            \"), _c('br'), _vm._v(\"\\n            2.所有提交的查询语句均会进行后台审计记录。\\n            \"), _c('br'), _vm._v(\"\\n            3.仅支持select语句,不可使用非查询语句。\\n            \"), _c('br'), _vm._v(\"\\n            4.已限制最大limit 100，如自己输入的limit数大于平台配置的最大limit数则已平台配置的Limit数为准。\\n          \")])])], 1), _vm._v(\" \"), _c('i-col', {\n    attrs: {\n      \"span\": \"6\"\n    }\n  }, [_c('Form', {\n    ref: \"step\",\n    attrs: {\n      \"model\": _vm.step,\n      \"rules\": _vm.stepRules,\n      \"label-width\": 150\n    }\n  }, [_c('FormItem', {\n    attrs: {\n      \"label\": \"环境:\",\n      \"prop\": \"computer_room\"\n    }\n  }, [_c('Select', {\n    on: {\n      \"on-change\": _vm.Connection_Name\n    },\n    model: {\n      value: (_vm.step.computer_room),\n      callback: function($$v) {\n        _vm.$set(_vm.step, \"computer_room\", $$v)\n      },\n      expression: \"step.computer_room\"\n    }\n  }, _vm._l((_vm.datalist.computer_roomlist), function(i) {\n    return _c('Option', {\n      key: i,\n      attrs: {\n        \"value\": i\n      }\n    }, [_vm._v(_vm._s(i))])\n  }))], 1), _vm._v(\" \"), _c('Form-item', {\n    attrs: {\n      \"label\": \"业务信息:\",\n      \"prop\": \"connection_name\"\n    }\n  }, [_c('Select', {\n    attrs: {\n      \"filterable\": \"\"\n    },\n    model: {\n      value: (_vm.step.connection_name),\n      callback: function($$v) {\n        _vm.$set(_vm.step, \"connection_name\", $$v)\n      },\n      expression: \"step.connection_name\"\n    }\n  }, _vm._l((_vm.datalist.connection_name_list), function(i) {\n    return _c('Option', {\n      key: i.connection_name,\n      attrs: {\n        \"value\": i.connection_name\n      }\n    }, [_vm._v(_vm._s(i.connection_name))])\n  }))], 1), _vm._v(\" \"), _c('FormItem', {\n    attrs: {\n      \"label\": \"\"\n    }\n  }, [_c('Button', {\n    staticStyle: {\n      \"width\": \"100px\"\n    },\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleSubmit\n    }\n  }, [_vm._v(\"进入查询页\")])], 1)], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e51e312\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Search/workFlow.vue\n// module id = 212\n// module chunks = 1 24","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e51e312\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./workFlow.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./workFlow.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e51e312\\\",\\\"hasScoped\\\":false}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./workFlow.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Search/workFlow.vue\n// module id = 77\n// module chunks = 1 24"],"sourceRoot":""}